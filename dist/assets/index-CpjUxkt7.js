var Ip=n=>{throw TypeError(n)};var Lc=(n,t,s)=>t.has(n)||Ip("Cannot "+s);var C=(n,t,s)=>(Lc(n,t,"read from private field"),s?s.call(n):t.get(n)),me=(n,t,s)=>t.has(n)?Ip("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,s),ee=(n,t,s,o)=>(Lc(n,t,"write to private field"),o?o.call(n,s):t.set(n,s),s),ke=(n,t,s)=>(Lc(n,t,"access private method"),s);var bi=(n,t,s,o)=>({set _(l){ee(n,t,l,s)},get _(){return C(n,t,o)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();var Ic={exports:{}},Wa={},Bc={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function Yg(){if(Bp)return Ee;Bp=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function w(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,j={};function k(A,O,J){this.props=A,this.context=O,this.refs=j,this.updater=J||b}k.prototype.isReactComponent={},k.prototype.setState=function(A,O){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,O,"setState")},k.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function U(){}U.prototype=k.prototype;function T(A,O,J){this.props=A,this.context=O,this.refs=j,this.updater=J||b}var P=T.prototype=new U;P.constructor=T,E(P,k.prototype),P.isPureReactComponent=!0;var B=Array.isArray,K=Object.prototype.hasOwnProperty,W={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function X(A,O,J){var se,ye={},Ae=null,L=null;if(O!=null)for(se in O.ref!==void 0&&(L=O.ref),O.key!==void 0&&(Ae=""+O.key),O)K.call(O,se)&&!V.hasOwnProperty(se)&&(ye[se]=O[se]);var M=arguments.length-2;if(M===1)ye.children=J;else if(1<M){for(var ue=Array(M),Ce=0;Ce<M;Ce++)ue[Ce]=arguments[Ce+2];ye.children=ue}if(A&&A.defaultProps)for(se in M=A.defaultProps,M)ye[se]===void 0&&(ye[se]=M[se]);return{$$typeof:n,type:A,key:Ae,ref:L,props:ye,_owner:W.current}}function ae(A,O){return{$$typeof:n,type:A.type,key:O,ref:A.ref,props:A.props,_owner:A._owner}}function oe(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function Y(A){var O={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(J){return O[J]})}var ge=/\/+/g;function Se(A,O){return typeof A=="object"&&A!==null&&A.key!=null?Y(""+A.key):O.toString(36)}function Re(A,O,J,se,ye){var Ae=typeof A;(Ae==="undefined"||Ae==="boolean")&&(A=null);var L=!1;if(A===null)L=!0;else switch(Ae){case"string":case"number":L=!0;break;case"object":switch(A.$$typeof){case n:case t:L=!0}}if(L)return L=A,ye=ye(L),A=se===""?"."+Se(L,0):se,B(ye)?(J="",A!=null&&(J=A.replace(ge,"$&/")+"/"),Re(ye,O,J,"",function(Ce){return Ce})):ye!=null&&(oe(ye)&&(ye=ae(ye,J+(!ye.key||L&&L.key===ye.key?"":(""+ye.key).replace(ge,"$&/")+"/")+A)),O.push(ye)),1;if(L=0,se=se===""?".":se+":",B(A))for(var M=0;M<A.length;M++){Ae=A[M];var ue=se+Se(Ae,M);L+=Re(Ae,O,J,ue,ye)}else if(ue=w(A),typeof ue=="function")for(A=ue.call(A),M=0;!(Ae=A.next()).done;)Ae=Ae.value,ue=se+Se(Ae,M++),L+=Re(Ae,O,J,ue,ye);else if(Ae==="object")throw O=String(A),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return L}function Ve(A,O,J){if(A==null)return A;var se=[],ye=0;return Re(A,se,"","",function(Ae){return O.call(J,Ae,ye++)}),se}function Le(A){if(A._status===-1){var O=A._result;O=O(),O.then(function(J){(A._status===0||A._status===-1)&&(A._status=1,A._result=J)},function(J){(A._status===0||A._status===-1)&&(A._status=2,A._result=J)}),A._status===-1&&(A._status=0,A._result=O)}if(A._status===1)return A._result.default;throw A._result}var je={current:null},$={transition:null},re={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:$,ReactCurrentOwner:W};function G(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:Ve,forEach:function(A,O,J){Ve(A,function(){O.apply(this,arguments)},J)},count:function(A){var O=0;return Ve(A,function(){O++}),O},toArray:function(A){return Ve(A,function(O){return O})||[]},only:function(A){if(!oe(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Ee.Component=k,Ee.Fragment=s,Ee.Profiler=l,Ee.PureComponent=T,Ee.StrictMode=o,Ee.Suspense=m,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,Ee.act=G,Ee.cloneElement=function(A,O,J){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var se=E({},A.props),ye=A.key,Ae=A.ref,L=A._owner;if(O!=null){if(O.ref!==void 0&&(Ae=O.ref,L=W.current),O.key!==void 0&&(ye=""+O.key),A.type&&A.type.defaultProps)var M=A.type.defaultProps;for(ue in O)K.call(O,ue)&&!V.hasOwnProperty(ue)&&(se[ue]=O[ue]===void 0&&M!==void 0?M[ue]:O[ue])}var ue=arguments.length-2;if(ue===1)se.children=J;else if(1<ue){M=Array(ue);for(var Ce=0;Ce<ue;Ce++)M[Ce]=arguments[Ce+2];se.children=M}return{$$typeof:n,type:A.type,key:ye,ref:Ae,props:se,_owner:L}},Ee.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},Ee.createElement=X,Ee.createFactory=function(A){var O=X.bind(null,A);return O.type=A,O},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(A){return{$$typeof:f,render:A}},Ee.isValidElement=oe,Ee.lazy=function(A){return{$$typeof:x,_payload:{_status:-1,_result:A},_init:Le}},Ee.memo=function(A,O){return{$$typeof:g,type:A,compare:O===void 0?null:O}},Ee.startTransition=function(A){var O=$.transition;$.transition={};try{A()}finally{$.transition=O}},Ee.unstable_act=G,Ee.useCallback=function(A,O){return je.current.useCallback(A,O)},Ee.useContext=function(A){return je.current.useContext(A)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(A){return je.current.useDeferredValue(A)},Ee.useEffect=function(A,O){return je.current.useEffect(A,O)},Ee.useId=function(){return je.current.useId()},Ee.useImperativeHandle=function(A,O,J){return je.current.useImperativeHandle(A,O,J)},Ee.useInsertionEffect=function(A,O){return je.current.useInsertionEffect(A,O)},Ee.useLayoutEffect=function(A,O){return je.current.useLayoutEffect(A,O)},Ee.useMemo=function(A,O){return je.current.useMemo(A,O)},Ee.useReducer=function(A,O,J){return je.current.useReducer(A,O,J)},Ee.useRef=function(A){return je.current.useRef(A)},Ee.useState=function(A){return je.current.useState(A)},Ee.useSyncExternalStore=function(A,O,J){return je.current.useSyncExternalStore(A,O,J)},Ee.useTransition=function(){return je.current.useTransition()},Ee.version="18.3.1",Ee}var $p;function Tu(){return $p||($p=1,Bc.exports=Yg()),Bc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function Xg(){if(Mp)return Wa;Mp=1;var n=Tu(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(f,m,g){var x,y={},w=null,b=null;g!==void 0&&(w=""+g),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(b=m.ref);for(x in m)o.call(m,x)&&!c.hasOwnProperty(x)&&(y[x]=m[x]);if(f&&f.defaultProps)for(x in m=f.defaultProps,m)y[x]===void 0&&(y[x]=m[x]);return{$$typeof:t,type:f,key:w,ref:b,props:y,_owner:l.current}}return Wa.Fragment=s,Wa.jsx=d,Wa.jsxs=d,Wa}var zp;function Zg(){return zp||(zp=1,Ic.exports=Xg()),Ic.exports}var p=Zg(),_=Tu(),Ci={},$c={exports:{}},Ot={},Mc={exports:{}},zc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function ev(){return qp||(qp=1,(function(n){function t($,re){var G=$.length;$.push(re);e:for(;0<G;){var A=G-1>>>1,O=$[A];if(0<l(O,re))$[A]=re,$[G]=O,G=A;else break e}}function s($){return $.length===0?null:$[0]}function o($){if($.length===0)return null;var re=$[0],G=$.pop();if(G!==re){$[0]=G;e:for(var A=0,O=$.length,J=O>>>1;A<J;){var se=2*(A+1)-1,ye=$[se],Ae=se+1,L=$[Ae];if(0>l(ye,G))Ae<O&&0>l(L,ye)?($[A]=L,$[Ae]=G,A=Ae):($[A]=ye,$[se]=G,A=se);else if(Ae<O&&0>l(L,G))$[A]=L,$[Ae]=G,A=Ae;else break e}}return re}function l($,re){var G=$.sortIndex-re.sortIndex;return G!==0?G:$.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();n.unstable_now=function(){return d.now()-f}}var m=[],g=[],x=1,y=null,w=3,b=!1,E=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P($){for(var re=s(g);re!==null;){if(re.callback===null)o(g);else if(re.startTime<=$)o(g),re.sortIndex=re.expirationTime,t(m,re);else break;re=s(g)}}function B($){if(j=!1,P($),!E)if(s(m)!==null)E=!0,Le(K);else{var re=s(g);re!==null&&je(B,re.startTime-$)}}function K($,re){E=!1,j&&(j=!1,U(X),X=-1),b=!0;var G=w;try{for(P(re),y=s(m);y!==null&&(!(y.expirationTime>re)||$&&!Y());){var A=y.callback;if(typeof A=="function"){y.callback=null,w=y.priorityLevel;var O=A(y.expirationTime<=re);re=n.unstable_now(),typeof O=="function"?y.callback=O:y===s(m)&&o(m),P(re)}else o(m);y=s(m)}if(y!==null)var J=!0;else{var se=s(g);se!==null&&je(B,se.startTime-re),J=!1}return J}finally{y=null,w=G,b=!1}}var W=!1,V=null,X=-1,ae=5,oe=-1;function Y(){return!(n.unstable_now()-oe<ae)}function ge(){if(V!==null){var $=n.unstable_now();oe=$;var re=!0;try{re=V(!0,$)}finally{re?Se():(W=!1,V=null)}}else W=!1}var Se;if(typeof T=="function")Se=function(){T(ge)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Ve=Re.port2;Re.port1.onmessage=ge,Se=function(){Ve.postMessage(null)}}else Se=function(){k(ge,0)};function Le($){V=$,W||(W=!0,Se())}function je($,re){X=k(function(){$(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){E||b||(E=!0,Le(K))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return s(m)},n.unstable_next=function($){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var G=w;w=re;try{return $()}finally{w=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=w;w=$;try{return re()}finally{w=G}},n.unstable_scheduleCallback=function($,re,G){var A=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?A+G:A):G=A,$){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=G+O,$={id:x++,callback:re,priorityLevel:$,startTime:G,expirationTime:O,sortIndex:-1},G>A?($.sortIndex=G,t(g,$),s(m)===null&&$===s(g)&&(j?(U(X),X=-1):j=!0,je(B,G-A))):($.sortIndex=O,t(m,$),E||b||(E=!0,Le(K))),$},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function($){var re=w;return function(){var G=w;w=re;try{return $.apply(this,arguments)}finally{w=G}}}})(zc)),zc}var Vp;function tv(){return Vp||(Vp=1,Mc.exports=ev()),Mc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function rv(){if(Wp)return Ot;Wp=1;var n=Tu(),t=tv();function s(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(e,r){d(e,r),d(e+"Capture",r)}function d(e,r){for(l[e]=r,e=0;e<r.length;e++)o.add(r[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},y={};function w(e){return m.call(y,e)?!0:m.call(x,e)?!1:g.test(e)?y[e]=!0:(x[e]=!0,!1)}function b(e,r,a,i){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return i?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E(e,r,a,i){if(r===null||typeof r>"u"||b(e,r,a,i))return!0;if(i)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function j(e,r,a,i,u,h,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=i,this.attributeNamespace=u,this.mustUseProperty=a,this.propertyName=e,this.type=r,this.sanitizeURL=h,this.removeEmptyString=v}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new j(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];k[r]=new j(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new j(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new j(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new j(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new j(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function T(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(U,T);k[r]=new j(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(U,T);k[r]=new j(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(U,T);k[r]=new j(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)});function P(e,r,a,i){var u=k.hasOwnProperty(r)?k[r]:null;(u!==null?u.type!==0:i||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(E(r,a,u,i)&&(a=null),i||u===null?w(r)&&(a===null?e.removeAttribute(r):e.setAttribute(r,""+a)):u.mustUseProperty?e[u.propertyName]=a===null?u.type===3?!1:"":a:(r=u.attributeName,i=u.attributeNamespace,a===null?e.removeAttribute(r):(u=u.type,a=u===3||u===4&&a===!0?"":""+a,i?e.setAttributeNS(i,r,a):e.setAttribute(r,a))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),W=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),Y=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),$=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var G=Object.assign,A;function O(e){if(A===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);A=r&&r[1]||""}return`
`+A+e}var J=!1;function se(e,r){if(!e||J)return"";J=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(I){var i=I}Reflect.construct(e,[],r)}else{try{r.call()}catch(I){i=I}e.call(r.prototype)}else{try{throw Error()}catch(I){i=I}e()}}catch(I){if(I&&i&&typeof I.stack=="string"){for(var u=I.stack.split(`
`),h=i.stack.split(`
`),v=u.length-1,F=h.length-1;1<=v&&0<=F&&u[v]!==h[F];)F--;for(;1<=v&&0<=F;v--,F--)if(u[v]!==h[F]){if(v!==1||F!==1)do if(v--,F--,0>F||u[v]!==h[F]){var S=`
`+u[v].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=v&&0<=F);break}}}finally{J=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?O(e):""}function ye(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function Ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case W:return"Portal";case ae:return"Profiler";case X:return"StrictMode";case Se:return"Suspense";case Re:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y:return(e.displayName||"Context")+".Consumer";case oe:return(e._context.displayName||"Context")+".Provider";case ge:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ve:return r=e.displayName||null,r!==null?r:Ae(e.type)||"Memo";case Le:r=e._payload,e=e._init;try{return Ae(e(r))}catch{}}return null}function L(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(r);case 8:return r===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function M(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ue(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ce(e){var r=ue(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),i=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,h=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return u.call(this)},set:function(v){i=""+v,h.call(this,v)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Qe(e){e._valueTracker||(e._valueTracker=Ce(e))}function or(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),i="";return e&&(i=ue(e)?e.checked?"true":"false":e.value),e=i,e!==a?(r.setValue(e),!0):!1}function it(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fe(e,r){var a=r.checked;return G({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function be(e,r){var a=r.defaultValue==null?"":r.defaultValue,i=r.checked!=null?r.checked:r.defaultChecked;a=M(r.value!=null?r.value:a),e._wrapperState={initialChecked:i,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Z(e,r){r=r.checked,r!=null&&P(e,"checked",r,!1)}function ie(e,r){Z(e,r);var a=M(r.value),i=r.type;if(a!=null)i==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?rt(e,r.type,a):r.hasOwnProperty("defaultValue")&&rt(e,r.type,M(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Pe(e,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var i=r.type;if(!(i!=="submit"&&i!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,a||r===e.value||(e.value=r),e.defaultValue=r}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function rt(e,r,a){(r!=="number"||it(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var We=Array.isArray;function Xe(e,r,a,i){if(e=e.options,r){r={};for(var u=0;u<a.length;u++)r["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=r.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&i&&(e[a].defaultSelected=!0)}else{for(a=""+M(a),r=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}r!==null||e[u].disabled||(r=e[u])}r!==null&&(r.selected=!0)}}function Me(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return G({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dt(e,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(s(92));if(We(a)){if(1<a.length)throw Error(s(93));a=a[0]}r=a}r==null&&(r=""),a=r}e._wrapperState={initialValue:M(a)}}function Mt(e,r){var a=M(r.value),i=M(r.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),r.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),i!=null&&(e.defaultValue=""+i)}function Qr(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function oa(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yr(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?oa(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var is,ls=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,i,u){MSApp.execUnsafeLocalFunction(function(){return e(r,a,i,u)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(is=is||document.createElement("div"),is.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=is.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function ia(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var la={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tm=["Webkit","ms","Moz","O"];Object.keys(la).forEach(function(e){tm.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),la[r]=la[e]})});function Zu(e,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||la.hasOwnProperty(e)&&la[e]?(""+r).trim():r+"px"}function e2(e,r){e=e.style;for(var a in r)if(r.hasOwnProperty(a)){var i=a.indexOf("--")===0,u=Zu(a,r[a],i);a==="float"&&(a="cssFloat"),i?e.setProperty(a,u):e[a]=u}}var rm=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gi(e,r){if(r){if(rm[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function Ji(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yi=null;function Xi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zi=null,cs=null,us=null;function t2(e){if(e=Da(e)){if(typeof Zi!="function")throw Error(s(280));var r=e.stateNode;r&&(r=Io(r),Zi(e.stateNode,e.type,r))}}function r2(e){cs?us?us.push(e):us=[e]:cs=e}function n2(){if(cs){var e=cs,r=us;if(us=cs=null,t2(e),r)for(e=0;e<r.length;e++)t2(r[e])}}function s2(e,r){return e(r)}function a2(){}var el=!1;function o2(e,r,a){if(el)return e(r,a);el=!0;try{return s2(e,r,a)}finally{el=!1,(cs!==null||us!==null)&&(a2(),n2())}}function ca(e,r){var a=e.stateNode;if(a===null)return null;var i=Io(a);if(i===null)return null;a=i[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var tl=!1;if(f)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){tl=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{tl=!1}function nm(e,r,a,i,u,h,v,F,S){var I=Array.prototype.slice.call(arguments,3);try{r.apply(a,I)}catch(q){this.onError(q)}}var da=!1,go=null,vo=!1,rl=null,sm={onError:function(e){da=!0,go=e}};function am(e,r,a,i,u,h,v,F,S){da=!1,go=null,nm.apply(sm,arguments)}function om(e,r,a,i,u,h,v,F,S){if(am.apply(this,arguments),da){if(da){var I=go;da=!1,go=null}else throw Error(s(198));vo||(vo=!0,rl=I)}}function jn(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function i2(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function l2(e){if(jn(e)!==e)throw Error(s(188))}function im(e){var r=e.alternate;if(!r){if(r=jn(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,i=r;;){var u=a.return;if(u===null)break;var h=u.alternate;if(h===null){if(i=u.return,i!==null){a=i;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===a)return l2(u),e;if(h===i)return l2(u),r;h=h.sibling}throw Error(s(188))}if(a.return!==i.return)a=u,i=h;else{for(var v=!1,F=u.child;F;){if(F===a){v=!0,a=u,i=h;break}if(F===i){v=!0,i=u,a=h;break}F=F.sibling}if(!v){for(F=h.child;F;){if(F===a){v=!0,a=h,i=u;break}if(F===i){v=!0,i=h,a=u;break}F=F.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==i)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function c2(e){return e=im(e),e!==null?u2(e):null}function u2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=u2(e);if(r!==null)return r;e=e.sibling}return null}var d2=t.unstable_scheduleCallback,p2=t.unstable_cancelCallback,lm=t.unstable_shouldYield,cm=t.unstable_requestPaint,nt=t.unstable_now,um=t.unstable_getCurrentPriorityLevel,nl=t.unstable_ImmediatePriority,h2=t.unstable_UserBlockingPriority,xo=t.unstable_NormalPriority,dm=t.unstable_LowPriority,f2=t.unstable_IdlePriority,yo=null,wr=null;function pm(e){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(yo,e,void 0,(e.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:mm,hm=Math.log,fm=Math.LN2;function mm(e){return e>>>=0,e===0?32:31-(hm(e)/fm|0)|0}var wo=64,Fo=4194304;function pa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _o(e,r){var a=e.pendingLanes;if(a===0)return 0;var i=0,u=e.suspendedLanes,h=e.pingedLanes,v=a&268435455;if(v!==0){var F=v&~u;F!==0?i=pa(F):(h&=v,h!==0&&(i=pa(h)))}else v=a&~u,v!==0?i=pa(v):h!==0&&(i=pa(h));if(i===0)return 0;if(r!==0&&r!==i&&(r&u)===0&&(u=i&-i,h=r&-r,u>=h||u===16&&(h&4194240)!==0))return r;if((i&4)!==0&&(i|=a&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=i;0<r;)a=31-ir(r),u=1<<a,i|=e[a],r&=~u;return i}function gm(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vm(e,r){for(var a=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes;0<h;){var v=31-ir(h),F=1<<v,S=u[v];S===-1?((F&a)===0||(F&i)!==0)&&(u[v]=gm(F,r)):S<=r&&(e.expiredLanes|=F),h&=~F}}function sl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function m2(){var e=wo;return wo<<=1,(wo&4194240)===0&&(wo=64),e}function al(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function ha(e,r,a){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-ir(r),e[r]=a}function xm(e,r){var a=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<a;){var u=31-ir(a),h=1<<u;r[u]=0,i[u]=-1,e[u]=-1,a&=~h}}function ol(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var i=31-ir(a),u=1<<i;u&r|e[i]&r&&(e[i]|=r),a&=~u}}var Ie=0;function g2(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var v2,il,x2,y2,w2,ll=!1,bo=[],Gr=null,Jr=null,Yr=null,fa=new Map,ma=new Map,Xr=[],ym="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F2(e,r){switch(e){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":fa.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ma.delete(r.pointerId)}}function ga(e,r,a,i,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:r,domEventName:a,eventSystemFlags:i,nativeEvent:h,targetContainers:[u]},r!==null&&(r=Da(r),r!==null&&il(r)),e):(e.eventSystemFlags|=i,r=e.targetContainers,u!==null&&r.indexOf(u)===-1&&r.push(u),e)}function wm(e,r,a,i,u){switch(r){case"focusin":return Gr=ga(Gr,e,r,a,i,u),!0;case"dragenter":return Jr=ga(Jr,e,r,a,i,u),!0;case"mouseover":return Yr=ga(Yr,e,r,a,i,u),!0;case"pointerover":var h=u.pointerId;return fa.set(h,ga(fa.get(h)||null,e,r,a,i,u)),!0;case"gotpointercapture":return h=u.pointerId,ma.set(h,ga(ma.get(h)||null,e,r,a,i,u)),!0}return!1}function _2(e){var r=Dn(e.target);if(r!==null){var a=jn(r);if(a!==null){if(r=a.tag,r===13){if(r=i2(a),r!==null){e.blockedOn=r,w2(e.priority,function(){x2(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Co(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=ul(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);Yi=i,a.target.dispatchEvent(i),Yi=null}else return r=Da(a),r!==null&&il(r),e.blockedOn=a,!1;r.shift()}return!0}function b2(e,r,a){Co(e)&&a.delete(r)}function Fm(){ll=!1,Gr!==null&&Co(Gr)&&(Gr=null),Jr!==null&&Co(Jr)&&(Jr=null),Yr!==null&&Co(Yr)&&(Yr=null),fa.forEach(b2),ma.forEach(b2)}function va(e,r){e.blockedOn===r&&(e.blockedOn=null,ll||(ll=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Fm)))}function xa(e){function r(u){return va(u,e)}if(0<bo.length){va(bo[0],e);for(var a=1;a<bo.length;a++){var i=bo[a];i.blockedOn===e&&(i.blockedOn=null)}}for(Gr!==null&&va(Gr,e),Jr!==null&&va(Jr,e),Yr!==null&&va(Yr,e),fa.forEach(r),ma.forEach(r),a=0;a<Xr.length;a++)i=Xr[a],i.blockedOn===e&&(i.blockedOn=null);for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)_2(a),a.blockedOn===null&&Xr.shift()}var ds=B.ReactCurrentBatchConfig,Ao=!0;function _m(e,r,a,i){var u=Ie,h=ds.transition;ds.transition=null;try{Ie=1,cl(e,r,a,i)}finally{Ie=u,ds.transition=h}}function bm(e,r,a,i){var u=Ie,h=ds.transition;ds.transition=null;try{Ie=4,cl(e,r,a,i)}finally{Ie=u,ds.transition=h}}function cl(e,r,a,i){if(Ao){var u=ul(e,r,a,i);if(u===null)kl(e,r,i,So,a),F2(e,i);else if(wm(u,e,r,a,i))i.stopPropagation();else if(F2(e,i),r&4&&-1<ym.indexOf(e)){for(;u!==null;){var h=Da(u);if(h!==null&&v2(h),h=ul(e,r,a,i),h===null&&kl(e,r,i,So,a),h===u)break;u=h}u!==null&&i.stopPropagation()}else kl(e,r,i,null,a)}}var So=null;function ul(e,r,a,i){if(So=null,e=Xi(i),e=Dn(e),e!==null)if(r=jn(e),r===null)e=null;else if(a=r.tag,a===13){if(e=i2(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return So=e,null}function C2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(um()){case nl:return 1;case h2:return 4;case xo:case dm:return 16;case f2:return 536870912;default:return 16}default:return 16}}var Zr=null,dl=null,ko=null;function A2(){if(ko)return ko;var e,r=dl,a=r.length,i,u="value"in Zr?Zr.value:Zr.textContent,h=u.length;for(e=0;e<a&&r[e]===u[e];e++);var v=a-e;for(i=1;i<=v&&r[a-i]===u[h-i];i++);return ko=u.slice(e,1<i?1-i:void 0)}function Eo(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function jo(){return!0}function S2(){return!1}function zt(e){function r(a,i,u,h,v){this._reactName=a,this._targetInst=u,this.type=i,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var F in e)e.hasOwnProperty(F)&&(a=e[F],this[F]=a?a(h):h[F]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?jo:S2,this.isPropagationStopped=S2,this}return G(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),r}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=zt(ps),ya=G({},ps,{view:0,detail:0}),Cm=zt(ya),hl,fl,wa,Do=G({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wa&&(wa&&e.type==="mousemove"?(hl=e.screenX-wa.screenX,fl=e.screenY-wa.screenY):fl=hl=0,wa=e),hl)},movementY:function(e){return"movementY"in e?e.movementY:fl}}),k2=zt(Do),Am=G({},Do,{dataTransfer:0}),Sm=zt(Am),km=G({},ya,{relatedTarget:0}),ml=zt(km),Em=G({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),jm=zt(Em),Dm=G({},ps,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pm=zt(Dm),Nm=G({},ps,{data:0}),E2=zt(Nm),Rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Um={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Om(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Um[e])?!!r[e]:!1}function gl(){return Om}var Lm=G({},ya,{key:function(e){if(e.key){var r=Rm[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Eo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gl,charCode:function(e){return e.type==="keypress"?Eo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Eo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Im=zt(Lm),Bm=G({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j2=zt(Bm),$m=G({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gl}),Mm=zt($m),zm=G({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),qm=zt(zm),Vm=G({},Do,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wm=zt(Vm),Hm=[9,13,27,32],vl=f&&"CompositionEvent"in window,Fa=null;f&&"documentMode"in document&&(Fa=document.documentMode);var Km=f&&"TextEvent"in window&&!Fa,D2=f&&(!vl||Fa&&8<Fa&&11>=Fa),P2=" ",N2=!1;function R2(e,r){switch(e){case"keyup":return Hm.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hs=!1;function Qm(e,r){switch(e){case"compositionend":return T2(r);case"keypress":return r.which!==32?null:(N2=!0,P2);case"textInput":return e=r.data,e===P2&&N2?null:e;default:return null}}function Gm(e,r){if(hs)return e==="compositionend"||!vl&&R2(e,r)?(e=A2(),ko=dl=Zr=null,hs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return D2&&r.locale!=="ko"?null:r.data;default:return null}}var Jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U2(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Jm[e.type]:r==="textarea"}function O2(e,r,a,i){r2(i),r=Uo(r,"onChange"),0<r.length&&(a=new pl("onChange","change",null,a,i),e.push({event:a,listeners:r}))}var _a=null,ba=null;function Ym(e){ed(e,0)}function Po(e){var r=xs(e);if(or(r))return e}function Xm(e,r){if(e==="change")return r}var L2=!1;if(f){var xl;if(f){var yl="oninput"in document;if(!yl){var I2=document.createElement("div");I2.setAttribute("oninput","return;"),yl=typeof I2.oninput=="function"}xl=yl}else xl=!1;L2=xl&&(!document.documentMode||9<document.documentMode)}function B2(){_a&&(_a.detachEvent("onpropertychange",$2),ba=_a=null)}function $2(e){if(e.propertyName==="value"&&Po(ba)){var r=[];O2(r,ba,e,Xi(e)),o2(Ym,r)}}function Zm(e,r,a){e==="focusin"?(B2(),_a=r,ba=a,_a.attachEvent("onpropertychange",$2)):e==="focusout"&&B2()}function eg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Po(ba)}function tg(e,r){if(e==="click")return Po(r)}function rg(e,r){if(e==="input"||e==="change")return Po(r)}function ng(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var lr=typeof Object.is=="function"?Object.is:ng;function Ca(e,r){if(lr(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),i=Object.keys(r);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var u=a[i];if(!m.call(r,u)||!lr(e[u],r[u]))return!1}return!0}function M2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function z2(e,r){var a=M2(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=r&&i>=r)return{node:a,offset:r-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=M2(a)}}function q2(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?q2(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function V2(){for(var e=window,r=it();r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=it(e.document)}return r}function wl(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function sg(e){var r=V2(),a=e.focusedElem,i=e.selectionRange;if(r!==a&&a&&a.ownerDocument&&q2(a.ownerDocument.documentElement,a)){if(i!==null&&wl(a)){if(r=i.start,e=i.end,e===void 0&&(e=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(e,a.value.length);else if(e=(r=a.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var u=a.textContent.length,h=Math.min(i.start,u);i=i.end===void 0?h:Math.min(i.end,u),!e.extend&&h>i&&(u=i,i=h,h=u),u=z2(a,h);var v=z2(a,i);u&&v&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(u.node,u.offset),e.removeAllRanges(),h>i?(e.addRange(r),e.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),e.addRange(r)))}}for(r=[],e=a;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)e=r[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ag=f&&"documentMode"in document&&11>=document.documentMode,fs=null,Fl=null,Aa=null,_l=!1;function W2(e,r,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_l||fs==null||fs!==it(i)||(i=fs,"selectionStart"in i&&wl(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Aa&&Ca(Aa,i)||(Aa=i,i=Uo(Fl,"onSelect"),0<i.length&&(r=new pl("onSelect","select",null,r,a),e.push({event:r,listeners:i}),r.target=fs)))}function No(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var ms={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionend:No("Transition","TransitionEnd")},bl={},H2={};f&&(H2=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function Ro(e){if(bl[e])return bl[e];if(!ms[e])return e;var r=ms[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in H2)return bl[e]=r[a];return e}var K2=Ro("animationend"),Q2=Ro("animationiteration"),G2=Ro("animationstart"),J2=Ro("transitionend"),Y2=new Map,X2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(e,r){Y2.set(e,r),c(r,[e])}for(var Cl=0;Cl<X2.length;Cl++){var Al=X2[Cl],og=Al.toLowerCase(),ig=Al[0].toUpperCase()+Al.slice(1);en(og,"on"+ig)}en(K2,"onAnimationEnd"),en(Q2,"onAnimationIteration"),en(G2,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(J2,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sa));function Z2(e,r,a){var i=e.type||"unknown-event";e.currentTarget=a,om(i,r,void 0,e),e.currentTarget=null}function ed(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],u=i.event;i=i.listeners;e:{var h=void 0;if(r)for(var v=i.length-1;0<=v;v--){var F=i[v],S=F.instance,I=F.currentTarget;if(F=F.listener,S!==h&&u.isPropagationStopped())break e;Z2(u,F,I),h=S}else for(v=0;v<i.length;v++){if(F=i[v],S=F.instance,I=F.currentTarget,F=F.listener,S!==h&&u.isPropagationStopped())break e;Z2(u,F,I),h=S}}}if(vo)throw e=rl,vo=!1,rl=null,e}function ze(e,r){var a=r[Rl];a===void 0&&(a=r[Rl]=new Set);var i=e+"__bubble";a.has(i)||(td(r,e,2,!1),a.add(i))}function Sl(e,r,a){var i=0;r&&(i|=4),td(a,e,i,r)}var To="_reactListening"+Math.random().toString(36).slice(2);function ka(e){if(!e[To]){e[To]=!0,o.forEach(function(a){a!=="selectionchange"&&(lg.has(a)||Sl(a,!1,e),Sl(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[To]||(r[To]=!0,Sl("selectionchange",!1,r))}}function td(e,r,a,i){switch(C2(r)){case 1:var u=_m;break;case 4:u=bm;break;default:u=cl}a=u.bind(null,r,a,e),u=void 0,!tl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(r,a,{capture:!0,passive:u}):e.addEventListener(r,a,!0):u!==void 0?e.addEventListener(r,a,{passive:u}):e.addEventListener(r,a,!1)}function kl(e,r,a,i,u){var h=i;if((r&1)===0&&(r&2)===0&&i!==null)e:for(;;){if(i===null)return;var v=i.tag;if(v===3||v===4){var F=i.stateNode.containerInfo;if(F===u||F.nodeType===8&&F.parentNode===u)break;if(v===4)for(v=i.return;v!==null;){var S=v.tag;if((S===3||S===4)&&(S=v.stateNode.containerInfo,S===u||S.nodeType===8&&S.parentNode===u))return;v=v.return}for(;F!==null;){if(v=Dn(F),v===null)return;if(S=v.tag,S===5||S===6){i=h=v;continue e}F=F.parentNode}}i=i.return}o2(function(){var I=h,q=Xi(a),H=[];e:{var z=Y2.get(e);if(z!==void 0){var ne=pl,ce=e;switch(e){case"keypress":if(Eo(a)===0)break e;case"keydown":case"keyup":ne=Im;break;case"focusin":ce="focus",ne=ml;break;case"focusout":ce="blur",ne=ml;break;case"beforeblur":case"afterblur":ne=ml;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=k2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Mm;break;case K2:case Q2:case G2:ne=jm;break;case J2:ne=qm;break;case"scroll":ne=Cm;break;case"wheel":ne=Wm;break;case"copy":case"cut":case"paste":ne=Pm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=j2}var de=(r&4)!==0,st=!de&&e==="scroll",N=de?z!==null?z+"Capture":null:z;de=[];for(var D=I,R;D!==null;){R=D;var Q=R.stateNode;if(R.tag===5&&Q!==null&&(R=Q,N!==null&&(Q=ca(D,N),Q!=null&&de.push(Ea(D,Q,R)))),st)break;D=D.return}0<de.length&&(z=new ne(z,ce,null,a,q),H.push({event:z,listeners:de}))}}if((r&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",ne=e==="mouseout"||e==="pointerout",z&&a!==Yi&&(ce=a.relatedTarget||a.fromElement)&&(Dn(ce)||ce[jr]))break e;if((ne||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,ne?(ce=a.relatedTarget||a.toElement,ne=I,ce=ce?Dn(ce):null,ce!==null&&(st=jn(ce),ce!==st||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(ne=null,ce=I),ne!==ce)){if(de=k2,Q="onMouseLeave",N="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(de=j2,Q="onPointerLeave",N="onPointerEnter",D="pointer"),st=ne==null?z:xs(ne),R=ce==null?z:xs(ce),z=new de(Q,D+"leave",ne,a,q),z.target=st,z.relatedTarget=R,Q=null,Dn(q)===I&&(de=new de(N,D+"enter",ce,a,q),de.target=R,de.relatedTarget=st,Q=de),st=Q,ne&&ce)t:{for(de=ne,N=ce,D=0,R=de;R;R=gs(R))D++;for(R=0,Q=N;Q;Q=gs(Q))R++;for(;0<D-R;)de=gs(de),D--;for(;0<R-D;)N=gs(N),R--;for(;D--;){if(de===N||N!==null&&de===N.alternate)break t;de=gs(de),N=gs(N)}de=null}else de=null;ne!==null&&rd(H,z,ne,de,!1),ce!==null&&st!==null&&rd(H,st,ce,de,!0)}}e:{if(z=I?xs(I):window,ne=z.nodeName&&z.nodeName.toLowerCase(),ne==="select"||ne==="input"&&z.type==="file")var pe=Xm;else if(U2(z))if(L2)pe=rg;else{pe=eg;var ve=Zm}else(ne=z.nodeName)&&ne.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(pe=tg);if(pe&&(pe=pe(e,I))){O2(H,pe,a,q);break e}ve&&ve(e,z,I),e==="focusout"&&(ve=z._wrapperState)&&ve.controlled&&z.type==="number"&&rt(z,"number",z.value)}switch(ve=I?xs(I):window,e){case"focusin":(U2(ve)||ve.contentEditable==="true")&&(fs=ve,Fl=I,Aa=null);break;case"focusout":Aa=Fl=fs=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,W2(H,a,q);break;case"selectionchange":if(ag)break;case"keydown":case"keyup":W2(H,a,q)}var xe;if(vl)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else hs?R2(e,a)&&(_e="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(D2&&a.locale!=="ko"&&(hs||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&hs&&(xe=A2()):(Zr=q,dl="value"in Zr?Zr.value:Zr.textContent,hs=!0)),ve=Uo(I,_e),0<ve.length&&(_e=new E2(_e,e,null,a,q),H.push({event:_e,listeners:ve}),xe?_e.data=xe:(xe=T2(a),xe!==null&&(_e.data=xe)))),(xe=Km?Qm(e,a):Gm(e,a))&&(I=Uo(I,"onBeforeInput"),0<I.length&&(q=new E2("onBeforeInput","beforeinput",null,a,q),H.push({event:q,listeners:I}),q.data=xe))}ed(H,r)})}function Ea(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Uo(e,r){for(var a=r+"Capture",i=[];e!==null;){var u=e,h=u.stateNode;u.tag===5&&h!==null&&(u=h,h=ca(e,a),h!=null&&i.unshift(Ea(e,h,u)),h=ca(e,r),h!=null&&i.push(Ea(e,h,u))),e=e.return}return i}function gs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rd(e,r,a,i,u){for(var h=r._reactName,v=[];a!==null&&a!==i;){var F=a,S=F.alternate,I=F.stateNode;if(S!==null&&S===i)break;F.tag===5&&I!==null&&(F=I,u?(S=ca(a,h),S!=null&&v.unshift(Ea(a,S,F))):u||(S=ca(a,h),S!=null&&v.push(Ea(a,S,F)))),a=a.return}v.length!==0&&e.push({event:r,listeners:v})}var cg=/\r\n?/g,ug=/\u0000|\uFFFD/g;function nd(e){return(typeof e=="string"?e:""+e).replace(cg,`
`).replace(ug,"")}function Oo(e,r,a){if(r=nd(r),nd(e)!==r&&a)throw Error(s(425))}function Lo(){}var El=null,jl=null;function Dl(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,dg=typeof clearTimeout=="function"?clearTimeout:void 0,sd=typeof Promise=="function"?Promise:void 0,pg=typeof queueMicrotask=="function"?queueMicrotask:typeof sd<"u"?function(e){return sd.resolve(null).then(e).catch(hg)}:Pl;function hg(e){setTimeout(function(){throw e})}function Nl(e,r){var a=r,i=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(i===0){e.removeChild(u),xa(r);return}i--}else a!=="$"&&a!=="$?"&&a!=="$!"||i++;a=u}while(a);xa(r)}function tn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function ad(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}var vs=Math.random().toString(36).slice(2),Fr="__reactFiber$"+vs,ja="__reactProps$"+vs,jr="__reactContainer$"+vs,Rl="__reactEvents$"+vs,fg="__reactListeners$"+vs,mg="__reactHandles$"+vs;function Dn(e){var r=e[Fr];if(r)return r;for(var a=e.parentNode;a;){if(r=a[jr]||a[Fr]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=ad(e);e!==null;){if(a=e[Fr])return a;e=ad(e)}return r}e=a,a=e.parentNode}return null}function Da(e){return e=e[Fr]||e[jr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Io(e){return e[ja]||null}var Tl=[],ys=-1;function rn(e){return{current:e}}function qe(e){0>ys||(e.current=Tl[ys],Tl[ys]=null,ys--)}function Be(e,r){ys++,Tl[ys]=e.current,e.current=r}var nn={},wt=rn(nn),Pt=rn(!1),Pn=nn;function ws(e,r){var a=e.type.contextTypes;if(!a)return nn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===r)return i.__reactInternalMemoizedMaskedChildContext;var u={},h;for(h in a)u[h]=r[h];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=u),u}function Nt(e){return e=e.childContextTypes,e!=null}function Bo(){qe(Pt),qe(wt)}function od(e,r,a){if(wt.current!==nn)throw Error(s(168));Be(wt,r),Be(Pt,a)}function id(e,r,a){var i=e.stateNode;if(r=r.childContextTypes,typeof i.getChildContext!="function")return a;i=i.getChildContext();for(var u in i)if(!(u in r))throw Error(s(108,L(e)||"Unknown",u));return G({},a,i)}function $o(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nn,Pn=wt.current,Be(wt,e),Be(Pt,Pt.current),!0}function ld(e,r,a){var i=e.stateNode;if(!i)throw Error(s(169));a?(e=id(e,r,Pn),i.__reactInternalMemoizedMergedChildContext=e,qe(Pt),qe(wt),Be(wt,e)):qe(Pt),Be(Pt,a)}var Dr=null,Mo=!1,Ul=!1;function cd(e){Dr===null?Dr=[e]:Dr.push(e)}function gg(e){Mo=!0,cd(e)}function sn(){if(!Ul&&Dr!==null){Ul=!0;var e=0,r=Ie;try{var a=Dr;for(Ie=1;e<a.length;e++){var i=a[e];do i=i(!0);while(i!==null)}Dr=null,Mo=!1}catch(u){throw Dr!==null&&(Dr=Dr.slice(e+1)),d2(nl,sn),u}finally{Ie=r,Ul=!1}}return null}var Fs=[],_s=0,zo=null,qo=0,Jt=[],Yt=0,Nn=null,Pr=1,Nr="";function Rn(e,r){Fs[_s++]=qo,Fs[_s++]=zo,zo=e,qo=r}function ud(e,r,a){Jt[Yt++]=Pr,Jt[Yt++]=Nr,Jt[Yt++]=Nn,Nn=e;var i=Pr;e=Nr;var u=32-ir(i)-1;i&=~(1<<u),a+=1;var h=32-ir(r)+u;if(30<h){var v=u-u%5;h=(i&(1<<v)-1).toString(32),i>>=v,u-=v,Pr=1<<32-ir(r)+u|a<<u|i,Nr=h+e}else Pr=1<<h|a<<u|i,Nr=e}function Ol(e){e.return!==null&&(Rn(e,1),ud(e,1,0))}function Ll(e){for(;e===zo;)zo=Fs[--_s],Fs[_s]=null,qo=Fs[--_s],Fs[_s]=null;for(;e===Nn;)Nn=Jt[--Yt],Jt[Yt]=null,Nr=Jt[--Yt],Jt[Yt]=null,Pr=Jt[--Yt],Jt[Yt]=null}var qt=null,Vt=null,He=!1,cr=null;function dd(e,r){var a=tr(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=e,r=e.deletions,r===null?(e.deletions=[a],e.flags|=16):r.push(a)}function pd(e,r){switch(e.tag){case 5:var a=e.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,qt=e,Vt=tn(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,qt=e,Vt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Nn!==null?{id:Pr,overflow:Nr}:null,e.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=tr(18,null,null,0),a.stateNode=r,a.return=e,e.child=a,qt=e,Vt=null,!0):!1;default:return!1}}function Il(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bl(e){if(He){var r=Vt;if(r){var a=r;if(!pd(e,r)){if(Il(e))throw Error(s(418));r=tn(a.nextSibling);var i=qt;r&&pd(e,r)?dd(i,a):(e.flags=e.flags&-4097|2,He=!1,qt=e)}}else{if(Il(e))throw Error(s(418));e.flags=e.flags&-4097|2,He=!1,qt=e}}}function hd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qt=e}function Vo(e){if(e!==qt)return!1;if(!He)return hd(e),He=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Dl(e.type,e.memoizedProps)),r&&(r=Vt)){if(Il(e))throw fd(),Error(s(418));for(;r;)dd(e,r),r=tn(r.nextSibling)}if(hd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(r===0){Vt=tn(e.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}e=e.nextSibling}Vt=null}}else Vt=qt?tn(e.stateNode.nextSibling):null;return!0}function fd(){for(var e=Vt;e;)e=tn(e.nextSibling)}function bs(){Vt=qt=null,He=!1}function $l(e){cr===null?cr=[e]:cr.push(e)}var vg=B.ReactCurrentBatchConfig;function Pa(e,r,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(s(309));var i=a.stateNode}if(!i)throw Error(s(147,e));var u=i,h=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===h?r.ref:(r=function(v){var F=u.refs;v===null?delete F[h]:F[h]=v},r._stringRef=h,r)}if(typeof e!="string")throw Error(s(284));if(!a._owner)throw Error(s(290,e))}return e}function Wo(e,r){throw e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function md(e){var r=e._init;return r(e._payload)}function gd(e){function r(N,D){if(e){var R=N.deletions;R===null?(N.deletions=[D],N.flags|=16):R.push(D)}}function a(N,D){if(!e)return null;for(;D!==null;)r(N,D),D=D.sibling;return null}function i(N,D){for(N=new Map;D!==null;)D.key!==null?N.set(D.key,D):N.set(D.index,D),D=D.sibling;return N}function u(N,D){return N=hn(N,D),N.index=0,N.sibling=null,N}function h(N,D,R){return N.index=R,e?(R=N.alternate,R!==null?(R=R.index,R<D?(N.flags|=2,D):R):(N.flags|=2,D)):(N.flags|=1048576,D)}function v(N){return e&&N.alternate===null&&(N.flags|=2),N}function F(N,D,R,Q){return D===null||D.tag!==6?(D=Pc(R,N.mode,Q),D.return=N,D):(D=u(D,R),D.return=N,D)}function S(N,D,R,Q){var pe=R.type;return pe===V?q(N,D,R.props.children,Q,R.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Le&&md(pe)===D.type)?(Q=u(D,R.props),Q.ref=Pa(N,D,R),Q.return=N,Q):(Q=mi(R.type,R.key,R.props,null,N.mode,Q),Q.ref=Pa(N,D,R),Q.return=N,Q)}function I(N,D,R,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==R.containerInfo||D.stateNode.implementation!==R.implementation?(D=Nc(R,N.mode,Q),D.return=N,D):(D=u(D,R.children||[]),D.return=N,D)}function q(N,D,R,Q,pe){return D===null||D.tag!==7?(D=Mn(R,N.mode,Q,pe),D.return=N,D):(D=u(D,R),D.return=N,D)}function H(N,D,R){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Pc(""+D,N.mode,R),D.return=N,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case K:return R=mi(D.type,D.key,D.props,null,N.mode,R),R.ref=Pa(N,null,D),R.return=N,R;case W:return D=Nc(D,N.mode,R),D.return=N,D;case Le:var Q=D._init;return H(N,Q(D._payload),R)}if(We(D)||re(D))return D=Mn(D,N.mode,R,null),D.return=N,D;Wo(N,D)}return null}function z(N,D,R,Q){var pe=D!==null?D.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return pe!==null?null:F(N,D,""+R,Q);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case K:return R.key===pe?S(N,D,R,Q):null;case W:return R.key===pe?I(N,D,R,Q):null;case Le:return pe=R._init,z(N,D,pe(R._payload),Q)}if(We(R)||re(R))return pe!==null?null:q(N,D,R,Q,null);Wo(N,R)}return null}function ne(N,D,R,Q,pe){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return N=N.get(R)||null,F(D,N,""+Q,pe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:return N=N.get(Q.key===null?R:Q.key)||null,S(D,N,Q,pe);case W:return N=N.get(Q.key===null?R:Q.key)||null,I(D,N,Q,pe);case Le:var ve=Q._init;return ne(N,D,R,ve(Q._payload),pe)}if(We(Q)||re(Q))return N=N.get(R)||null,q(D,N,Q,pe,null);Wo(D,Q)}return null}function ce(N,D,R,Q){for(var pe=null,ve=null,xe=D,_e=D=0,ft=null;xe!==null&&_e<R.length;_e++){xe.index>_e?(ft=xe,xe=null):ft=xe.sibling;var Te=z(N,xe,R[_e],Q);if(Te===null){xe===null&&(xe=ft);break}e&&xe&&Te.alternate===null&&r(N,xe),D=h(Te,D,_e),ve===null?pe=Te:ve.sibling=Te,ve=Te,xe=ft}if(_e===R.length)return a(N,xe),He&&Rn(N,_e),pe;if(xe===null){for(;_e<R.length;_e++)xe=H(N,R[_e],Q),xe!==null&&(D=h(xe,D,_e),ve===null?pe=xe:ve.sibling=xe,ve=xe);return He&&Rn(N,_e),pe}for(xe=i(N,xe);_e<R.length;_e++)ft=ne(xe,N,_e,R[_e],Q),ft!==null&&(e&&ft.alternate!==null&&xe.delete(ft.key===null?_e:ft.key),D=h(ft,D,_e),ve===null?pe=ft:ve.sibling=ft,ve=ft);return e&&xe.forEach(function(fn){return r(N,fn)}),He&&Rn(N,_e),pe}function de(N,D,R,Q){var pe=re(R);if(typeof pe!="function")throw Error(s(150));if(R=pe.call(R),R==null)throw Error(s(151));for(var ve=pe=null,xe=D,_e=D=0,ft=null,Te=R.next();xe!==null&&!Te.done;_e++,Te=R.next()){xe.index>_e?(ft=xe,xe=null):ft=xe.sibling;var fn=z(N,xe,Te.value,Q);if(fn===null){xe===null&&(xe=ft);break}e&&xe&&fn.alternate===null&&r(N,xe),D=h(fn,D,_e),ve===null?pe=fn:ve.sibling=fn,ve=fn,xe=ft}if(Te.done)return a(N,xe),He&&Rn(N,_e),pe;if(xe===null){for(;!Te.done;_e++,Te=R.next())Te=H(N,Te.value,Q),Te!==null&&(D=h(Te,D,_e),ve===null?pe=Te:ve.sibling=Te,ve=Te);return He&&Rn(N,_e),pe}for(xe=i(N,xe);!Te.done;_e++,Te=R.next())Te=ne(xe,N,_e,Te.value,Q),Te!==null&&(e&&Te.alternate!==null&&xe.delete(Te.key===null?_e:Te.key),D=h(Te,D,_e),ve===null?pe=Te:ve.sibling=Te,ve=Te);return e&&xe.forEach(function(Jg){return r(N,Jg)}),He&&Rn(N,_e),pe}function st(N,D,R,Q){if(typeof R=="object"&&R!==null&&R.type===V&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case K:e:{for(var pe=R.key,ve=D;ve!==null;){if(ve.key===pe){if(pe=R.type,pe===V){if(ve.tag===7){a(N,ve.sibling),D=u(ve,R.props.children),D.return=N,N=D;break e}}else if(ve.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Le&&md(pe)===ve.type){a(N,ve.sibling),D=u(ve,R.props),D.ref=Pa(N,ve,R),D.return=N,N=D;break e}a(N,ve);break}else r(N,ve);ve=ve.sibling}R.type===V?(D=Mn(R.props.children,N.mode,Q,R.key),D.return=N,N=D):(Q=mi(R.type,R.key,R.props,null,N.mode,Q),Q.ref=Pa(N,D,R),Q.return=N,N=Q)}return v(N);case W:e:{for(ve=R.key;D!==null;){if(D.key===ve)if(D.tag===4&&D.stateNode.containerInfo===R.containerInfo&&D.stateNode.implementation===R.implementation){a(N,D.sibling),D=u(D,R.children||[]),D.return=N,N=D;break e}else{a(N,D);break}else r(N,D);D=D.sibling}D=Nc(R,N.mode,Q),D.return=N,N=D}return v(N);case Le:return ve=R._init,st(N,D,ve(R._payload),Q)}if(We(R))return ce(N,D,R,Q);if(re(R))return de(N,D,R,Q);Wo(N,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,D!==null&&D.tag===6?(a(N,D.sibling),D=u(D,R),D.return=N,N=D):(a(N,D),D=Pc(R,N.mode,Q),D.return=N,N=D),v(N)):a(N,D)}return st}var Cs=gd(!0),vd=gd(!1),Ho=rn(null),Ko=null,As=null,Ml=null;function zl(){Ml=As=Ko=null}function ql(e){var r=Ho.current;qe(Ho),e._currentValue=r}function Vl(e,r,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,i!==null&&(i.childLanes|=r)):i!==null&&(i.childLanes&r)!==r&&(i.childLanes|=r),e===a)break;e=e.return}}function Ss(e,r){Ko=e,Ml=As=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(Rt=!0),e.firstContext=null)}function Xt(e){var r=e._currentValue;if(Ml!==e)if(e={context:e,memoizedValue:r,next:null},As===null){if(Ko===null)throw Error(s(308));As=e,Ko.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return r}var Tn=null;function Wl(e){Tn===null?Tn=[e]:Tn.push(e)}function xd(e,r,a,i){var u=r.interleaved;return u===null?(a.next=a,Wl(r)):(a.next=u.next,u.next=a),r.interleaved=a,Rr(e,i)}function Rr(e,r){e.lanes|=r;var a=e.alternate;for(a!==null&&(a.lanes|=r),a=e,e=e.return;e!==null;)e.childLanes|=r,a=e.alternate,a!==null&&(a.childLanes|=r),a=e,e=e.return;return a.tag===3?a.stateNode:null}var an=!1;function Hl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tr(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function on(e,r,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ne&2)!==0){var u=i.pending;return u===null?r.next=r:(r.next=u.next,u.next=r),i.pending=r,Rr(e,a)}return u=i.interleaved,u===null?(r.next=r,Wl(i)):(r.next=u.next,u.next=r),i.interleaved=r,Rr(e,a)}function Qo(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var i=r.lanes;i&=e.pendingLanes,a|=i,r.lanes=a,ol(e,a)}}function wd(e,r){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var u=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};h===null?u=h=v:h=h.next=v,a=a.next}while(a!==null);h===null?u=h=r:h=h.next=r}else u=h=r;a={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:i.shared,effects:i.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}function Go(e,r,a,i){var u=e.updateQueue;an=!1;var h=u.firstBaseUpdate,v=u.lastBaseUpdate,F=u.shared.pending;if(F!==null){u.shared.pending=null;var S=F,I=S.next;S.next=null,v===null?h=I:v.next=I,v=S;var q=e.alternate;q!==null&&(q=q.updateQueue,F=q.lastBaseUpdate,F!==v&&(F===null?q.firstBaseUpdate=I:F.next=I,q.lastBaseUpdate=S))}if(h!==null){var H=u.baseState;v=0,q=I=S=null,F=h;do{var z=F.lane,ne=F.eventTime;if((i&z)===z){q!==null&&(q=q.next={eventTime:ne,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var ce=e,de=F;switch(z=r,ne=a,de.tag){case 1:if(ce=de.payload,typeof ce=="function"){H=ce.call(ne,H,z);break e}H=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=de.payload,z=typeof ce=="function"?ce.call(ne,H,z):ce,z==null)break e;H=G({},H,z);break e;case 2:an=!0}}F.callback!==null&&F.lane!==0&&(e.flags|=64,z=u.effects,z===null?u.effects=[F]:z.push(F))}else ne={eventTime:ne,lane:z,tag:F.tag,payload:F.payload,callback:F.callback,next:null},q===null?(I=q=ne,S=H):q=q.next=ne,v|=z;if(F=F.next,F===null){if(F=u.shared.pending,F===null)break;z=F,F=z.next,z.next=null,u.lastBaseUpdate=z,u.shared.pending=null}}while(!0);if(q===null&&(S=H),u.baseState=S,u.firstBaseUpdate=I,u.lastBaseUpdate=q,r=u.shared.interleaved,r!==null){u=r;do v|=u.lane,u=u.next;while(u!==r)}else h===null&&(u.shared.lanes=0);Ln|=v,e.lanes=v,e.memoizedState=H}}function Fd(e,r,a){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var i=e[r],u=i.callback;if(u!==null){if(i.callback=null,i=a,typeof u!="function")throw Error(s(191,u));u.call(i)}}}var Na={},_r=rn(Na),Ra=rn(Na),Ta=rn(Na);function Un(e){if(e===Na)throw Error(s(174));return e}function Kl(e,r){switch(Be(Ta,r),Be(Ra,e),Be(_r,Na),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:yr(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=yr(r,e)}qe(_r),Be(_r,r)}function ks(){qe(_r),qe(Ra),qe(Ta)}function _d(e){Un(Ta.current);var r=Un(_r.current),a=yr(r,e.type);r!==a&&(Be(Ra,e),Be(_r,a))}function Ql(e){Ra.current===e&&(qe(_r),qe(Ra))}var Ge=rn(0);function Jo(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Gl=[];function Jl(){for(var e=0;e<Gl.length;e++)Gl[e]._workInProgressVersionPrimary=null;Gl.length=0}var Yo=B.ReactCurrentDispatcher,Yl=B.ReactCurrentBatchConfig,On=0,Je=null,lt=null,pt=null,Xo=!1,Ua=!1,Oa=0,xg=0;function Ft(){throw Error(s(321))}function Xl(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!lr(e[a],r[a]))return!1;return!0}function Zl(e,r,a,i,u,h){if(On=h,Je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Yo.current=e===null||e.memoizedState===null?_g:bg,e=a(i,u),Ua){h=0;do{if(Ua=!1,Oa=0,25<=h)throw Error(s(301));h+=1,pt=lt=null,r.updateQueue=null,Yo.current=Cg,e=a(i,u)}while(Ua)}if(Yo.current=ti,r=lt!==null&&lt.next!==null,On=0,pt=lt=Je=null,Xo=!1,r)throw Error(s(300));return e}function ec(){var e=Oa!==0;return Oa=0,e}function br(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Je.memoizedState=pt=e:pt=pt.next=e,pt}function Zt(){if(lt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var r=pt===null?Je.memoizedState:pt.next;if(r!==null)pt=r,lt=e;else{if(e===null)throw Error(s(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},pt===null?Je.memoizedState=pt=e:pt=pt.next=e}return pt}function La(e,r){return typeof r=="function"?r(e):r}function tc(e){var r=Zt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var i=lt,u=i.baseQueue,h=a.pending;if(h!==null){if(u!==null){var v=u.next;u.next=h.next,h.next=v}i.baseQueue=u=h,a.pending=null}if(u!==null){h=u.next,i=i.baseState;var F=v=null,S=null,I=h;do{var q=I.lane;if((On&q)===q)S!==null&&(S=S.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),i=I.hasEagerState?I.eagerState:e(i,I.action);else{var H={lane:q,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};S===null?(F=S=H,v=i):S=S.next=H,Je.lanes|=q,Ln|=q}I=I.next}while(I!==null&&I!==h);S===null?v=i:S.next=F,lr(i,r.memoizedState)||(Rt=!0),r.memoizedState=i,r.baseState=v,r.baseQueue=S,a.lastRenderedState=i}if(e=a.interleaved,e!==null){u=e;do h=u.lane,Je.lanes|=h,Ln|=h,u=u.next;while(u!==e)}else u===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function rc(e){var r=Zt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var i=a.dispatch,u=a.pending,h=r.memoizedState;if(u!==null){a.pending=null;var v=u=u.next;do h=e(h,v.action),v=v.next;while(v!==u);lr(h,r.memoizedState)||(Rt=!0),r.memoizedState=h,r.baseQueue===null&&(r.baseState=h),a.lastRenderedState=h}return[h,i]}function bd(){}function Cd(e,r){var a=Je,i=Zt(),u=r(),h=!lr(i.memoizedState,u);if(h&&(i.memoizedState=u,Rt=!0),i=i.queue,nc(kd.bind(null,a,i,e),[e]),i.getSnapshot!==r||h||pt!==null&&pt.memoizedState.tag&1){if(a.flags|=2048,Ia(9,Sd.bind(null,a,i,u,r),void 0,null),ht===null)throw Error(s(349));(On&30)!==0||Ad(a,r,u)}return u}function Ad(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Sd(e,r,a,i){r.value=a,r.getSnapshot=i,Ed(r)&&jd(e)}function kd(e,r,a){return a(function(){Ed(r)&&jd(e)})}function Ed(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!lr(e,a)}catch{return!0}}function jd(e){var r=Rr(e,1);r!==null&&hr(r,e,1,-1)}function Dd(e){var r=br();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:e},r.queue=e,e=e.dispatch=Fg.bind(null,Je,e),[r.memoizedState,e]}function Ia(e,r,a,i){return e={tag:e,create:r,destroy:a,deps:i,next:null},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.lastEffect=e.next=e):(a=r.lastEffect,a===null?r.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,r.lastEffect=e)),e}function Pd(){return Zt().memoizedState}function Zo(e,r,a,i){var u=br();Je.flags|=e,u.memoizedState=Ia(1|r,a,void 0,i===void 0?null:i)}function ei(e,r,a,i){var u=Zt();i=i===void 0?null:i;var h=void 0;if(lt!==null){var v=lt.memoizedState;if(h=v.destroy,i!==null&&Xl(i,v.deps)){u.memoizedState=Ia(r,a,h,i);return}}Je.flags|=e,u.memoizedState=Ia(1|r,a,h,i)}function Nd(e,r){return Zo(8390656,8,e,r)}function nc(e,r){return ei(2048,8,e,r)}function Rd(e,r){return ei(4,2,e,r)}function Td(e,r){return ei(4,4,e,r)}function Ud(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Od(e,r,a){return a=a!=null?a.concat([e]):null,ei(4,4,Ud.bind(null,r,e),a)}function sc(){}function Ld(e,r){var a=Zt();r=r===void 0?null:r;var i=a.memoizedState;return i!==null&&r!==null&&Xl(r,i[1])?i[0]:(a.memoizedState=[e,r],e)}function Id(e,r){var a=Zt();r=r===void 0?null:r;var i=a.memoizedState;return i!==null&&r!==null&&Xl(r,i[1])?i[0]:(e=e(),a.memoizedState=[e,r],e)}function Bd(e,r,a){return(On&21)===0?(e.baseState&&(e.baseState=!1,Rt=!0),e.memoizedState=a):(lr(a,r)||(a=m2(),Je.lanes|=a,Ln|=a,e.baseState=!0),r)}function yg(e,r){var a=Ie;Ie=a!==0&&4>a?a:4,e(!0);var i=Yl.transition;Yl.transition={};try{e(!1),r()}finally{Ie=a,Yl.transition=i}}function $d(){return Zt().memoizedState}function wg(e,r,a){var i=dn(e);if(a={lane:i,action:a,hasEagerState:!1,eagerState:null,next:null},Md(e))zd(r,a);else if(a=xd(e,r,a,i),a!==null){var u=St();hr(a,e,i,u),qd(a,r,i)}}function Fg(e,r,a){var i=dn(e),u={lane:i,action:a,hasEagerState:!1,eagerState:null,next:null};if(Md(e))zd(r,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=r.lastRenderedReducer,h!==null))try{var v=r.lastRenderedState,F=h(v,a);if(u.hasEagerState=!0,u.eagerState=F,lr(F,v)){var S=r.interleaved;S===null?(u.next=u,Wl(r)):(u.next=S.next,S.next=u),r.interleaved=u;return}}catch{}finally{}a=xd(e,r,u,i),a!==null&&(u=St(),hr(a,e,i,u),qd(a,r,i))}}function Md(e){var r=e.alternate;return e===Je||r!==null&&r===Je}function zd(e,r){Ua=Xo=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function qd(e,r,a){if((a&4194240)!==0){var i=r.lanes;i&=e.pendingLanes,a|=i,r.lanes=a,ol(e,a)}}var ti={readContext:Xt,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},_g={readContext:Xt,useCallback:function(e,r){return br().memoizedState=[e,r===void 0?null:r],e},useContext:Xt,useEffect:Nd,useImperativeHandle:function(e,r,a){return a=a!=null?a.concat([e]):null,Zo(4194308,4,Ud.bind(null,r,e),a)},useLayoutEffect:function(e,r){return Zo(4194308,4,e,r)},useInsertionEffect:function(e,r){return Zo(4,2,e,r)},useMemo:function(e,r){var a=br();return r=r===void 0?null:r,e=e(),a.memoizedState=[e,r],e},useReducer:function(e,r,a){var i=br();return r=a!==void 0?a(r):r,i.memoizedState=i.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=wg.bind(null,Je,e),[i.memoizedState,e]},useRef:function(e){var r=br();return e={current:e},r.memoizedState=e},useState:Dd,useDebugValue:sc,useDeferredValue:function(e){return br().memoizedState=e},useTransition:function(){var e=Dd(!1),r=e[0];return e=yg.bind(null,e[1]),br().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,a){var i=Je,u=br();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ht===null)throw Error(s(349));(On&30)!==0||Ad(i,r,a)}u.memoizedState=a;var h={value:a,getSnapshot:r};return u.queue=h,Nd(kd.bind(null,i,h,e),[e]),i.flags|=2048,Ia(9,Sd.bind(null,i,h,a,r),void 0,null),a},useId:function(){var e=br(),r=ht.identifierPrefix;if(He){var a=Nr,i=Pr;a=(i&~(1<<32-ir(i)-1)).toString(32)+a,r=":"+r+"R"+a,a=Oa++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=xg++,r=":"+r+"r"+a.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},bg={readContext:Xt,useCallback:Ld,useContext:Xt,useEffect:nc,useImperativeHandle:Od,useInsertionEffect:Rd,useLayoutEffect:Td,useMemo:Id,useReducer:tc,useRef:Pd,useState:function(){return tc(La)},useDebugValue:sc,useDeferredValue:function(e){var r=Zt();return Bd(r,lt.memoizedState,e)},useTransition:function(){var e=tc(La)[0],r=Zt().memoizedState;return[e,r]},useMutableSource:bd,useSyncExternalStore:Cd,useId:$d,unstable_isNewReconciler:!1},Cg={readContext:Xt,useCallback:Ld,useContext:Xt,useEffect:nc,useImperativeHandle:Od,useInsertionEffect:Rd,useLayoutEffect:Td,useMemo:Id,useReducer:rc,useRef:Pd,useState:function(){return rc(La)},useDebugValue:sc,useDeferredValue:function(e){var r=Zt();return lt===null?r.memoizedState=e:Bd(r,lt.memoizedState,e)},useTransition:function(){var e=rc(La)[0],r=Zt().memoizedState;return[e,r]},useMutableSource:bd,useSyncExternalStore:Cd,useId:$d,unstable_isNewReconciler:!1};function ur(e,r){if(e&&e.defaultProps){r=G({},r),e=e.defaultProps;for(var a in e)r[a]===void 0&&(r[a]=e[a]);return r}return r}function ac(e,r,a,i){r=e.memoizedState,a=a(i,r),a=a==null?r:G({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ri={isMounted:function(e){return(e=e._reactInternals)?jn(e)===e:!1},enqueueSetState:function(e,r,a){e=e._reactInternals;var i=St(),u=dn(e),h=Tr(i,u);h.payload=r,a!=null&&(h.callback=a),r=on(e,h,u),r!==null&&(hr(r,e,u,i),Qo(r,e,u))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var i=St(),u=dn(e),h=Tr(i,u);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=on(e,h,u),r!==null&&(hr(r,e,u,i),Qo(r,e,u))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=St(),i=dn(e),u=Tr(a,i);u.tag=2,r!=null&&(u.callback=r),r=on(e,u,i),r!==null&&(hr(r,e,i,a),Qo(r,e,i))}};function Vd(e,r,a,i,u,h,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,h,v):r.prototype&&r.prototype.isPureReactComponent?!Ca(a,i)||!Ca(u,h):!0}function Wd(e,r,a){var i=!1,u=nn,h=r.contextType;return typeof h=="object"&&h!==null?h=Xt(h):(u=Nt(r)?Pn:wt.current,i=r.contextTypes,h=(i=i!=null)?ws(e,u):nn),r=new r(a,h),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ri,e.stateNode=r,r._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=h),r}function Hd(e,r,a,i){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,i),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,i),r.state!==e&&ri.enqueueReplaceState(r,r.state,null)}function oc(e,r,a,i){var u=e.stateNode;u.props=a,u.state=e.memoizedState,u.refs={},Hl(e);var h=r.contextType;typeof h=="object"&&h!==null?u.context=Xt(h):(h=Nt(r)?Pn:wt.current,u.context=ws(e,h)),u.state=e.memoizedState,h=r.getDerivedStateFromProps,typeof h=="function"&&(ac(e,r,h,a),u.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(r=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),r!==u.state&&ri.enqueueReplaceState(u,u.state,null),Go(e,a,u,i),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Es(e,r){try{var a="",i=r;do a+=ye(i),i=i.return;while(i);var u=a}catch(h){u=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:r,stack:u,digest:null}}function ic(e,r,a){return{value:e,source:null,stack:a??null,digest:r??null}}function lc(e,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var Ag=typeof WeakMap=="function"?WeakMap:Map;function Kd(e,r,a){a=Tr(-1,a),a.tag=3,a.payload={element:null};var i=r.value;return a.callback=function(){ci||(ci=!0,bc=i),lc(e,r)},a}function Qd(e,r,a){a=Tr(-1,a),a.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var u=r.value;a.payload=function(){return i(u)},a.callback=function(){lc(e,r)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(a.callback=function(){lc(e,r),typeof i!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),a}function Gd(e,r,a){var i=e.pingCache;if(i===null){i=e.pingCache=new Ag;var u=new Set;i.set(r,u)}else u=i.get(r),u===void 0&&(u=new Set,i.set(r,u));u.has(a)||(u.add(a),e=Bg.bind(null,e,r,a),r.then(e,e))}function Jd(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Yd(e,r,a,i,u){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=Tr(-1,1),r.tag=2,on(a,r,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Sg=B.ReactCurrentOwner,Rt=!1;function At(e,r,a,i){r.child=e===null?vd(r,null,a,i):Cs(r,e.child,a,i)}function Xd(e,r,a,i,u){a=a.render;var h=r.ref;return Ss(r,u),i=Zl(e,r,a,i,h,u),a=ec(),e!==null&&!Rt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~u,Ur(e,r,u)):(He&&a&&Ol(r),r.flags|=1,At(e,r,i,u),r.child)}function Zd(e,r,a,i,u){if(e===null){var h=a.type;return typeof h=="function"&&!Dc(h)&&h.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=h,ep(e,r,h,i,u)):(e=mi(a.type,null,i,r,r.mode,u),e.ref=r.ref,e.return=r,r.child=e)}if(h=e.child,(e.lanes&u)===0){var v=h.memoizedProps;if(a=a.compare,a=a!==null?a:Ca,a(v,i)&&e.ref===r.ref)return Ur(e,r,u)}return r.flags|=1,e=hn(h,i),e.ref=r.ref,e.return=r,r.child=e}function ep(e,r,a,i,u){if(e!==null){var h=e.memoizedProps;if(Ca(h,i)&&e.ref===r.ref)if(Rt=!1,r.pendingProps=i=h,(e.lanes&u)!==0)(e.flags&131072)!==0&&(Rt=!0);else return r.lanes=e.lanes,Ur(e,r,u)}return cc(e,r,a,i,u)}function tp(e,r,a){var i=r.pendingProps,u=i.children,h=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Ds,Wt),Wt|=a;else{if((a&1073741824)===0)return e=h!==null?h.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Be(Ds,Wt),Wt|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=h!==null?h.baseLanes:a,Be(Ds,Wt),Wt|=i}else h!==null?(i=h.baseLanes|a,r.memoizedState=null):i=a,Be(Ds,Wt),Wt|=i;return At(e,r,u,a),r.child}function rp(e,r){var a=r.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function cc(e,r,a,i,u){var h=Nt(a)?Pn:wt.current;return h=ws(r,h),Ss(r,u),a=Zl(e,r,a,i,h,u),i=ec(),e!==null&&!Rt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~u,Ur(e,r,u)):(He&&i&&Ol(r),r.flags|=1,At(e,r,a,u),r.child)}function np(e,r,a,i,u){if(Nt(a)){var h=!0;$o(r)}else h=!1;if(Ss(r,u),r.stateNode===null)si(e,r),Wd(r,a,i),oc(r,a,i,u),i=!0;else if(e===null){var v=r.stateNode,F=r.memoizedProps;v.props=F;var S=v.context,I=a.contextType;typeof I=="object"&&I!==null?I=Xt(I):(I=Nt(a)?Pn:wt.current,I=ws(r,I));var q=a.getDerivedStateFromProps,H=typeof q=="function"||typeof v.getSnapshotBeforeUpdate=="function";H||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(F!==i||S!==I)&&Hd(r,v,i,I),an=!1;var z=r.memoizedState;v.state=z,Go(r,i,v,u),S=r.memoizedState,F!==i||z!==S||Pt.current||an?(typeof q=="function"&&(ac(r,a,q,i),S=r.memoizedState),(F=an||Vd(r,a,F,i,z,S,I))?(H||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=i,r.memoizedState=S),v.props=i,v.state=S,v.context=I,i=F):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),i=!1)}else{v=r.stateNode,yd(e,r),F=r.memoizedProps,I=r.type===r.elementType?F:ur(r.type,F),v.props=I,H=r.pendingProps,z=v.context,S=a.contextType,typeof S=="object"&&S!==null?S=Xt(S):(S=Nt(a)?Pn:wt.current,S=ws(r,S));var ne=a.getDerivedStateFromProps;(q=typeof ne=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(F!==H||z!==S)&&Hd(r,v,i,S),an=!1,z=r.memoizedState,v.state=z,Go(r,i,v,u);var ce=r.memoizedState;F!==H||z!==ce||Pt.current||an?(typeof ne=="function"&&(ac(r,a,ne,i),ce=r.memoizedState),(I=an||Vd(r,a,I,i,z,ce,S)||!1)?(q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(i,ce,S),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(i,ce,S)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||F===e.memoizedProps&&z===e.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||F===e.memoizedProps&&z===e.memoizedState||(r.flags|=1024),r.memoizedProps=i,r.memoizedState=ce),v.props=i,v.state=ce,v.context=S,i=I):(typeof v.componentDidUpdate!="function"||F===e.memoizedProps&&z===e.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||F===e.memoizedProps&&z===e.memoizedState||(r.flags|=1024),i=!1)}return uc(e,r,a,i,h,u)}function uc(e,r,a,i,u,h){rp(e,r);var v=(r.flags&128)!==0;if(!i&&!v)return u&&ld(r,a,!1),Ur(e,r,h);i=r.stateNode,Sg.current=r;var F=v&&typeof a.getDerivedStateFromError!="function"?null:i.render();return r.flags|=1,e!==null&&v?(r.child=Cs(r,e.child,null,h),r.child=Cs(r,null,F,h)):At(e,r,F,h),r.memoizedState=i.state,u&&ld(r,a,!0),r.child}function sp(e){var r=e.stateNode;r.pendingContext?od(e,r.pendingContext,r.pendingContext!==r.context):r.context&&od(e,r.context,!1),Kl(e,r.containerInfo)}function ap(e,r,a,i,u){return bs(),$l(u),r.flags|=256,At(e,r,a,i),r.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function pc(e){return{baseLanes:e,cachePool:null,transitions:null}}function op(e,r,a){var i=r.pendingProps,u=Ge.current,h=!1,v=(r.flags&128)!==0,F;if((F=v)||(F=e!==null&&e.memoizedState===null?!1:(u&2)!==0),F?(h=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Be(Ge,u&1),e===null)return Bl(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(v=i.children,e=i.fallback,h?(i=r.mode,h=r.child,v={mode:"hidden",children:v},(i&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=v):h=gi(v,i,0,null),e=Mn(e,i,a,null),h.return=r,e.return=r,h.sibling=e,r.child=h,r.child.memoizedState=pc(a),r.memoizedState=dc,e):hc(r,v));if(u=e.memoizedState,u!==null&&(F=u.dehydrated,F!==null))return kg(e,r,v,i,F,u,a);if(h){h=i.fallback,v=r.mode,u=e.child,F=u.sibling;var S={mode:"hidden",children:i.children};return(v&1)===0&&r.child!==u?(i=r.child,i.childLanes=0,i.pendingProps=S,r.deletions=null):(i=hn(u,S),i.subtreeFlags=u.subtreeFlags&14680064),F!==null?h=hn(F,h):(h=Mn(h,v,a,null),h.flags|=2),h.return=r,i.return=r,i.sibling=h,r.child=i,i=h,h=r.child,v=e.child.memoizedState,v=v===null?pc(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},h.memoizedState=v,h.childLanes=e.childLanes&~a,r.memoizedState=dc,i}return h=e.child,e=h.sibling,i=hn(h,{mode:"visible",children:i.children}),(r.mode&1)===0&&(i.lanes=a),i.return=r,i.sibling=null,e!==null&&(a=r.deletions,a===null?(r.deletions=[e],r.flags|=16):a.push(e)),r.child=i,r.memoizedState=null,i}function hc(e,r){return r=gi({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function ni(e,r,a,i){return i!==null&&$l(i),Cs(r,e.child,null,a),e=hc(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function kg(e,r,a,i,u,h,v){if(a)return r.flags&256?(r.flags&=-257,i=ic(Error(s(422))),ni(e,r,v,i)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(h=i.fallback,u=r.mode,i=gi({mode:"visible",children:i.children},u,0,null),h=Mn(h,u,v,null),h.flags|=2,i.return=r,h.return=r,i.sibling=h,r.child=i,(r.mode&1)!==0&&Cs(r,e.child,null,v),r.child.memoizedState=pc(v),r.memoizedState=dc,h);if((r.mode&1)===0)return ni(e,r,v,null);if(u.data==="$!"){if(i=u.nextSibling&&u.nextSibling.dataset,i)var F=i.dgst;return i=F,h=Error(s(419)),i=ic(h,i,void 0),ni(e,r,v,i)}if(F=(v&e.childLanes)!==0,Rt||F){if(i=ht,i!==null){switch(v&-v){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(i.suspendedLanes|v))!==0?0:u,u!==0&&u!==h.retryLane&&(h.retryLane=u,Rr(e,u),hr(i,e,u,-1))}return jc(),i=ic(Error(s(421))),ni(e,r,v,i)}return u.data==="$?"?(r.flags|=128,r.child=e.child,r=$g.bind(null,e),u._reactRetry=r,null):(e=h.treeContext,Vt=tn(u.nextSibling),qt=r,He=!0,cr=null,e!==null&&(Jt[Yt++]=Pr,Jt[Yt++]=Nr,Jt[Yt++]=Nn,Pr=e.id,Nr=e.overflow,Nn=r),r=hc(r,i.children),r.flags|=4096,r)}function ip(e,r,a){e.lanes|=r;var i=e.alternate;i!==null&&(i.lanes|=r),Vl(e.return,r,a)}function fc(e,r,a,i,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:u}:(h.isBackwards=r,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=a,h.tailMode=u)}function lp(e,r,a){var i=r.pendingProps,u=i.revealOrder,h=i.tail;if(At(e,r,i.children,a),i=Ge.current,(i&2)!==0)i=i&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ip(e,a,r);else if(e.tag===19)ip(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Be(Ge,i),(r.mode&1)===0)r.memoizedState=null;else switch(u){case"forwards":for(a=r.child,u=null;a!==null;)e=a.alternate,e!==null&&Jo(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=r.child,r.child=null):(u=a.sibling,a.sibling=null),fc(r,!1,u,a,h);break;case"backwards":for(a=null,u=r.child,r.child=null;u!==null;){if(e=u.alternate,e!==null&&Jo(e)===null){r.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}fc(r,!0,a,null,h);break;case"together":fc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function si(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function Ur(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Ln|=r.lanes,(a&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=hn(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=hn(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Eg(e,r,a){switch(r.tag){case 3:sp(r),bs();break;case 5:_d(r);break;case 1:Nt(r.type)&&$o(r);break;case 4:Kl(r,r.stateNode.containerInfo);break;case 10:var i=r.type._context,u=r.memoizedProps.value;Be(Ho,i._currentValue),i._currentValue=u;break;case 13:if(i=r.memoizedState,i!==null)return i.dehydrated!==null?(Be(Ge,Ge.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?op(e,r,a):(Be(Ge,Ge.current&1),e=Ur(e,r,a),e!==null?e.sibling:null);Be(Ge,Ge.current&1);break;case 19:if(i=(a&r.childLanes)!==0,(e.flags&128)!==0){if(i)return lp(e,r,a);r.flags|=128}if(u=r.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Be(Ge,Ge.current),i)break;return null;case 22:case 23:return r.lanes=0,tp(e,r,a)}return Ur(e,r,a)}var cp,mc,up,dp;cp=function(e,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},mc=function(){},up=function(e,r,a,i){var u=e.memoizedProps;if(u!==i){e=r.stateNode,Un(_r.current);var h=null;switch(a){case"input":u=fe(e,u),i=fe(e,i),h=[];break;case"select":u=G({},u,{value:void 0}),i=G({},i,{value:void 0}),h=[];break;case"textarea":u=Me(e,u),i=Me(e,i),h=[];break;default:typeof u.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Lo)}Gi(a,i);var v;a=null;for(I in u)if(!i.hasOwnProperty(I)&&u.hasOwnProperty(I)&&u[I]!=null)if(I==="style"){var F=u[I];for(v in F)F.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(l.hasOwnProperty(I)?h||(h=[]):(h=h||[]).push(I,null));for(I in i){var S=i[I];if(F=u!=null?u[I]:void 0,i.hasOwnProperty(I)&&S!==F&&(S!=null||F!=null))if(I==="style")if(F){for(v in F)!F.hasOwnProperty(v)||S&&S.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in S)S.hasOwnProperty(v)&&F[v]!==S[v]&&(a||(a={}),a[v]=S[v])}else a||(h||(h=[]),h.push(I,a)),a=S;else I==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,F=F?F.__html:void 0,S!=null&&F!==S&&(h=h||[]).push(I,S)):I==="children"?typeof S!="string"&&typeof S!="number"||(h=h||[]).push(I,""+S):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(l.hasOwnProperty(I)?(S!=null&&I==="onScroll"&&ze("scroll",e),h||F===S||(h=[])):(h=h||[]).push(I,S))}a&&(h=h||[]).push("style",a);var I=h;(r.updateQueue=I)&&(r.flags|=4)}},dp=function(e,r,a,i){a!==i&&(r.flags|=4)};function Ba(e,r){if(!He)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function _t(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(r)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags&14680064,i|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=a,r}function jg(e,r,a){var i=r.pendingProps;switch(Ll(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(r),null;case 1:return Nt(r.type)&&Bo(),_t(r),null;case 3:return i=r.stateNode,ks(),qe(Pt),qe(wt),Jl(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Vo(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,cr!==null&&(Sc(cr),cr=null))),mc(e,r),_t(r),null;case 5:Ql(r);var u=Un(Ta.current);if(a=r.type,e!==null&&r.stateNode!=null)up(e,r,a,i,u),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!i){if(r.stateNode===null)throw Error(s(166));return _t(r),null}if(e=Un(_r.current),Vo(r)){i=r.stateNode,a=r.type;var h=r.memoizedProps;switch(i[Fr]=r,i[ja]=h,e=(r.mode&1)!==0,a){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(u=0;u<Sa.length;u++)ze(Sa[u],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":be(i,h),ze("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!h.multiple},ze("invalid",i);break;case"textarea":Dt(i,h),ze("invalid",i)}Gi(a,h),u=null;for(var v in h)if(h.hasOwnProperty(v)){var F=h[v];v==="children"?typeof F=="string"?i.textContent!==F&&(h.suppressHydrationWarning!==!0&&Oo(i.textContent,F,e),u=["children",F]):typeof F=="number"&&i.textContent!==""+F&&(h.suppressHydrationWarning!==!0&&Oo(i.textContent,F,e),u=["children",""+F]):l.hasOwnProperty(v)&&F!=null&&v==="onScroll"&&ze("scroll",i)}switch(a){case"input":Qe(i),Pe(i,h,!0);break;case"textarea":Qe(i),Qr(i);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(i.onclick=Lo)}i=u,r.updateQueue=i,i!==null&&(r.flags|=4)}else{v=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oa(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=v.createElement(a,{is:i.is}):(e=v.createElement(a),a==="select"&&(v=e,i.multiple?v.multiple=!0:i.size&&(v.size=i.size))):e=v.createElementNS(e,a),e[Fr]=r,e[ja]=i,cp(e,r,!1,!1),r.stateNode=e;e:{switch(v=Ji(a,i),a){case"dialog":ze("cancel",e),ze("close",e),u=i;break;case"iframe":case"object":case"embed":ze("load",e),u=i;break;case"video":case"audio":for(u=0;u<Sa.length;u++)ze(Sa[u],e);u=i;break;case"source":ze("error",e),u=i;break;case"img":case"image":case"link":ze("error",e),ze("load",e),u=i;break;case"details":ze("toggle",e),u=i;break;case"input":be(e,i),u=fe(e,i),ze("invalid",e);break;case"option":u=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},u=G({},i,{value:void 0}),ze("invalid",e);break;case"textarea":Dt(e,i),u=Me(e,i),ze("invalid",e);break;default:u=i}Gi(a,u),F=u;for(h in F)if(F.hasOwnProperty(h)){var S=F[h];h==="style"?e2(e,S):h==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&ls(e,S)):h==="children"?typeof S=="string"?(a!=="textarea"||S!=="")&&ia(e,S):typeof S=="number"&&ia(e,""+S):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(l.hasOwnProperty(h)?S!=null&&h==="onScroll"&&ze("scroll",e):S!=null&&P(e,h,S,v))}switch(a){case"input":Qe(e),Pe(e,i,!1);break;case"textarea":Qe(e),Qr(e);break;case"option":i.value!=null&&e.setAttribute("value",""+M(i.value));break;case"select":e.multiple=!!i.multiple,h=i.value,h!=null?Xe(e,!!i.multiple,h,!1):i.defaultValue!=null&&Xe(e,!!i.multiple,i.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Lo)}switch(a){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return _t(r),null;case 6:if(e&&r.stateNode!=null)dp(e,r,e.memoizedProps,i);else{if(typeof i!="string"&&r.stateNode===null)throw Error(s(166));if(a=Un(Ta.current),Un(_r.current),Vo(r)){if(i=r.stateNode,a=r.memoizedProps,i[Fr]=r,(h=i.nodeValue!==a)&&(e=qt,e!==null))switch(e.tag){case 3:Oo(i.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oo(i.nodeValue,a,(e.mode&1)!==0)}h&&(r.flags|=4)}else i=(a.nodeType===9?a:a.ownerDocument).createTextNode(i),i[Fr]=r,r.stateNode=i}return _t(r),null;case 13:if(qe(Ge),i=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&Vt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)fd(),bs(),r.flags|=98560,h=!1;else if(h=Vo(r),i!==null&&i.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Fr]=r}else bs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;_t(r),h=!1}else cr!==null&&(Sc(cr),cr=null),h=!0;if(!h)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(Ge.current&1)!==0?ct===0&&(ct=3):jc())),r.updateQueue!==null&&(r.flags|=4),_t(r),null);case 4:return ks(),mc(e,r),e===null&&ka(r.stateNode.containerInfo),_t(r),null;case 10:return ql(r.type._context),_t(r),null;case 17:return Nt(r.type)&&Bo(),_t(r),null;case 19:if(qe(Ge),h=r.memoizedState,h===null)return _t(r),null;if(i=(r.flags&128)!==0,v=h.rendering,v===null)if(i)Ba(h,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(v=Jo(e),v!==null){for(r.flags|=128,Ba(h,!1),i=v.updateQueue,i!==null&&(r.updateQueue=i,r.flags|=4),r.subtreeFlags=0,i=a,a=r.child;a!==null;)h=a,e=i,h.flags&=14680066,v=h.alternate,v===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=v.childLanes,h.lanes=v.lanes,h.child=v.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=v.memoizedProps,h.memoizedState=v.memoizedState,h.updateQueue=v.updateQueue,h.type=v.type,e=v.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Be(Ge,Ge.current&1|2),r.child}e=e.sibling}h.tail!==null&&nt()>Ps&&(r.flags|=128,i=!0,Ba(h,!1),r.lanes=4194304)}else{if(!i)if(e=Jo(v),e!==null){if(r.flags|=128,i=!0,a=e.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),Ba(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!He)return _t(r),null}else 2*nt()-h.renderingStartTime>Ps&&a!==1073741824&&(r.flags|=128,i=!0,Ba(h,!1),r.lanes=4194304);h.isBackwards?(v.sibling=r.child,r.child=v):(a=h.last,a!==null?a.sibling=v:r.child=v,h.last=v)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=nt(),r.sibling=null,a=Ge.current,Be(Ge,i?a&1|2:a&1),r):(_t(r),null);case 22:case 23:return Ec(),i=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(r.flags|=8192),i&&(r.mode&1)!==0?(Wt&1073741824)!==0&&(_t(r),r.subtreeFlags&6&&(r.flags|=8192)):_t(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function Dg(e,r){switch(Ll(r),r.tag){case 1:return Nt(r.type)&&Bo(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return ks(),qe(Pt),qe(wt),Jl(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return Ql(r),null;case 13:if(qe(Ge),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));bs()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return qe(Ge),null;case 4:return ks(),null;case 10:return ql(r.type._context),null;case 22:case 23:return Ec(),null;case 24:return null;default:return null}}var ai=!1,bt=!1,Pg=typeof WeakSet=="function"?WeakSet:Set,le=null;function js(e,r){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(i){Ze(e,r,i)}else a.current=null}function gc(e,r,a){try{a()}catch(i){Ze(e,r,i)}}var pp=!1;function Ng(e,r){if(El=Ao,e=V2(),wl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var u=i.anchorOffset,h=i.focusNode;i=i.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var v=0,F=-1,S=-1,I=0,q=0,H=e,z=null;t:for(;;){for(var ne;H!==a||u!==0&&H.nodeType!==3||(F=v+u),H!==h||i!==0&&H.nodeType!==3||(S=v+i),H.nodeType===3&&(v+=H.nodeValue.length),(ne=H.firstChild)!==null;)z=H,H=ne;for(;;){if(H===e)break t;if(z===a&&++I===u&&(F=v),z===h&&++q===i&&(S=v),(ne=H.nextSibling)!==null)break;H=z,z=H.parentNode}H=ne}a=F===-1||S===-1?null:{start:F,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(jl={focusedElem:e,selectionRange:a},Ao=!1,le=r;le!==null;)if(r=le,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,le=e;else for(;le!==null;){r=le;try{var ce=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var de=ce.memoizedProps,st=ce.memoizedState,N=r.stateNode,D=N.getSnapshotBeforeUpdate(r.elementType===r.type?de:ur(r.type,de),st);N.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var R=r.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Q){Ze(r,r.return,Q)}if(e=r.sibling,e!==null){e.return=r.return,le=e;break}le=r.return}return ce=pp,pp=!1,ce}function $a(e,r,a){var i=r.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&e)===e){var h=u.destroy;u.destroy=void 0,h!==void 0&&gc(r,a,h)}u=u.next}while(u!==i)}}function oi(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.create;a.destroy=i()}a=a.next}while(a!==r)}}function vc(e){var r=e.ref;if(r!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof r=="function"?r(e):r.current=e}}function hp(e){var r=e.alternate;r!==null&&(e.alternate=null,hp(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Fr],delete r[ja],delete r[Rl],delete r[fg],delete r[mg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fp(e){return e.tag===5||e.tag===3||e.tag===4}function mp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xc(e,r,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(e,r):a.insertBefore(e,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(e,a)):(r=a,r.appendChild(e)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Lo));else if(i!==4&&(e=e.child,e!==null))for(xc(e,r,a),e=e.sibling;e!==null;)xc(e,r,a),e=e.sibling}function yc(e,r,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(yc(e,r,a),e=e.sibling;e!==null;)yc(e,r,a),e=e.sibling}var gt=null,dr=!1;function ln(e,r,a){for(a=a.child;a!==null;)gp(e,r,a),a=a.sibling}function gp(e,r,a){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(yo,a)}catch{}switch(a.tag){case 5:bt||js(a,r);case 6:var i=gt,u=dr;gt=null,ln(e,r,a),gt=i,dr=u,gt!==null&&(dr?(e=gt,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):gt.removeChild(a.stateNode));break;case 18:gt!==null&&(dr?(e=gt,a=a.stateNode,e.nodeType===8?Nl(e.parentNode,a):e.nodeType===1&&Nl(e,a),xa(e)):Nl(gt,a.stateNode));break;case 4:i=gt,u=dr,gt=a.stateNode.containerInfo,dr=!0,ln(e,r,a),gt=i,dr=u;break;case 0:case 11:case 14:case 15:if(!bt&&(i=a.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){u=i=i.next;do{var h=u,v=h.destroy;h=h.tag,v!==void 0&&((h&2)!==0||(h&4)!==0)&&gc(a,r,v),u=u.next}while(u!==i)}ln(e,r,a);break;case 1:if(!bt&&(js(a,r),i=a.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=a.memoizedProps,i.state=a.memoizedState,i.componentWillUnmount()}catch(F){Ze(a,r,F)}ln(e,r,a);break;case 21:ln(e,r,a);break;case 22:a.mode&1?(bt=(i=bt)||a.memoizedState!==null,ln(e,r,a),bt=i):ln(e,r,a);break;default:ln(e,r,a)}}function vp(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Pg),r.forEach(function(i){var u=Mg.bind(null,e,i);a.has(i)||(a.add(i),i.then(u,u))})}}function pr(e,r){var a=r.deletions;if(a!==null)for(var i=0;i<a.length;i++){var u=a[i];try{var h=e,v=r,F=v;e:for(;F!==null;){switch(F.tag){case 5:gt=F.stateNode,dr=!1;break e;case 3:gt=F.stateNode.containerInfo,dr=!0;break e;case 4:gt=F.stateNode.containerInfo,dr=!0;break e}F=F.return}if(gt===null)throw Error(s(160));gp(h,v,u),gt=null,dr=!1;var S=u.alternate;S!==null&&(S.return=null),u.return=null}catch(I){Ze(u,r,I)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)xp(r,e),r=r.sibling}function xp(e,r){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pr(r,e),Cr(e),i&4){try{$a(3,e,e.return),oi(3,e)}catch(de){Ze(e,e.return,de)}try{$a(5,e,e.return)}catch(de){Ze(e,e.return,de)}}break;case 1:pr(r,e),Cr(e),i&512&&a!==null&&js(a,a.return);break;case 5:if(pr(r,e),Cr(e),i&512&&a!==null&&js(a,a.return),e.flags&32){var u=e.stateNode;try{ia(u,"")}catch(de){Ze(e,e.return,de)}}if(i&4&&(u=e.stateNode,u!=null)){var h=e.memoizedProps,v=a!==null?a.memoizedProps:h,F=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{F==="input"&&h.type==="radio"&&h.name!=null&&Z(u,h),Ji(F,v);var I=Ji(F,h);for(v=0;v<S.length;v+=2){var q=S[v],H=S[v+1];q==="style"?e2(u,H):q==="dangerouslySetInnerHTML"?ls(u,H):q==="children"?ia(u,H):P(u,q,H,I)}switch(F){case"input":ie(u,h);break;case"textarea":Mt(u,h);break;case"select":var z=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!h.multiple;var ne=h.value;ne!=null?Xe(u,!!h.multiple,ne,!1):z!==!!h.multiple&&(h.defaultValue!=null?Xe(u,!!h.multiple,h.defaultValue,!0):Xe(u,!!h.multiple,h.multiple?[]:"",!1))}u[ja]=h}catch(de){Ze(e,e.return,de)}}break;case 6:if(pr(r,e),Cr(e),i&4){if(e.stateNode===null)throw Error(s(162));u=e.stateNode,h=e.memoizedProps;try{u.nodeValue=h}catch(de){Ze(e,e.return,de)}}break;case 3:if(pr(r,e),Cr(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{xa(r.containerInfo)}catch(de){Ze(e,e.return,de)}break;case 4:pr(r,e),Cr(e);break;case 13:pr(r,e),Cr(e),u=e.child,u.flags&8192&&(h=u.memoizedState!==null,u.stateNode.isHidden=h,!h||u.alternate!==null&&u.alternate.memoizedState!==null||(_c=nt())),i&4&&vp(e);break;case 22:if(q=a!==null&&a.memoizedState!==null,e.mode&1?(bt=(I=bt)||q,pr(r,e),bt=I):pr(r,e),Cr(e),i&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!q&&(e.mode&1)!==0)for(le=e,q=e.child;q!==null;){for(H=le=q;le!==null;){switch(z=le,ne=z.child,z.tag){case 0:case 11:case 14:case 15:$a(4,z,z.return);break;case 1:js(z,z.return);var ce=z.stateNode;if(typeof ce.componentWillUnmount=="function"){i=z,a=z.return;try{r=i,ce.props=r.memoizedProps,ce.state=r.memoizedState,ce.componentWillUnmount()}catch(de){Ze(i,a,de)}}break;case 5:js(z,z.return);break;case 22:if(z.memoizedState!==null){Fp(H);continue}}ne!==null?(ne.return=z,le=ne):Fp(H)}q=q.sibling}e:for(q=null,H=e;;){if(H.tag===5){if(q===null){q=H;try{u=H.stateNode,I?(h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(F=H.stateNode,S=H.memoizedProps.style,v=S!=null&&S.hasOwnProperty("display")?S.display:null,F.style.display=Zu("display",v))}catch(de){Ze(e,e.return,de)}}}else if(H.tag===6){if(q===null)try{H.stateNode.nodeValue=I?"":H.memoizedProps}catch(de){Ze(e,e.return,de)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;q===H&&(q=null),H=H.return}q===H&&(q=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:pr(r,e),Cr(e),i&4&&vp(e);break;case 21:break;default:pr(r,e),Cr(e)}}function Cr(e){var r=e.flags;if(r&2){try{e:{for(var a=e.return;a!==null;){if(fp(a)){var i=a;break e}a=a.return}throw Error(s(160))}switch(i.tag){case 5:var u=i.stateNode;i.flags&32&&(ia(u,""),i.flags&=-33);var h=mp(e);yc(e,h,u);break;case 3:case 4:var v=i.stateNode.containerInfo,F=mp(e);xc(e,F,v);break;default:throw Error(s(161))}}catch(S){Ze(e,e.return,S)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Rg(e,r,a){le=e,yp(e)}function yp(e,r,a){for(var i=(e.mode&1)!==0;le!==null;){var u=le,h=u.child;if(u.tag===22&&i){var v=u.memoizedState!==null||ai;if(!v){var F=u.alternate,S=F!==null&&F.memoizedState!==null||bt;F=ai;var I=bt;if(ai=v,(bt=S)&&!I)for(le=u;le!==null;)v=le,S=v.child,v.tag===22&&v.memoizedState!==null?_p(u):S!==null?(S.return=v,le=S):_p(u);for(;h!==null;)le=h,yp(h),h=h.sibling;le=u,ai=F,bt=I}wp(e)}else(u.subtreeFlags&8772)!==0&&h!==null?(h.return=u,le=h):wp(e)}}function wp(e){for(;le!==null;){var r=le;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:bt||oi(5,r);break;case 1:var i=r.stateNode;if(r.flags&4&&!bt)if(a===null)i.componentDidMount();else{var u=r.elementType===r.type?a.memoizedProps:ur(r.type,a.memoizedProps);i.componentDidUpdate(u,a.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var h=r.updateQueue;h!==null&&Fd(r,h,i);break;case 3:var v=r.updateQueue;if(v!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}Fd(r,v,a)}break;case 5:var F=r.stateNode;if(a===null&&r.flags&4){a=F;var S=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&a.focus();break;case"img":S.src&&(a.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var I=r.alternate;if(I!==null){var q=I.memoizedState;if(q!==null){var H=q.dehydrated;H!==null&&xa(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}bt||r.flags&512&&vc(r)}catch(z){Ze(r,r.return,z)}}if(r===e){le=null;break}if(a=r.sibling,a!==null){a.return=r.return,le=a;break}le=r.return}}function Fp(e){for(;le!==null;){var r=le;if(r===e){le=null;break}var a=r.sibling;if(a!==null){a.return=r.return,le=a;break}le=r.return}}function _p(e){for(;le!==null;){var r=le;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{oi(4,r)}catch(S){Ze(r,a,S)}break;case 1:var i=r.stateNode;if(typeof i.componentDidMount=="function"){var u=r.return;try{i.componentDidMount()}catch(S){Ze(r,u,S)}}var h=r.return;try{vc(r)}catch(S){Ze(r,h,S)}break;case 5:var v=r.return;try{vc(r)}catch(S){Ze(r,v,S)}}}catch(S){Ze(r,r.return,S)}if(r===e){le=null;break}var F=r.sibling;if(F!==null){F.return=r.return,le=F;break}le=r.return}}var Tg=Math.ceil,ii=B.ReactCurrentDispatcher,wc=B.ReactCurrentOwner,er=B.ReactCurrentBatchConfig,Ne=0,ht=null,at=null,vt=0,Wt=0,Ds=rn(0),ct=0,Ma=null,Ln=0,li=0,Fc=0,za=null,Tt=null,_c=0,Ps=1/0,Or=null,ci=!1,bc=null,cn=null,ui=!1,un=null,di=0,qa=0,Cc=null,pi=-1,hi=0;function St(){return(Ne&6)!==0?nt():pi!==-1?pi:pi=nt()}function dn(e){return(e.mode&1)===0?1:(Ne&2)!==0&&vt!==0?vt&-vt:vg.transition!==null?(hi===0&&(hi=m2()),hi):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:C2(e.type)),e)}function hr(e,r,a,i){if(50<qa)throw qa=0,Cc=null,Error(s(185));ha(e,a,i),((Ne&2)===0||e!==ht)&&(e===ht&&((Ne&2)===0&&(li|=a),ct===4&&pn(e,vt)),Ut(e,i),a===1&&Ne===0&&(r.mode&1)===0&&(Ps=nt()+500,Mo&&sn()))}function Ut(e,r){var a=e.callbackNode;vm(e,r);var i=_o(e,e===ht?vt:0);if(i===0)a!==null&&p2(a),e.callbackNode=null,e.callbackPriority=0;else if(r=i&-i,e.callbackPriority!==r){if(a!=null&&p2(a),r===1)e.tag===0?gg(Cp.bind(null,e)):cd(Cp.bind(null,e)),pg(function(){(Ne&6)===0&&sn()}),a=null;else{switch(g2(i)){case 1:a=nl;break;case 4:a=h2;break;case 16:a=xo;break;case 536870912:a=f2;break;default:a=xo}a=Np(a,bp.bind(null,e))}e.callbackPriority=r,e.callbackNode=a}}function bp(e,r){if(pi=-1,hi=0,(Ne&6)!==0)throw Error(s(327));var a=e.callbackNode;if(Ns()&&e.callbackNode!==a)return null;var i=_o(e,e===ht?vt:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||r)r=fi(e,i);else{r=i;var u=Ne;Ne|=2;var h=Sp();(ht!==e||vt!==r)&&(Or=null,Ps=nt()+500,Bn(e,r));do try{Lg();break}catch(F){Ap(e,F)}while(!0);zl(),ii.current=h,Ne=u,at!==null?r=0:(ht=null,vt=0,r=ct)}if(r!==0){if(r===2&&(u=sl(e),u!==0&&(i=u,r=Ac(e,u))),r===1)throw a=Ma,Bn(e,0),pn(e,i),Ut(e,nt()),a;if(r===6)pn(e,i);else{if(u=e.current.alternate,(i&30)===0&&!Ug(u)&&(r=fi(e,i),r===2&&(h=sl(e),h!==0&&(i=h,r=Ac(e,h))),r===1))throw a=Ma,Bn(e,0),pn(e,i),Ut(e,nt()),a;switch(e.finishedWork=u,e.finishedLanes=i,r){case 0:case 1:throw Error(s(345));case 2:$n(e,Tt,Or);break;case 3:if(pn(e,i),(i&130023424)===i&&(r=_c+500-nt(),10<r)){if(_o(e,0)!==0)break;if(u=e.suspendedLanes,(u&i)!==i){St(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Pl($n.bind(null,e,Tt,Or),r);break}$n(e,Tt,Or);break;case 4:if(pn(e,i),(i&4194240)===i)break;for(r=e.eventTimes,u=-1;0<i;){var v=31-ir(i);h=1<<v,v=r[v],v>u&&(u=v),i&=~h}if(i=u,i=nt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Tg(i/1960))-i,10<i){e.timeoutHandle=Pl($n.bind(null,e,Tt,Or),i);break}$n(e,Tt,Or);break;case 5:$n(e,Tt,Or);break;default:throw Error(s(329))}}}return Ut(e,nt()),e.callbackNode===a?bp.bind(null,e):null}function Ac(e,r){var a=za;return e.current.memoizedState.isDehydrated&&(Bn(e,r).flags|=256),e=fi(e,r),e!==2&&(r=Tt,Tt=a,r!==null&&Sc(r)),e}function Sc(e){Tt===null?Tt=e:Tt.push.apply(Tt,e)}function Ug(e){for(var r=e;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var i=0;i<a.length;i++){var u=a[i],h=u.getSnapshot;u=u.value;try{if(!lr(h(),u))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function pn(e,r){for(r&=~Fc,r&=~li,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var a=31-ir(r),i=1<<a;e[a]=-1,r&=~i}}function Cp(e){if((Ne&6)!==0)throw Error(s(327));Ns();var r=_o(e,0);if((r&1)===0)return Ut(e,nt()),null;var a=fi(e,r);if(e.tag!==0&&a===2){var i=sl(e);i!==0&&(r=i,a=Ac(e,i))}if(a===1)throw a=Ma,Bn(e,0),pn(e,r),Ut(e,nt()),a;if(a===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,$n(e,Tt,Or),Ut(e,nt()),null}function kc(e,r){var a=Ne;Ne|=1;try{return e(r)}finally{Ne=a,Ne===0&&(Ps=nt()+500,Mo&&sn())}}function In(e){un!==null&&un.tag===0&&(Ne&6)===0&&Ns();var r=Ne;Ne|=1;var a=er.transition,i=Ie;try{if(er.transition=null,Ie=1,e)return e()}finally{Ie=i,er.transition=a,Ne=r,(Ne&6)===0&&sn()}}function Ec(){Wt=Ds.current,qe(Ds)}function Bn(e,r){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,dg(a)),at!==null)for(a=at.return;a!==null;){var i=a;switch(Ll(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Bo();break;case 3:ks(),qe(Pt),qe(wt),Jl();break;case 5:Ql(i);break;case 4:ks();break;case 13:qe(Ge);break;case 19:qe(Ge);break;case 10:ql(i.type._context);break;case 22:case 23:Ec()}a=a.return}if(ht=e,at=e=hn(e.current,null),vt=Wt=r,ct=0,Ma=null,Fc=li=Ln=0,Tt=za=null,Tn!==null){for(r=0;r<Tn.length;r++)if(a=Tn[r],i=a.interleaved,i!==null){a.interleaved=null;var u=i.next,h=a.pending;if(h!==null){var v=h.next;h.next=u,i.next=v}a.pending=i}Tn=null}return e}function Ap(e,r){do{var a=at;try{if(zl(),Yo.current=ti,Xo){for(var i=Je.memoizedState;i!==null;){var u=i.queue;u!==null&&(u.pending=null),i=i.next}Xo=!1}if(On=0,pt=lt=Je=null,Ua=!1,Oa=0,wc.current=null,a===null||a.return===null){ct=1,Ma=r,at=null;break}e:{var h=e,v=a.return,F=a,S=r;if(r=vt,F.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var I=S,q=F,H=q.tag;if((q.mode&1)===0&&(H===0||H===11||H===15)){var z=q.alternate;z?(q.updateQueue=z.updateQueue,q.memoizedState=z.memoizedState,q.lanes=z.lanes):(q.updateQueue=null,q.memoizedState=null)}var ne=Jd(v);if(ne!==null){ne.flags&=-257,Yd(ne,v,F,h,r),ne.mode&1&&Gd(h,I,r),r=ne,S=I;var ce=r.updateQueue;if(ce===null){var de=new Set;de.add(S),r.updateQueue=de}else ce.add(S);break e}else{if((r&1)===0){Gd(h,I,r),jc();break e}S=Error(s(426))}}else if(He&&F.mode&1){var st=Jd(v);if(st!==null){(st.flags&65536)===0&&(st.flags|=256),Yd(st,v,F,h,r),$l(Es(S,F));break e}}h=S=Es(S,F),ct!==4&&(ct=2),za===null?za=[h]:za.push(h),h=v;do{switch(h.tag){case 3:h.flags|=65536,r&=-r,h.lanes|=r;var N=Kd(h,S,r);wd(h,N);break e;case 1:F=S;var D=h.type,R=h.stateNode;if((h.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(cn===null||!cn.has(R)))){h.flags|=65536,r&=-r,h.lanes|=r;var Q=Qd(h,F,r);wd(h,Q);break e}}h=h.return}while(h!==null)}Ep(a)}catch(pe){r=pe,at===a&&a!==null&&(at=a=a.return);continue}break}while(!0)}function Sp(){var e=ii.current;return ii.current=ti,e===null?ti:e}function jc(){(ct===0||ct===3||ct===2)&&(ct=4),ht===null||(Ln&268435455)===0&&(li&268435455)===0||pn(ht,vt)}function fi(e,r){var a=Ne;Ne|=2;var i=Sp();(ht!==e||vt!==r)&&(Or=null,Bn(e,r));do try{Og();break}catch(u){Ap(e,u)}while(!0);if(zl(),Ne=a,ii.current=i,at!==null)throw Error(s(261));return ht=null,vt=0,ct}function Og(){for(;at!==null;)kp(at)}function Lg(){for(;at!==null&&!lm();)kp(at)}function kp(e){var r=Pp(e.alternate,e,Wt);e.memoizedProps=e.pendingProps,r===null?Ep(e):at=r,wc.current=null}function Ep(e){var r=e;do{var a=r.alternate;if(e=r.return,(r.flags&32768)===0){if(a=jg(a,r,Wt),a!==null){at=a;return}}else{if(a=Dg(a,r),a!==null){a.flags&=32767,at=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,at=null;return}}if(r=r.sibling,r!==null){at=r;return}at=r=e}while(r!==null);ct===0&&(ct=5)}function $n(e,r,a){var i=Ie,u=er.transition;try{er.transition=null,Ie=1,Ig(e,r,a,i)}finally{er.transition=u,Ie=i}return null}function Ig(e,r,a,i){do Ns();while(un!==null);if((Ne&6)!==0)throw Error(s(327));a=e.finishedWork;var u=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var h=a.lanes|a.childLanes;if(xm(e,h),e===ht&&(at=ht=null,vt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ui||(ui=!0,Np(xo,function(){return Ns(),null})),h=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||h){h=er.transition,er.transition=null;var v=Ie;Ie=1;var F=Ne;Ne|=4,wc.current=null,Ng(e,a),xp(a,e),sg(jl),Ao=!!El,jl=El=null,e.current=a,Rg(a),cm(),Ne=F,Ie=v,er.transition=h}else e.current=a;if(ui&&(ui=!1,un=e,di=u),h=e.pendingLanes,h===0&&(cn=null),pm(a.stateNode),Ut(e,nt()),r!==null)for(i=e.onRecoverableError,a=0;a<r.length;a++)u=r[a],i(u.value,{componentStack:u.stack,digest:u.digest});if(ci)throw ci=!1,e=bc,bc=null,e;return(di&1)!==0&&e.tag!==0&&Ns(),h=e.pendingLanes,(h&1)!==0?e===Cc?qa++:(qa=0,Cc=e):qa=0,sn(),null}function Ns(){if(un!==null){var e=g2(di),r=er.transition,a=Ie;try{if(er.transition=null,Ie=16>e?16:e,un===null)var i=!1;else{if(e=un,un=null,di=0,(Ne&6)!==0)throw Error(s(331));var u=Ne;for(Ne|=4,le=e.current;le!==null;){var h=le,v=h.child;if((le.flags&16)!==0){var F=h.deletions;if(F!==null){for(var S=0;S<F.length;S++){var I=F[S];for(le=I;le!==null;){var q=le;switch(q.tag){case 0:case 11:case 15:$a(8,q,h)}var H=q.child;if(H!==null)H.return=q,le=H;else for(;le!==null;){q=le;var z=q.sibling,ne=q.return;if(hp(q),q===I){le=null;break}if(z!==null){z.return=ne,le=z;break}le=ne}}}var ce=h.alternate;if(ce!==null){var de=ce.child;if(de!==null){ce.child=null;do{var st=de.sibling;de.sibling=null,de=st}while(de!==null)}}le=h}}if((h.subtreeFlags&2064)!==0&&v!==null)v.return=h,le=v;else e:for(;le!==null;){if(h=le,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:$a(9,h,h.return)}var N=h.sibling;if(N!==null){N.return=h.return,le=N;break e}le=h.return}}var D=e.current;for(le=D;le!==null;){v=le;var R=v.child;if((v.subtreeFlags&2064)!==0&&R!==null)R.return=v,le=R;else e:for(v=D;le!==null;){if(F=le,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:oi(9,F)}}catch(pe){Ze(F,F.return,pe)}if(F===v){le=null;break e}var Q=F.sibling;if(Q!==null){Q.return=F.return,le=Q;break e}le=F.return}}if(Ne=u,sn(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(yo,e)}catch{}i=!0}return i}finally{Ie=a,er.transition=r}}return!1}function jp(e,r,a){r=Es(a,r),r=Kd(e,r,1),e=on(e,r,1),r=St(),e!==null&&(ha(e,1,r),Ut(e,r))}function Ze(e,r,a){if(e.tag===3)jp(e,e,a);else for(;r!==null;){if(r.tag===3){jp(r,e,a);break}else if(r.tag===1){var i=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(cn===null||!cn.has(i))){e=Es(a,e),e=Qd(r,e,1),r=on(r,e,1),e=St(),r!==null&&(ha(r,1,e),Ut(r,e));break}}r=r.return}}function Bg(e,r,a){var i=e.pingCache;i!==null&&i.delete(r),r=St(),e.pingedLanes|=e.suspendedLanes&a,ht===e&&(vt&a)===a&&(ct===4||ct===3&&(vt&130023424)===vt&&500>nt()-_c?Bn(e,0):Fc|=a),Ut(e,r)}function Dp(e,r){r===0&&((e.mode&1)===0?r=1:(r=Fo,Fo<<=1,(Fo&130023424)===0&&(Fo=4194304)));var a=St();e=Rr(e,r),e!==null&&(ha(e,r,a),Ut(e,a))}function $g(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),Dp(e,a)}function Mg(e,r){var a=0;switch(e.tag){case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(r),Dp(e,a)}var Pp;Pp=function(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps||Pt.current)Rt=!0;else{if((e.lanes&a)===0&&(r.flags&128)===0)return Rt=!1,Eg(e,r,a);Rt=(e.flags&131072)!==0}else Rt=!1,He&&(r.flags&1048576)!==0&&ud(r,qo,r.index);switch(r.lanes=0,r.tag){case 2:var i=r.type;si(e,r),e=r.pendingProps;var u=ws(r,wt.current);Ss(r,a),u=Zl(null,r,i,e,u,a);var h=ec();return r.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Nt(i)?(h=!0,$o(r)):h=!1,r.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Hl(r),u.updater=ri,r.stateNode=u,u._reactInternals=r,oc(r,i,e,a),r=uc(null,r,i,!0,h,a)):(r.tag=0,He&&h&&Ol(r),At(null,r,u,a),r=r.child),r;case 16:i=r.elementType;e:{switch(si(e,r),e=r.pendingProps,u=i._init,i=u(i._payload),r.type=i,u=r.tag=qg(i),e=ur(i,e),u){case 0:r=cc(null,r,i,e,a);break e;case 1:r=np(null,r,i,e,a);break e;case 11:r=Xd(null,r,i,e,a);break e;case 14:r=Zd(null,r,i,ur(i.type,e),a);break e}throw Error(s(306,i,""))}return r;case 0:return i=r.type,u=r.pendingProps,u=r.elementType===i?u:ur(i,u),cc(e,r,i,u,a);case 1:return i=r.type,u=r.pendingProps,u=r.elementType===i?u:ur(i,u),np(e,r,i,u,a);case 3:e:{if(sp(r),e===null)throw Error(s(387));i=r.pendingProps,h=r.memoizedState,u=h.element,yd(e,r),Go(r,i,null,a);var v=r.memoizedState;if(i=v.element,h.isDehydrated)if(h={element:i,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){u=Es(Error(s(423)),r),r=ap(e,r,i,a,u);break e}else if(i!==u){u=Es(Error(s(424)),r),r=ap(e,r,i,a,u);break e}else for(Vt=tn(r.stateNode.containerInfo.firstChild),qt=r,He=!0,cr=null,a=vd(r,null,i,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(bs(),i===u){r=Ur(e,r,a);break e}At(e,r,i,a)}r=r.child}return r;case 5:return _d(r),e===null&&Bl(r),i=r.type,u=r.pendingProps,h=e!==null?e.memoizedProps:null,v=u.children,Dl(i,u)?v=null:h!==null&&Dl(i,h)&&(r.flags|=32),rp(e,r),At(e,r,v,a),r.child;case 6:return e===null&&Bl(r),null;case 13:return op(e,r,a);case 4:return Kl(r,r.stateNode.containerInfo),i=r.pendingProps,e===null?r.child=Cs(r,null,i,a):At(e,r,i,a),r.child;case 11:return i=r.type,u=r.pendingProps,u=r.elementType===i?u:ur(i,u),Xd(e,r,i,u,a);case 7:return At(e,r,r.pendingProps,a),r.child;case 8:return At(e,r,r.pendingProps.children,a),r.child;case 12:return At(e,r,r.pendingProps.children,a),r.child;case 10:e:{if(i=r.type._context,u=r.pendingProps,h=r.memoizedProps,v=u.value,Be(Ho,i._currentValue),i._currentValue=v,h!==null)if(lr(h.value,v)){if(h.children===u.children&&!Pt.current){r=Ur(e,r,a);break e}}else for(h=r.child,h!==null&&(h.return=r);h!==null;){var F=h.dependencies;if(F!==null){v=h.child;for(var S=F.firstContext;S!==null;){if(S.context===i){if(h.tag===1){S=Tr(-1,a&-a),S.tag=2;var I=h.updateQueue;if(I!==null){I=I.shared;var q=I.pending;q===null?S.next=S:(S.next=q.next,q.next=S),I.pending=S}}h.lanes|=a,S=h.alternate,S!==null&&(S.lanes|=a),Vl(h.return,a,r),F.lanes|=a;break}S=S.next}}else if(h.tag===10)v=h.type===r.type?null:h.child;else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,F=v.alternate,F!==null&&(F.lanes|=a),Vl(v,a,r),v=h.sibling}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===r){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}At(e,r,u.children,a),r=r.child}return r;case 9:return u=r.type,i=r.pendingProps.children,Ss(r,a),u=Xt(u),i=i(u),r.flags|=1,At(e,r,i,a),r.child;case 14:return i=r.type,u=ur(i,r.pendingProps),u=ur(i.type,u),Zd(e,r,i,u,a);case 15:return ep(e,r,r.type,r.pendingProps,a);case 17:return i=r.type,u=r.pendingProps,u=r.elementType===i?u:ur(i,u),si(e,r),r.tag=1,Nt(i)?(e=!0,$o(r)):e=!1,Ss(r,a),Wd(r,i,u),oc(r,i,u,a),uc(null,r,i,!0,e,a);case 19:return lp(e,r,a);case 22:return tp(e,r,a)}throw Error(s(156,r.tag))};function Np(e,r){return d2(e,r)}function zg(e,r,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(e,r,a,i){return new zg(e,r,a,i)}function Dc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qg(e){if(typeof e=="function")return Dc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ge)return 11;if(e===Ve)return 14}return 2}function hn(e,r){var a=e.alternate;return a===null?(a=tr(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function mi(e,r,a,i,u,h){var v=2;if(i=e,typeof e=="function")Dc(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case V:return Mn(a.children,u,h,r);case X:v=8,u|=8;break;case ae:return e=tr(12,a,r,u|2),e.elementType=ae,e.lanes=h,e;case Se:return e=tr(13,a,r,u),e.elementType=Se,e.lanes=h,e;case Re:return e=tr(19,a,r,u),e.elementType=Re,e.lanes=h,e;case je:return gi(a,u,h,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oe:v=10;break e;case Y:v=9;break e;case ge:v=11;break e;case Ve:v=14;break e;case Le:v=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return r=tr(v,a,r,u),r.elementType=e,r.type=i,r.lanes=h,r}function Mn(e,r,a,i){return e=tr(7,e,i,r),e.lanes=a,e}function gi(e,r,a,i){return e=tr(22,e,i,r),e.elementType=je,e.lanes=a,e.stateNode={isHidden:!1},e}function Pc(e,r,a){return e=tr(6,e,null,r),e.lanes=a,e}function Nc(e,r,a){return r=tr(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Vg(e,r,a,i,u){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=al(0),this.expirationTimes=al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=al(0),this.identifierPrefix=i,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Rc(e,r,a,i,u,h,v,F,S){return e=new Vg(e,r,a,F,S),r===1?(r=1,h===!0&&(r|=8)):r=0,h=tr(3,null,null,r),e.current=h,h.stateNode=e,h.memoizedState={element:i,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hl(h),e}function Wg(e,r,a){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:i==null?null:""+i,children:e,containerInfo:r,implementation:a}}function Rp(e){if(!e)return nn;e=e._reactInternals;e:{if(jn(e)!==e||e.tag!==1)throw Error(s(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Nt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(e.tag===1){var a=e.type;if(Nt(a))return id(e,a,r)}return r}function Tp(e,r,a,i,u,h,v,F,S){return e=Rc(a,i,!0,e,u,h,v,F,S),e.context=Rp(null),a=e.current,i=St(),u=dn(a),h=Tr(i,u),h.callback=r??null,on(a,h,u),e.current.lanes=u,ha(e,u,i),Ut(e,i),e}function vi(e,r,a,i){var u=r.current,h=St(),v=dn(u);return a=Rp(a),r.context===null?r.context=a:r.pendingContext=a,r=Tr(h,v),r.payload={element:e},i=i===void 0?null:i,i!==null&&(r.callback=i),e=on(u,r,v),e!==null&&(hr(e,u,v,h),Qo(e,u,v)),v}function xi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Up(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Tc(e,r){Up(e,r),(e=e.alternate)&&Up(e,r)}function Hg(){return null}var Op=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uc(e){this._internalRoot=e}yi.prototype.render=Uc.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));vi(e,r,null,null)},yi.prototype.unmount=Uc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;In(function(){vi(null,e,null,null)}),r[jr]=null}};function yi(e){this._internalRoot=e}yi.prototype.unstable_scheduleHydration=function(e){if(e){var r=y2();e={blockedOn:null,target:e,priority:r};for(var a=0;a<Xr.length&&r!==0&&r<Xr[a].priority;a++);Xr.splice(a,0,e),a===0&&_2(e)}};function Oc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lp(){}function Kg(e,r,a,i,u){if(u){if(typeof i=="function"){var h=i;i=function(){var I=xi(v);h.call(I)}}var v=Tp(r,i,e,0,null,!1,!1,"",Lp);return e._reactRootContainer=v,e[jr]=v.current,ka(e.nodeType===8?e.parentNode:e),In(),v}for(;u=e.lastChild;)e.removeChild(u);if(typeof i=="function"){var F=i;i=function(){var I=xi(S);F.call(I)}}var S=Rc(e,0,!1,null,null,!1,!1,"",Lp);return e._reactRootContainer=S,e[jr]=S.current,ka(e.nodeType===8?e.parentNode:e),In(function(){vi(r,S,a,i)}),S}function Fi(e,r,a,i,u){var h=a._reactRootContainer;if(h){var v=h;if(typeof u=="function"){var F=u;u=function(){var S=xi(v);F.call(S)}}vi(r,v,e,u)}else v=Kg(a,r,e,u,i);return xi(v)}v2=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var a=pa(r.pendingLanes);a!==0&&(ol(r,a|1),Ut(r,nt()),(Ne&6)===0&&(Ps=nt()+500,sn()))}break;case 13:In(function(){var i=Rr(e,1);if(i!==null){var u=St();hr(i,e,1,u)}}),Tc(e,1)}},il=function(e){if(e.tag===13){var r=Rr(e,134217728);if(r!==null){var a=St();hr(r,e,134217728,a)}Tc(e,134217728)}},x2=function(e){if(e.tag===13){var r=dn(e),a=Rr(e,r);if(a!==null){var i=St();hr(a,e,r,i)}Tc(e,r)}},y2=function(){return Ie},w2=function(e,r){var a=Ie;try{return Ie=e,r()}finally{Ie=a}},Zi=function(e,r,a){switch(r){case"input":if(ie(e,a),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var i=a[r];if(i!==e&&i.form===e.form){var u=Io(i);if(!u)throw Error(s(90));or(i),ie(i,u)}}}break;case"textarea":Mt(e,a);break;case"select":r=a.value,r!=null&&Xe(e,!!a.multiple,r,!1)}},s2=kc,a2=In;var Qg={usingClientEntryPoint:!1,Events:[Da,xs,Io,r2,n2,kc]},Va={findFiberByHostInstance:Dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gg={bundleType:Va.bundleType,version:Va.version,rendererPackageName:Va.rendererPackageName,rendererConfig:Va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=c2(e),e===null?null:e.stateNode},findFiberByHostInstance:Va.findFiberByHostInstance||Hg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_i.isDisabled&&_i.supportsFiber)try{yo=_i.inject(Gg),wr=_i}catch{}}return Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qg,Ot.createPortal=function(e,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oc(r))throw Error(s(200));return Wg(e,r,null,a)},Ot.createRoot=function(e,r){if(!Oc(e))throw Error(s(299));var a=!1,i="",u=Op;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),r=Rc(e,1,!1,null,null,a,!1,i,u),e[jr]=r.current,ka(e.nodeType===8?e.parentNode:e),new Uc(r)},Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=c2(r),e=e===null?null:e.stateNode,e},Ot.flushSync=function(e){return In(e)},Ot.hydrate=function(e,r,a){if(!wi(r))throw Error(s(200));return Fi(null,e,r,!0,a)},Ot.hydrateRoot=function(e,r,a){if(!Oc(e))throw Error(s(405));var i=a!=null&&a.hydratedSources||null,u=!1,h="",v=Op;if(a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),r=Tp(r,null,e,1,a??null,u,!1,h,v),e[jr]=r.current,ka(e),i)for(e=0;e<i.length;e++)a=i[e],u=a._getVersion,u=u(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,u]:r.mutableSourceEagerHydrationData.push(a,u);return new yi(r)},Ot.render=function(e,r,a){if(!wi(r))throw Error(s(200));return Fi(null,e,r,!1,a)},Ot.unmountComponentAtNode=function(e){if(!wi(e))throw Error(s(40));return e._reactRootContainer?(In(function(){Fi(null,null,e,!1,function(){e._reactRootContainer=null,e[jr]=null})}),!0):!1},Ot.unstable_batchedUpdates=kc,Ot.unstable_renderSubtreeIntoContainer=function(e,r,a,i){if(!wi(a))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Fi(e,r,a,!1,i)},Ot.version="18.3.1-next-f1338f8080-20240426",Ot}var Hp;function nv(){if(Hp)return $c.exports;Hp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),$c.exports=rv(),$c.exports}var Kp;function sv(){if(Kp)return Ci;Kp=1;var n=nv();return Ci.createRoot=n.createRoot,Ci.hydrateRoot=n.hydrateRoot,Ci}var av=sv(),ra=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ov={setTimeout:(n,t)=>setTimeout(n,t),clearTimeout:n=>clearTimeout(n),setInterval:(n,t)=>setInterval(n,t),clearInterval:n=>clearInterval(n)},xn,Ru,Mh,iv=(Mh=class{constructor(){me(this,xn,ov);me(this,Ru,!1)}setTimeoutProvider(n){ee(this,xn,n)}setTimeout(n,t){return C(this,xn).setTimeout(n,t)}clearTimeout(n){C(this,xn).clearTimeout(n)}setInterval(n,t){return C(this,xn).setInterval(n,t)}clearInterval(n){C(this,xn).clearInterval(n)}},xn=new WeakMap,Ru=new WeakMap,Mh),Qn=new iv;function lv(n){setTimeout(n,0)}var as=typeof window>"u"||"Deno"in globalThis;function jt(){}function cv(n,t){return typeof n=="function"?n(t):n}function nu(n){return typeof n=="number"&&n>=0&&n!==1/0}function Xh(n,t){return Math.max(n+(t||0)-Date.now(),0)}function kn(n,t){return typeof n=="function"?n(t):n}function nr(n,t){return typeof n=="function"?n(t):n}function Qp(n,t){const{type:s="all",exact:o,fetchStatus:l,predicate:c,queryKey:d,stale:f}=n;if(d){if(o){if(t.queryHash!==Uu(d,t.options))return!1}else if(!Xa(t.queryKey,d))return!1}if(s!=="all"){const m=t.isActive();if(s==="active"&&!m||s==="inactive"&&m)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||l&&l!==t.state.fetchStatus||c&&!c(t))}function Gp(n,t){const{exact:s,status:o,predicate:l,mutationKey:c}=n;if(c){if(!t.options.mutationKey)return!1;if(s){if(os(t.options.mutationKey)!==os(c))return!1}else if(!Xa(t.options.mutationKey,c))return!1}return!(o&&t.state.status!==o||l&&!l(t))}function Uu(n,t){return((t==null?void 0:t.queryKeyHashFn)||os)(n)}function os(n){return JSON.stringify(n,(t,s)=>su(s)?Object.keys(s).sort().reduce((o,l)=>(o[l]=s[l],o),{}):s)}function Xa(n,t){return n===t?!0:typeof n!=typeof t?!1:n&&t&&typeof n=="object"&&typeof t=="object"?Object.keys(t).every(s=>Xa(n[s],t[s])):!1}var uv=Object.prototype.hasOwnProperty;function Zh(n,t,s=0){if(n===t)return n;if(s>500)return t;const o=Jp(n)&&Jp(t);if(!o&&!(su(n)&&su(t)))return t;const c=(o?n:Object.keys(n)).length,d=o?t:Object.keys(t),f=d.length,m=o?new Array(f):{};let g=0;for(let x=0;x<f;x++){const y=o?x:d[x],w=n[y],b=t[y];if(w===b){m[y]=w,(o?x<c:uv.call(n,y))&&g++;continue}if(w===null||b===null||typeof w!="object"||typeof b!="object"){m[y]=b;continue}const E=Zh(w,b,s+1);m[y]=E,E===w&&g++}return c===f&&g===c?n:m}function Ui(n,t){if(!t||Object.keys(n).length!==Object.keys(t).length)return!1;for(const s in n)if(n[s]!==t[s])return!1;return!0}function Jp(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function su(n){if(!Yp(n))return!1;const t=n.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Yp(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Yp(n){return Object.prototype.toString.call(n)==="[object Object]"}function dv(n){return new Promise(t=>{Qn.setTimeout(t,n)})}function au(n,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(n,t):s.structuralSharing!==!1?Zh(n,t):t}function pv(n,t,s=0){const o=[...n,t];return s&&o.length>s?o.slice(1):o}function hv(n,t,s=0){const o=[t,...n];return s&&o.length>s?o.slice(0,-1):o}var Ou=Symbol();function ef(n,t){return!n.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!n.queryFn||n.queryFn===Ou?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function Lu(n,t){return typeof n=="function"?n(...t):!!n}function fv(n,t,s){let o=!1,l;return Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(l??(l=t()),o||(o=!0,l.aborted?s():l.addEventListener("abort",s,{once:!0})),l)}),n}var Jn,yn,Vs,zh,mv=(zh=class extends ra{constructor(){super();me(this,Jn);me(this,yn);me(this,Vs);ee(this,Vs,t=>{if(!as&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){C(this,yn)||this.setEventListener(C(this,Vs))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,yn))==null||t.call(this),ee(this,yn,void 0))}setEventListener(t){var s;ee(this,Vs,t),(s=C(this,yn))==null||s.call(this),ee(this,yn,t(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(t){C(this,Jn)!==t&&(ee(this,Jn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof C(this,Jn)=="boolean"?C(this,Jn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Jn=new WeakMap,yn=new WeakMap,Vs=new WeakMap,zh),Iu=new mv;function ou(){let n,t;const s=new Promise((l,c)=>{n=l,t=c});s.status="pending",s.catch(()=>{});function o(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{o({status:"fulfilled",value:l}),n(l)},s.reject=l=>{o({status:"rejected",reason:l}),t(l)},s}var gv=lv;function vv(){let n=[],t=0,s=f=>{f()},o=f=>{f()},l=gv;const c=f=>{t?n.push(f):l(()=>{s(f)})},d=()=>{const f=n;n=[],f.length&&l(()=>{o(()=>{f.forEach(m=>{s(m)})})})};return{batch:f=>{let m;t++;try{m=f()}finally{t--,t||d()}return m},batchCalls:f=>(...m)=>{c(()=>{f(...m)})},schedule:c,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{o=f},setScheduler:f=>{l=f}}}var dt=vv(),Ws,wn,Hs,qh,xv=(qh=class extends ra{constructor(){super();me(this,Ws,!0);me(this,wn);me(this,Hs);ee(this,Hs,t=>{if(!as&&window.addEventListener){const s=()=>t(!0),o=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",o)}}})}onSubscribe(){C(this,wn)||this.setEventListener(C(this,Hs))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,wn))==null||t.call(this),ee(this,wn,void 0))}setEventListener(t){var s;ee(this,Hs,t),(s=C(this,wn))==null||s.call(this),ee(this,wn,t(this.setOnline.bind(this)))}setOnline(t){C(this,Ws)!==t&&(ee(this,Ws,t),this.listeners.forEach(o=>{o(t)}))}isOnline(){return C(this,Ws)}},Ws=new WeakMap,wn=new WeakMap,Hs=new WeakMap,qh),Oi=new xv;function yv(n){return Math.min(1e3*2**n,3e4)}function tf(n){return(n??"online")==="online"?Oi.isOnline():!0}var iu=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function rf(n){let t=!1,s=0,o;const l=ou(),c=()=>l.status!=="pending",d=j=>{var k;if(!c()){const U=new iu(j);w(U),(k=n.onCancel)==null||k.call(n,U)}},f=()=>{t=!0},m=()=>{t=!1},g=()=>Iu.isFocused()&&(n.networkMode==="always"||Oi.isOnline())&&n.canRun(),x=()=>tf(n.networkMode)&&n.canRun(),y=j=>{c()||(o==null||o(),l.resolve(j))},w=j=>{c()||(o==null||o(),l.reject(j))},b=()=>new Promise(j=>{var k;o=U=>{(c()||g())&&j(U)},(k=n.onPause)==null||k.call(n)}).then(()=>{var j;o=void 0,c()||(j=n.onContinue)==null||j.call(n)}),E=()=>{if(c())return;let j;const k=s===0?n.initialPromise:void 0;try{j=k??n.fn()}catch(U){j=Promise.reject(U)}Promise.resolve(j).then(y).catch(U=>{var W;if(c())return;const T=n.retry??(as?0:3),P=n.retryDelay??yv,B=typeof P=="function"?P(s,U):P,K=T===!0||typeof T=="number"&&s<T||typeof T=="function"&&T(s,U);if(t||!K){w(U);return}s++,(W=n.onFail)==null||W.call(n,s,U),dv(B).then(()=>g()?void 0:b()).then(()=>{t?w(U):E()})})};return{promise:l,status:()=>l.status,cancel:d,continue:()=>(o==null||o(),l),cancelRetry:f,continueRetry:m,canStart:x,start:()=>(x()?E():b().then(E),l)}}var Yn,Vh,nf=(Vh=class{constructor(){me(this,Yn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nu(this.gcTime)&&ee(this,Yn,Qn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(as?1/0:300*1e3))}clearGcTimeout(){C(this,Yn)&&(Qn.clearTimeout(C(this,Yn)),ee(this,Yn,void 0))}},Yn=new WeakMap,Vh),Xn,Ks,rr,Zn,mt,oo,es,gr,Lr,Wh,wv=(Wh=class extends nf{constructor(t){super();me(this,gr);me(this,Xn);me(this,Ks);me(this,rr);me(this,Zn);me(this,mt);me(this,oo);me(this,es);ee(this,es,!1),ee(this,oo,t.defaultOptions),this.setOptions(t.options),this.observers=[],ee(this,Zn,t.client),ee(this,rr,C(this,Zn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ee(this,Xn,Zp(this.options)),this.state=t.state??C(this,Xn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,mt))==null?void 0:t.promise}setOptions(t){if(this.options={...C(this,oo),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Zp(this.options);s.data!==void 0&&(this.setState(Xp(s.data,s.dataUpdatedAt)),ee(this,Xn,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,rr).remove(this)}setData(t,s){const o=au(this.state.data,t,this.options);return ke(this,gr,Lr).call(this,{data:o,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),o}setState(t,s){ke(this,gr,Lr).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var o,l;const s=(o=C(this,mt))==null?void 0:o.promise;return(l=C(this,mt))==null||l.cancel(t),s?s.then(jt).catch(jt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,Xn))}isActive(){return this.observers.some(t=>nr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ou||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>kn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Xh(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(o=>o.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=C(this,mt))==null||s.continue()}onOnline(){var s;const t=this.observers.find(o=>o.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=C(this,mt))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,rr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(C(this,mt)&&(C(this,es)?C(this,mt).cancel({revert:!0}):C(this,mt).cancelRetry()),this.scheduleGc()),C(this,rr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ke(this,gr,Lr).call(this,{type:"invalidate"})}async fetch(t,s){var m,g,x,y,w,b,E,j,k,U,T,P;if(this.state.fetchStatus!=="idle"&&((m=C(this,mt))==null?void 0:m.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(C(this,mt))return C(this,mt).continueRetry(),C(this,mt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const B=this.observers.find(K=>K.options.queryFn);B&&this.setOptions(B.options)}const o=new AbortController,l=B=>{Object.defineProperty(B,"signal",{enumerable:!0,get:()=>(ee(this,es,!0),o.signal)})},c=()=>{const B=ef(this.options,s),W=(()=>{const V={client:C(this,Zn),queryKey:this.queryKey,meta:this.meta};return l(V),V})();return ee(this,es,!1),this.options.persister?this.options.persister(B,W,this):B(W)},f=(()=>{const B={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:C(this,Zn),state:this.state,fetchFn:c};return l(B),B})();(g=this.options.behavior)==null||g.onFetch(f,this),ee(this,Ks,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=f.fetchOptions)==null?void 0:x.meta))&&ke(this,gr,Lr).call(this,{type:"fetch",meta:(y=f.fetchOptions)==null?void 0:y.meta}),ee(this,mt,rf({initialPromise:s==null?void 0:s.initialPromise,fn:f.fetchFn,onCancel:B=>{B instanceof iu&&B.revert&&this.setState({...C(this,Ks),fetchStatus:"idle"}),o.abort()},onFail:(B,K)=>{ke(this,gr,Lr).call(this,{type:"failed",failureCount:B,error:K})},onPause:()=>{ke(this,gr,Lr).call(this,{type:"pause"})},onContinue:()=>{ke(this,gr,Lr).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0}));try{const B=await C(this,mt).start();if(B===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(B),(b=(w=C(this,rr).config).onSuccess)==null||b.call(w,B,this),(j=(E=C(this,rr).config).onSettled)==null||j.call(E,B,this.state.error,this),B}catch(B){if(B instanceof iu){if(B.silent)return C(this,mt).promise;if(B.revert){if(this.state.data===void 0)throw B;return this.state.data}}throw ke(this,gr,Lr).call(this,{type:"error",error:B}),(U=(k=C(this,rr).config).onError)==null||U.call(k,B,this),(P=(T=C(this,rr).config).onSettled)==null||P.call(T,this.state.data,B,this),B}finally{this.scheduleGc()}}},Xn=new WeakMap,Ks=new WeakMap,rr=new WeakMap,Zn=new WeakMap,mt=new WeakMap,oo=new WeakMap,es=new WeakMap,gr=new WeakSet,Lr=function(t){const s=o=>{switch(t.type){case"failed":return{...o,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...sf(o.data,this.options),fetchMeta:t.meta??null};case"success":const l={...o,...Xp(t.data,t.dataUpdatedAt),dataUpdateCount:o.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ee(this,Ks,t.manual?l:void 0),l;case"error":const c=t.error;return{...o,error:c,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...t.state}}};this.state=s(this.state),dt.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),C(this,rr).notify({query:this,type:"updated",action:t})})},Wh);function sf(n,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tf(t.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Xp(n,t){return{data:n,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Zp(n){const t=typeof n.initialData=="function"?n.initialData():n.initialData,s=t!==void 0,o=s?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Lt,De,io,kt,ts,Qs,Br,Fn,lo,Gs,Js,rs,ns,_n,Ys,Ue,Ka,lu,cu,uu,du,pu,hu,fu,af,Hh,Fv=(Hh=class extends ra{constructor(t,s){super();me(this,Ue);me(this,Lt);me(this,De);me(this,io);me(this,kt);me(this,ts);me(this,Qs);me(this,Br);me(this,Fn);me(this,lo);me(this,Gs);me(this,Js);me(this,rs);me(this,ns);me(this,_n);me(this,Ys,new Set);this.options=s,ee(this,Lt,t),ee(this,Fn,null),ee(this,Br,ou()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,De).addObserver(this),eh(C(this,De),this.options)?ke(this,Ue,Ka).call(this):this.updateResult(),ke(this,Ue,du).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mu(C(this,De),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mu(C(this,De),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ke(this,Ue,pu).call(this),ke(this,Ue,hu).call(this),C(this,De).removeObserver(this)}setOptions(t){const s=this.options,o=C(this,De);if(this.options=C(this,Lt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof nr(this.options.enabled,C(this,De))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ke(this,Ue,fu).call(this),C(this,De).setOptions(this.options),s._defaulted&&!Ui(this.options,s)&&C(this,Lt).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,De),observer:this});const l=this.hasListeners();l&&th(C(this,De),o,this.options,s)&&ke(this,Ue,Ka).call(this),this.updateResult(),l&&(C(this,De)!==o||nr(this.options.enabled,C(this,De))!==nr(s.enabled,C(this,De))||kn(this.options.staleTime,C(this,De))!==kn(s.staleTime,C(this,De)))&&ke(this,Ue,lu).call(this);const c=ke(this,Ue,cu).call(this);l&&(C(this,De)!==o||nr(this.options.enabled,C(this,De))!==nr(s.enabled,C(this,De))||c!==C(this,_n))&&ke(this,Ue,uu).call(this,c)}getOptimisticResult(t){const s=C(this,Lt).getQueryCache().build(C(this,Lt),t),o=this.createResult(s,t);return bv(this,o)&&(ee(this,kt,o),ee(this,Qs,this.options),ee(this,ts,C(this,De).state)),o}getCurrentResult(){return C(this,kt)}trackResult(t,s){return new Proxy(t,{get:(o,l)=>(this.trackProp(l),s==null||s(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&C(this,Br).status==="pending"&&C(this,Br).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(o,l))})}trackProp(t){C(this,Ys).add(t)}getCurrentQuery(){return C(this,De)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=C(this,Lt).defaultQueryOptions(t),o=C(this,Lt).getQueryCache().build(C(this,Lt),s);return o.fetch().then(()=>this.createResult(o,s))}fetch(t){return ke(this,Ue,Ka).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,kt)))}createResult(t,s){var ae;const o=C(this,De),l=this.options,c=C(this,kt),d=C(this,ts),f=C(this,Qs),g=t!==o?t.state:C(this,io),{state:x}=t;let y={...x},w=!1,b;if(s._optimisticResults){const oe=this.hasListeners(),Y=!oe&&eh(t,s),ge=oe&&th(t,o,s,l);(Y||ge)&&(y={...y,...sf(x.data,t.options)}),s._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:E,errorUpdatedAt:j,status:k}=y;b=y.data;let U=!1;if(s.placeholderData!==void 0&&b===void 0&&k==="pending"){let oe;c!=null&&c.isPlaceholderData&&s.placeholderData===(f==null?void 0:f.placeholderData)?(oe=c.data,U=!0):oe=typeof s.placeholderData=="function"?s.placeholderData((ae=C(this,Js))==null?void 0:ae.state.data,C(this,Js)):s.placeholderData,oe!==void 0&&(k="success",b=au(c==null?void 0:c.data,oe,s),w=!0)}if(s.select&&b!==void 0&&!U)if(c&&b===(d==null?void 0:d.data)&&s.select===C(this,lo))b=C(this,Gs);else try{ee(this,lo,s.select),b=s.select(b),b=au(c==null?void 0:c.data,b,s),ee(this,Gs,b),ee(this,Fn,null)}catch(oe){ee(this,Fn,oe)}C(this,Fn)&&(E=C(this,Fn),b=C(this,Gs),j=Date.now(),k="error");const T=y.fetchStatus==="fetching",P=k==="pending",B=k==="error",K=P&&T,W=b!==void 0,X={status:k,fetchStatus:y.fetchStatus,isPending:P,isSuccess:k==="success",isError:B,isInitialLoading:K,isLoading:K,data:b,dataUpdatedAt:y.dataUpdatedAt,error:E,errorUpdatedAt:j,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>g.dataUpdateCount||y.errorUpdateCount>g.errorUpdateCount,isFetching:T,isRefetching:T&&!P,isLoadingError:B&&!W,isPaused:y.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:B&&W,isStale:Bu(t,s),refetch:this.refetch,promise:C(this,Br),isEnabled:nr(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const oe=Se=>{X.status==="error"?Se.reject(X.error):X.data!==void 0&&Se.resolve(X.data)},Y=()=>{const Se=ee(this,Br,X.promise=ou());oe(Se)},ge=C(this,Br);switch(ge.status){case"pending":t.queryHash===o.queryHash&&oe(ge);break;case"fulfilled":(X.status==="error"||X.data!==ge.value)&&Y();break;case"rejected":(X.status!=="error"||X.error!==ge.reason)&&Y();break}}return X}updateResult(){const t=C(this,kt),s=this.createResult(C(this,De),this.options);if(ee(this,ts,C(this,De).state),ee(this,Qs,this.options),C(this,ts).data!==void 0&&ee(this,Js,C(this,De)),Ui(s,t))return;ee(this,kt,s);const o=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!C(this,Ys).size)return!0;const d=new Set(c??C(this,Ys));return this.options.throwOnError&&d.add("error"),Object.keys(C(this,kt)).some(f=>{const m=f;return C(this,kt)[m]!==t[m]&&d.has(m)})};ke(this,Ue,af).call(this,{listeners:o()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ke(this,Ue,du).call(this)}},Lt=new WeakMap,De=new WeakMap,io=new WeakMap,kt=new WeakMap,ts=new WeakMap,Qs=new WeakMap,Br=new WeakMap,Fn=new WeakMap,lo=new WeakMap,Gs=new WeakMap,Js=new WeakMap,rs=new WeakMap,ns=new WeakMap,_n=new WeakMap,Ys=new WeakMap,Ue=new WeakSet,Ka=function(t){ke(this,Ue,fu).call(this);let s=C(this,De).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(jt)),s},lu=function(){ke(this,Ue,pu).call(this);const t=kn(this.options.staleTime,C(this,De));if(as||C(this,kt).isStale||!nu(t))return;const o=Xh(C(this,kt).dataUpdatedAt,t)+1;ee(this,rs,Qn.setTimeout(()=>{C(this,kt).isStale||this.updateResult()},o))},cu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,De)):this.options.refetchInterval)??!1},uu=function(t){ke(this,Ue,hu).call(this),ee(this,_n,t),!(as||nr(this.options.enabled,C(this,De))===!1||!nu(C(this,_n))||C(this,_n)===0)&&ee(this,ns,Qn.setInterval(()=>{(this.options.refetchIntervalInBackground||Iu.isFocused())&&ke(this,Ue,Ka).call(this)},C(this,_n)))},du=function(){ke(this,Ue,lu).call(this),ke(this,Ue,uu).call(this,ke(this,Ue,cu).call(this))},pu=function(){C(this,rs)&&(Qn.clearTimeout(C(this,rs)),ee(this,rs,void 0))},hu=function(){C(this,ns)&&(Qn.clearInterval(C(this,ns)),ee(this,ns,void 0))},fu=function(){const t=C(this,Lt).getQueryCache().build(C(this,Lt),this.options);if(t===C(this,De))return;const s=C(this,De);ee(this,De,t),ee(this,io,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},af=function(t){dt.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(C(this,kt))}),C(this,Lt).getQueryCache().notify({query:C(this,De),type:"observerResultsUpdated"})})},Hh);function _v(n,t){return nr(t.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&t.retryOnMount===!1)}function eh(n,t){return _v(n,t)||n.state.data!==void 0&&mu(n,t,t.refetchOnMount)}function mu(n,t,s){if(nr(t.enabled,n)!==!1&&kn(t.staleTime,n)!=="static"){const o=typeof s=="function"?s(n):s;return o==="always"||o!==!1&&Bu(n,t)}return!1}function th(n,t,s,o){return(n!==t||nr(o.enabled,n)===!1)&&(!s.suspense||n.state.status!=="error")&&Bu(n,s)}function Bu(n,t){return nr(t.enabled,n)!==!1&&n.isStaleByTime(kn(t.staleTime,n))}function bv(n,t){return!Ui(n.getCurrentResult(),t)}function rh(n){return{onFetch:(t,s)=>{var x,y,w,b,E;const o=t.options,l=(w=(y=(x=t.fetchOptions)==null?void 0:x.meta)==null?void 0:y.fetchMore)==null?void 0:w.direction,c=((b=t.state.data)==null?void 0:b.pages)||[],d=((E=t.state.data)==null?void 0:E.pageParams)||[];let f={pages:[],pageParams:[]},m=0;const g=async()=>{let j=!1;const k=P=>{fv(P,()=>t.signal,()=>j=!0)},U=ef(t.options,t.fetchOptions),T=async(P,B,K)=>{if(j)return Promise.reject();if(B==null&&P.pages.length)return Promise.resolve(P);const V=(()=>{const Y={client:t.client,queryKey:t.queryKey,pageParam:B,direction:K?"backward":"forward",meta:t.options.meta};return k(Y),Y})(),X=await U(V),{maxPages:ae}=t.options,oe=K?hv:pv;return{pages:oe(P.pages,X,ae),pageParams:oe(P.pageParams,B,ae)}};if(l&&c.length){const P=l==="backward",B=P?Cv:nh,K={pages:c,pageParams:d},W=B(o,K);f=await T(K,W,P)}else{const P=n??c.length;do{const B=m===0?d[0]??o.initialPageParam:nh(o,f);if(m>0&&B==null)break;f=await T(f,B),m++}while(m<P)}return f};t.options.persister?t.fetchFn=()=>{var j,k;return(k=(j=t.options).persister)==null?void 0:k.call(j,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=g}}}function nh(n,{pages:t,pageParams:s}){const o=t.length-1;return t.length>0?n.getNextPageParam(t[o],t,s[o],s):void 0}function Cv(n,{pages:t,pageParams:s}){var o;return t.length>0?(o=n.getPreviousPageParam)==null?void 0:o.call(n,t[0],t,s[0],s):void 0}var co,Ar,Et,ss,Sr,mn,Kh,Av=(Kh=class extends nf{constructor(t){super();me(this,Sr);me(this,co);me(this,Ar);me(this,Et);me(this,ss);ee(this,co,t.client),this.mutationId=t.mutationId,ee(this,Et,t.mutationCache),ee(this,Ar,[]),this.state=t.state||of(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,Ar).includes(t)||(C(this,Ar).push(t),this.clearGcTimeout(),C(this,Et).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ee(this,Ar,C(this,Ar).filter(s=>s!==t)),this.scheduleGc(),C(this,Et).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,Ar).length||(this.state.status==="pending"?this.scheduleGc():C(this,Et).remove(this))}continue(){var t;return((t=C(this,ss))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var d,f,m,g,x,y,w,b,E,j,k,U,T,P,B,K,W,V,X,ae;const s=()=>{ke(this,Sr,mn).call(this,{type:"continue"})},o={client:C(this,co),meta:this.options.meta,mutationKey:this.options.mutationKey};ee(this,ss,rf({fn:()=>this.options.mutationFn?this.options.mutationFn(t,o):Promise.reject(new Error("No mutationFn found")),onFail:(oe,Y)=>{ke(this,Sr,mn).call(this,{type:"failed",failureCount:oe,error:Y})},onPause:()=>{ke(this,Sr,mn).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,Et).canRun(this)}));const l=this.state.status==="pending",c=!C(this,ss).canStart();try{if(l)s();else{ke(this,Sr,mn).call(this,{type:"pending",variables:t,isPaused:c}),await((f=(d=C(this,Et).config).onMutate)==null?void 0:f.call(d,t,this,o));const Y=await((g=(m=this.options).onMutate)==null?void 0:g.call(m,t,o));Y!==this.state.context&&ke(this,Sr,mn).call(this,{type:"pending",context:Y,variables:t,isPaused:c})}const oe=await C(this,ss).start();return await((y=(x=C(this,Et).config).onSuccess)==null?void 0:y.call(x,oe,t,this.state.context,this,o)),await((b=(w=this.options).onSuccess)==null?void 0:b.call(w,oe,t,this.state.context,o)),await((j=(E=C(this,Et).config).onSettled)==null?void 0:j.call(E,oe,null,this.state.variables,this.state.context,this,o)),await((U=(k=this.options).onSettled)==null?void 0:U.call(k,oe,null,t,this.state.context,o)),ke(this,Sr,mn).call(this,{type:"success",data:oe}),oe}catch(oe){try{await((P=(T=C(this,Et).config).onError)==null?void 0:P.call(T,oe,t,this.state.context,this,o))}catch(Y){Promise.reject(Y)}try{await((K=(B=this.options).onError)==null?void 0:K.call(B,oe,t,this.state.context,o))}catch(Y){Promise.reject(Y)}try{await((V=(W=C(this,Et).config).onSettled)==null?void 0:V.call(W,void 0,oe,this.state.variables,this.state.context,this,o))}catch(Y){Promise.reject(Y)}try{await((ae=(X=this.options).onSettled)==null?void 0:ae.call(X,void 0,oe,t,this.state.context,o))}catch(Y){Promise.reject(Y)}throw ke(this,Sr,mn).call(this,{type:"error",error:oe}),oe}finally{C(this,Et).runNext(this)}}},co=new WeakMap,Ar=new WeakMap,Et=new WeakMap,ss=new WeakMap,Sr=new WeakSet,mn=function(t){const s=o=>{switch(t.type){case"failed":return{...o,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...o,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:t.error,failureCount:o.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),dt.batch(()=>{C(this,Ar).forEach(o=>{o.onMutationUpdate(t)}),C(this,Et).notify({mutation:this,type:"updated",action:t})})},Kh);function of(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $r,vr,uo,Qh,Sv=(Qh=class extends ra{constructor(t={}){super();me(this,$r);me(this,vr);me(this,uo);this.config=t,ee(this,$r,new Set),ee(this,vr,new Map),ee(this,uo,0)}build(t,s,o){const l=new Av({client:t,mutationCache:this,mutationId:++bi(this,uo)._,options:t.defaultMutationOptions(s),state:o});return this.add(l),l}add(t){C(this,$r).add(t);const s=Ai(t);if(typeof s=="string"){const o=C(this,vr).get(s);o?o.push(t):C(this,vr).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(C(this,$r).delete(t)){const s=Ai(t);if(typeof s=="string"){const o=C(this,vr).get(s);if(o)if(o.length>1){const l=o.indexOf(t);l!==-1&&o.splice(l,1)}else o[0]===t&&C(this,vr).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Ai(t);if(typeof s=="string"){const o=C(this,vr).get(s),l=o==null?void 0:o.find(c=>c.state.status==="pending");return!l||l===t}else return!0}runNext(t){var o;const s=Ai(t);if(typeof s=="string"){const l=(o=C(this,vr).get(s))==null?void 0:o.find(c=>c!==t&&c.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){dt.batch(()=>{C(this,$r).forEach(t=>{this.notify({type:"removed",mutation:t})}),C(this,$r).clear(),C(this,vr).clear()})}getAll(){return Array.from(C(this,$r))}find(t){const s={exact:!0,...t};return this.getAll().find(o=>Gp(s,o))}findAll(t={}){return this.getAll().filter(s=>Gp(t,s))}notify(t){dt.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return dt.batch(()=>Promise.all(t.map(s=>s.continue().catch(jt))))}},$r=new WeakMap,vr=new WeakMap,uo=new WeakMap,Qh);function Ai(n){var t;return(t=n.options.scope)==null?void 0:t.id}var Mr,bn,It,zr,Wr,Ni,gu,Gh,kv=(Gh=class extends ra{constructor(s,o){super();me(this,Wr);me(this,Mr);me(this,bn);me(this,It);me(this,zr);ee(this,Mr,s),this.setOptions(o),this.bindMethods(),ke(this,Wr,Ni).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var l;const o=this.options;this.options=C(this,Mr).defaultMutationOptions(s),Ui(this.options,o)||C(this,Mr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,It),observer:this}),o!=null&&o.mutationKey&&this.options.mutationKey&&os(o.mutationKey)!==os(this.options.mutationKey)?this.reset():((l=C(this,It))==null?void 0:l.state.status)==="pending"&&C(this,It).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=C(this,It))==null||s.removeObserver(this)}onMutationUpdate(s){ke(this,Wr,Ni).call(this),ke(this,Wr,gu).call(this,s)}getCurrentResult(){return C(this,bn)}reset(){var s;(s=C(this,It))==null||s.removeObserver(this),ee(this,It,void 0),ke(this,Wr,Ni).call(this),ke(this,Wr,gu).call(this)}mutate(s,o){var l;return ee(this,zr,o),(l=C(this,It))==null||l.removeObserver(this),ee(this,It,C(this,Mr).getMutationCache().build(C(this,Mr),this.options)),C(this,It).addObserver(this),C(this,It).execute(s)}},Mr=new WeakMap,bn=new WeakMap,It=new WeakMap,zr=new WeakMap,Wr=new WeakSet,Ni=function(){var o;const s=((o=C(this,It))==null?void 0:o.state)??of();ee(this,bn,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},gu=function(s){dt.batch(()=>{var o,l,c,d,f,m,g,x;if(C(this,zr)&&this.hasListeners()){const y=C(this,bn).variables,w=C(this,bn).context,b={client:C(this,Mr),meta:this.options.meta,mutationKey:this.options.mutationKey};if((s==null?void 0:s.type)==="success"){try{(l=(o=C(this,zr)).onSuccess)==null||l.call(o,s.data,y,w,b)}catch(E){Promise.reject(E)}try{(d=(c=C(this,zr)).onSettled)==null||d.call(c,s.data,null,y,w,b)}catch(E){Promise.reject(E)}}else if((s==null?void 0:s.type)==="error"){try{(m=(f=C(this,zr)).onError)==null||m.call(f,s.error,y,w,b)}catch(E){Promise.reject(E)}try{(x=(g=C(this,zr)).onSettled)==null||x.call(g,void 0,s.error,y,w,b)}catch(E){Promise.reject(E)}}}this.listeners.forEach(y=>{y(C(this,bn))})})},Gh),kr,Jh,Ev=(Jh=class extends ra{constructor(t={}){super();me(this,kr);this.config=t,ee(this,kr,new Map)}build(t,s,o){const l=s.queryKey,c=s.queryHash??Uu(l,s);let d=this.get(c);return d||(d=new wv({client:t,queryKey:l,queryHash:c,options:t.defaultQueryOptions(s),state:o,defaultOptions:t.getQueryDefaults(l)}),this.add(d)),d}add(t){C(this,kr).has(t.queryHash)||(C(this,kr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=C(this,kr).get(t.queryHash);s&&(t.destroy(),s===t&&C(this,kr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){dt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,kr).get(t)}getAll(){return[...C(this,kr).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(o=>Qp(s,o))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(o=>Qp(t,o)):s}notify(t){dt.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){dt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){dt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},kr=new WeakMap,Jh),et,Cn,An,Xs,Zs,Sn,ea,ta,Yh,jv=(Yh=class{constructor(n={}){me(this,et);me(this,Cn);me(this,An);me(this,Xs);me(this,Zs);me(this,Sn);me(this,ea);me(this,ta);ee(this,et,n.queryCache||new Ev),ee(this,Cn,n.mutationCache||new Sv),ee(this,An,n.defaultOptions||{}),ee(this,Xs,new Map),ee(this,Zs,new Map),ee(this,Sn,0)}mount(){bi(this,Sn)._++,C(this,Sn)===1&&(ee(this,ea,Iu.subscribe(async n=>{n&&(await this.resumePausedMutations(),C(this,et).onFocus())})),ee(this,ta,Oi.subscribe(async n=>{n&&(await this.resumePausedMutations(),C(this,et).onOnline())})))}unmount(){var n,t;bi(this,Sn)._--,C(this,Sn)===0&&((n=C(this,ea))==null||n.call(this),ee(this,ea,void 0),(t=C(this,ta))==null||t.call(this),ee(this,ta,void 0))}isFetching(n){return C(this,et).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return C(this,Cn).findAll({...n,status:"pending"}).length}getQueryData(n){var s;const t=this.defaultQueryOptions({queryKey:n});return(s=C(this,et).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(n){const t=this.defaultQueryOptions(n),s=C(this,et).build(this,t),o=s.state.data;return o===void 0?this.fetchQuery(n):(n.revalidateIfStale&&s.isStaleByTime(kn(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(o))}getQueriesData(n){return C(this,et).findAll(n).map(({queryKey:t,state:s})=>{const o=s.data;return[t,o]})}setQueryData(n,t,s){const o=this.defaultQueryOptions({queryKey:n}),l=C(this,et).get(o.queryHash),c=l==null?void 0:l.state.data,d=cv(t,c);if(d!==void 0)return C(this,et).build(this,o).setData(d,{...s,manual:!0})}setQueriesData(n,t,s){return dt.batch(()=>C(this,et).findAll(n).map(({queryKey:o})=>[o,this.setQueryData(o,t,s)]))}getQueryState(n){var s;const t=this.defaultQueryOptions({queryKey:n});return(s=C(this,et).get(t.queryHash))==null?void 0:s.state}removeQueries(n){const t=C(this,et);dt.batch(()=>{t.findAll(n).forEach(s=>{t.remove(s)})})}resetQueries(n,t){const s=C(this,et);return dt.batch(()=>(s.findAll(n).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...n},t)))}cancelQueries(n,t={}){const s={revert:!0,...t},o=dt.batch(()=>C(this,et).findAll(n).map(l=>l.cancel(s)));return Promise.all(o).then(jt).catch(jt)}invalidateQueries(n,t={}){return dt.batch(()=>(C(this,et).findAll(n).forEach(s=>{s.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},t)))}refetchQueries(n,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},o=dt.batch(()=>C(this,et).findAll(n).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let c=l.fetch(void 0,s);return s.throwOnError||(c=c.catch(jt)),l.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(o).then(jt)}fetchQuery(n){const t=this.defaultQueryOptions(n);t.retry===void 0&&(t.retry=!1);const s=C(this,et).build(this,t);return s.isStaleByTime(kn(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(jt).catch(jt)}fetchInfiniteQuery(n){return n.behavior=rh(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(jt).catch(jt)}ensureInfiniteQueryData(n){return n.behavior=rh(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Oi.isOnline()?C(this,Cn).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,et)}getMutationCache(){return C(this,Cn)}getDefaultOptions(){return C(this,An)}setDefaultOptions(n){ee(this,An,n)}setQueryDefaults(n,t){C(this,Xs).set(os(n),{queryKey:n,defaultOptions:t})}getQueryDefaults(n){const t=[...C(this,Xs).values()],s={};return t.forEach(o=>{Xa(n,o.queryKey)&&Object.assign(s,o.defaultOptions)}),s}setMutationDefaults(n,t){C(this,Zs).set(os(n),{mutationKey:n,defaultOptions:t})}getMutationDefaults(n){const t=[...C(this,Zs).values()],s={};return t.forEach(o=>{Xa(n,o.mutationKey)&&Object.assign(s,o.defaultOptions)}),s}defaultQueryOptions(n){if(n._defaulted)return n;const t={...C(this,An).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return t.queryHash||(t.queryHash=Uu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ou&&(t.enabled=!1),t}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...C(this,An).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){C(this,et).clear(),C(this,Cn).clear()}},et=new WeakMap,Cn=new WeakMap,An=new WeakMap,Xs=new WeakMap,Zs=new WeakMap,Sn=new WeakMap,ea=new WeakMap,ta=new WeakMap,Yh),lf=_.createContext(void 0),po=n=>{const t=_.useContext(lf);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Dv=({client:n,children:t})=>(_.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),p.jsx(lf.Provider,{value:n,children:t})),cf=_.createContext(!1),Pv=()=>_.useContext(cf);cf.Provider;function Nv(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var Rv=_.createContext(Nv()),Tv=()=>_.useContext(Rv),Uv=(n,t,s)=>{const o=s!=null&&s.state.error&&typeof n.throwOnError=="function"?Lu(n.throwOnError,[s.state.error,s]):n.throwOnError;(n.suspense||n.experimental_prefetchInRender||o)&&(t.isReset()||(n.retryOnMount=!1))},Ov=n=>{_.useEffect(()=>{n.clearReset()},[n])},Lv=({result:n,errorResetBoundary:t,throwOnError:s,query:o,suspense:l})=>n.isError&&!t.isReset()&&!n.isFetching&&o&&(l&&n.data===void 0||Lu(s,[n.error,o])),Iv=n=>{if(n.suspense){const s=l=>l==="static"?l:Math.max(l??1e3,1e3),o=n.staleTime;n.staleTime=typeof o=="function"?(...l)=>s(o(...l)):s(o),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},Bv=(n,t)=>n.isLoading&&n.isFetching&&!t,$v=(n,t)=>(n==null?void 0:n.suspense)&&t.isPending,sh=(n,t,s)=>t.fetchOptimistic(n).catch(()=>{s.clearReset()});function Mv(n,t,s){var w,b,E,j;const o=Pv(),l=Tv(),c=po(),d=c.defaultQueryOptions(n);(b=(w=c.getDefaultOptions().queries)==null?void 0:w._experimental_beforeQuery)==null||b.call(w,d);const f=c.getQueryCache().get(d.queryHash);d._optimisticResults=o?"isRestoring":"optimistic",Iv(d),Uv(d,l,f),Ov(l);const m=!c.getQueryCache().get(d.queryHash),[g]=_.useState(()=>new t(c,d)),x=g.getOptimisticResult(d),y=!o&&n.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(k=>{const U=y?g.subscribe(dt.batchCalls(k)):jt;return g.updateResult(),U},[g,y]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),_.useEffect(()=>{g.setOptions(d)},[d,g]),$v(d,x))throw sh(d,g,l);if(Lv({result:x,errorResetBoundary:l,throwOnError:d.throwOnError,query:f,suspense:d.suspense}))throw x.error;if((j=(E=c.getDefaultOptions().queries)==null?void 0:E._experimental_afterQuery)==null||j.call(E,d,x),d.experimental_prefetchInRender&&!as&&Bv(x,o)){const k=m?sh(d,g,l):f==null?void 0:f.promise;k==null||k.catch(jt).finally(()=>{g.updateResult()})}return d.notifyOnChangeProps?x:g.trackResult(x)}function Bt(n,t){return Mv(n,Fv)}function qr(n,t){const s=po(),[o]=_.useState(()=>new kv(s,n));_.useEffect(()=>{o.setOptions(n)},[o,n]);const l=_.useSyncExternalStore(_.useCallback(d=>o.subscribe(dt.batchCalls(d)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),c=_.useCallback((d,f)=>{o.mutate(d,f).catch(jt)},[o]);if(l.error&&Lu(o.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:c,mutateAsync:l.mutate}}/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ah="popstate";function zv(n={}){function t(o,l){let{pathname:c,search:d,hash:f}=o.location;return vu("",{pathname:c,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(o,l){return typeof l=="string"?l:Za(l)}return Vv(t,s,null,n)}function Ke(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function sr(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qv(){return Math.random().toString(36).substring(2,10)}function oh(n,t){return{usr:n.state,key:n.key,idx:t}}function vu(n,t,s=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?na(t):t,state:s,key:t&&t.key||o||qv()}}function Za({pathname:n="/",search:t="",hash:s=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function na(n){let t={};if(n){let s=n.indexOf("#");s>=0&&(t.hash=n.substring(s),n=n.substring(0,s));let o=n.indexOf("?");o>=0&&(t.search=n.substring(o),n=n.substring(0,o)),n&&(t.pathname=n)}return t}function Vv(n,t,s,o={}){let{window:l=document.defaultView,v5Compat:c=!1}=o,d=l.history,f="POP",m=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function y(){f="POP";let k=x(),U=k==null?null:k-g;g=k,m&&m({action:f,location:j.location,delta:U})}function w(k,U){f="PUSH";let T=vu(j.location,k,U);g=x()+1;let P=oh(T,g),B=j.createHref(T);try{d.pushState(P,"",B)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;l.location.assign(B)}c&&m&&m({action:f,location:j.location,delta:1})}function b(k,U){f="REPLACE";let T=vu(j.location,k,U);g=x();let P=oh(T,g),B=j.createHref(T);d.replaceState(P,"",B),c&&m&&m({action:f,location:j.location,delta:0})}function E(k){return Wv(k)}let j={get action(){return f},get location(){return n(l,d)},listen(k){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(ah,y),m=k,()=>{l.removeEventListener(ah,y),m=null}},createHref(k){return t(l,k)},createURL:E,encodeLocation(k){let U=E(k);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:w,replace:b,go(k){return d.go(k)}};return j}function Wv(n,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(s,"No window.location.(origin|href) available to create URL");let o=typeof n=="string"?n:Za(n);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=s+o),new URL(o,s)}function uf(n,t,s="/"){return Hv(n,t,s,!1)}function Hv(n,t,s,o){let l=typeof t=="string"?na(t):t,c=Hr(l.pathname||"/",s);if(c==null)return null;let d=df(n);Kv(d);let f=null;for(let m=0;f==null&&m<d.length;++m){let g=sx(c);f=rx(d[m],g,o)}return f}function df(n,t=[],s=[],o="",l=!1){let c=(d,f,m=l,g)=>{let x={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(o)&&m)return;Ke(x.relativePath.startsWith(o),`Absolute route path "${x.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(o.length)}let y=Vr([o,x.relativePath]),w=s.concat(x);d.children&&d.children.length>0&&(Ke(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),df(d.children,t,w,y,m)),!(d.path==null&&!d.index)&&t.push({path:y,score:ex(y,d.index),routesMeta:w})};return n.forEach((d,f)=>{var m;if(d.path===""||!((m=d.path)!=null&&m.includes("?")))c(d,f);else for(let g of pf(d.path))c(d,f,!0,g)}),t}function pf(n){let t=n.split("/");if(t.length===0)return[];let[s,...o]=t,l=s.endsWith("?"),c=s.replace(/\?$/,"");if(o.length===0)return l?[c,""]:[c];let d=pf(o.join("/")),f=[];return f.push(...d.map(m=>m===""?c:[c,m].join("/"))),l&&f.push(...d),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function Kv(n){n.sort((t,s)=>t.score!==s.score?s.score-t.score:tx(t.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}var Qv=/^:[\w-]+$/,Gv=3,Jv=2,Yv=1,Xv=10,Zv=-2,ih=n=>n==="*";function ex(n,t){let s=n.split("/"),o=s.length;return s.some(ih)&&(o+=Zv),t&&(o+=Jv),s.filter(l=>!ih(l)).reduce((l,c)=>l+(Qv.test(c)?Gv:c===""?Yv:Xv),o)}function tx(n,t){return n.length===t.length&&n.slice(0,-1).every((o,l)=>o===t[l])?n[n.length-1]-t[t.length-1]:0}function rx(n,t,s=!1){let{routesMeta:o}=n,l={},c="/",d=[];for(let f=0;f<o.length;++f){let m=o[f],g=f===o.length-1,x=c==="/"?t:t.slice(c.length)||"/",y=Li({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},x),w=m.route;if(!y&&g&&s&&!o[o.length-1].route.index&&(y=Li({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!y)return null;Object.assign(l,y.params),d.push({params:l,pathname:Vr([c,y.pathname]),pathnameBase:lx(Vr([c,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(c=Vr([c,y.pathnameBase]))}return d}function Li(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,o]=nx(n.path,n.caseSensitive,n.end),l=t.match(s);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:o.reduce((g,{paramName:x,isOptional:y},w)=>{if(x==="*"){let E=f[w]||"";d=c.slice(0,c.length-E.length).replace(/(.)\/+$/,"$1")}const b=f[w];return y&&!b?g[x]=void 0:g[x]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:n}}function nx(n,t=!1,s=!0){sr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,m)=>(o.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(o.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),o]}function sx(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Hr(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,o=n.charAt(s);return o&&o!=="/"?null:n.slice(s)||"/"}var hf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ax=n=>hf.test(n);function ox(n,t="/"){let{pathname:s,search:o="",hash:l=""}=typeof n=="string"?na(n):n,c;if(s)if(ax(s))c=s;else{if(s.includes("//")){let d=s;s=s.replace(/\/\/+/g,"/"),sr(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${s}`)}s.startsWith("/")?c=lh(s.substring(1),"/"):c=lh(s,t)}else c=t;return{pathname:c,search:cx(o),hash:ux(l)}}function lh(n,t){let s=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function qc(n,t,s,o){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ix(n){return n.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function $u(n){let t=ix(n);return t.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase)}function Mu(n,t,s,o=!1){let l;typeof n=="string"?l=na(n):(l={...n},Ke(!l.pathname||!l.pathname.includes("?"),qc("?","pathname","search",l)),Ke(!l.pathname||!l.pathname.includes("#"),qc("#","pathname","hash",l)),Ke(!l.search||!l.search.includes("#"),qc("#","search","hash",l)));let c=n===""||l.pathname==="",d=c?"/":l.pathname,f;if(d==null)f=s;else{let y=t.length-1;if(!o&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),y-=1;l.pathname=w.join("/")}f=y>=0?t[y]:"/"}let m=ox(l,f),g=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(g||x)&&(m.pathname+="/"),m}var Vr=n=>n.join("/").replace(/\/\/+/g,"/"),lx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ux=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,dx=class{constructor(n,t,s,o=!1){this.status=n,this.statusText=t||"",this.internal=o,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function px(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function hx(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ff=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function mf(n,t){let s=n;if(typeof s!="string"||!hf.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let o=s,l=!1;if(ff)try{let c=new URL(window.location.href),d=s.startsWith("//")?new URL(c.protocol+s):new URL(s),f=Hr(d.pathname,t);d.origin===c.origin&&f!=null?s=f+d.search+d.hash:l=!0}catch{sr(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:l,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gf=["POST","PUT","PATCH","DELETE"];new Set(gf);var fx=["GET",...gf];new Set(fx);var sa=_.createContext(null);sa.displayName="DataRouter";var zi=_.createContext(null);zi.displayName="DataRouterState";var mx=_.createContext(!1),vf=_.createContext({isTransitioning:!1});vf.displayName="ViewTransition";var gx=_.createContext(new Map);gx.displayName="Fetchers";var vx=_.createContext(null);vx.displayName="Await";var Gt=_.createContext(null);Gt.displayName="Navigation";var ho=_.createContext(null);ho.displayName="Location";var Er=_.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var zu=_.createContext(null);zu.displayName="RouteError";var xf="REACT_ROUTER_ERROR",xx="REDIRECT",yx="ROUTE_ERROR_RESPONSE";function wx(n){if(n.startsWith(`${xf}:${xx}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Fx(n){if(n.startsWith(`${xf}:${yx}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new dx(t.status,t.statusText,t.data)}catch{}}function _x(n,{relative:t}={}){Ke(aa(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:o}=_.useContext(Gt),{hash:l,pathname:c,search:d}=fo(n,{relative:t}),f=c;return s!=="/"&&(f=c==="/"?s:Vr([s,c])),o.createHref({pathname:f,search:d,hash:l})}function aa(){return _.useContext(ho)!=null}function ar(){return Ke(aa(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(ho).location}var yf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wf(n){_.useContext(Gt).static||_.useLayoutEffect(n)}function En(){let{isDataRoute:n}=_.useContext(Er);return n?Ux():bx()}function bx(){Ke(aa(),"useNavigate() may be used only in the context of a <Router> component.");let n=_.useContext(sa),{basename:t,navigator:s}=_.useContext(Gt),{matches:o}=_.useContext(Er),{pathname:l}=ar(),c=JSON.stringify($u(o)),d=_.useRef(!1);return wf(()=>{d.current=!0}),_.useCallback((m,g={})=>{if(sr(d.current,yf),!d.current)return;if(typeof m=="number"){s.go(m);return}let x=Mu(m,JSON.parse(c),l,g.relative==="path");n==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:Vr([t,x.pathname])),(g.replace?s.replace:s.push)(x,g.state,g)},[t,s,c,l,n])}_.createContext(null);function fo(n,{relative:t}={}){let{matches:s}=_.useContext(Er),{pathname:o}=ar(),l=JSON.stringify($u(s));return _.useMemo(()=>Mu(n,JSON.parse(l),o,t==="path"),[n,l,o,t])}function Cx(n,t){return Ff(n,t)}function Ff(n,t,s,o,l){var T;Ke(aa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=_.useContext(Gt),{matches:d}=_.useContext(Er),f=d[d.length-1],m=f?f.params:{},g=f?f.pathname:"/",x=f?f.pathnameBase:"/",y=f&&f.route;{let P=y&&y.path||"";bf(g,!y||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let w=ar(),b;if(t){let P=typeof t=="string"?na(t):t;Ke(x==="/"||((T=P.pathname)==null?void 0:T.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=w;let E=b.pathname||"/",j=E;if(x!=="/"){let P=x.replace(/^\//,"").split("/");j="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let k=uf(n,{pathname:j});sr(y||k!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),sr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=jx(k&&k.map(P=>Object.assign({},P,{params:Object.assign({},m,P.params),pathname:Vr([x,c.encodeLocation?c.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?x:Vr([x,c.encodeLocation?c.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),d,s,o,l);return t&&U?_.createElement(ho.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},U):U}function Ax(){let n=Tx(),t=px(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:o},c={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:c},"ErrorBoundary")," or"," ",_.createElement("code",{style:c},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),s?_.createElement("pre",{style:l},s):null,d)}var Sx=_.createElement(Ax,null),_f=class extends _.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const s=Fx(n.digest);s&&(n=s)}let t=n!==void 0?_.createElement(Er.Provider,{value:this.props.routeContext},_.createElement(zu.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?_.createElement(kx,{error:n},t):t}};_f.contextType=mx;var Vc=new WeakMap;function kx({children:n,error:t}){let{basename:s}=_.useContext(Gt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let o=wx(t.digest);if(o){let l=Vc.get(t);if(l)throw l;let c=mf(o.location,s);if(ff&&!Vc.get(t))if(c.isExternal||o.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:o.replace}));throw Vc.set(t,d),d}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return n}function Ex({routeContext:n,match:t,children:s}){let o=_.useContext(sa);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Er.Provider,{value:n},s)}function jx(n,t=[],s=null,o=null,l=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let c=n,d=s==null?void 0:s.errors;if(d!=null){let x=c.findIndex(y=>y.route.id&&(d==null?void 0:d[y.route.id])!==void 0);Ke(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let f=!1,m=-1;if(s)for(let x=0;x<c.length;x++){let y=c[x];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=x),y.route.id){let{loaderData:w,errors:b}=s,E=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||E){f=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let g=s&&o?(x,y)=>{var w,b;o(x,{location:s.location,params:((b=(w=s.matches)==null?void 0:w[0])==null?void 0:b.params)??{},unstable_pattern:hx(s.matches),errorInfo:y})}:void 0;return c.reduceRight((x,y,w)=>{let b,E=!1,j=null,k=null;s&&(b=d&&y.route.id?d[y.route.id]:void 0,j=y.route.errorElement||Sx,f&&(m<0&&w===0?(bf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,k=null):m===w&&(E=!0,k=y.route.hydrateFallbackElement||null)));let U=t.concat(c.slice(0,w+1)),T=()=>{let P;return b?P=j:E?P=k:y.route.Component?P=_.createElement(y.route.Component,null):y.route.element?P=y.route.element:P=x,_.createElement(Ex,{match:y,routeContext:{outlet:x,matches:U,isDataRoute:s!=null},children:P})};return s&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?_.createElement(_f,{location:s.location,revalidation:s.revalidation,component:j,error:b,children:T(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:g}):T()},null)}function qu(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dx(n){let t=_.useContext(sa);return Ke(t,qu(n)),t}function Px(n){let t=_.useContext(zi);return Ke(t,qu(n)),t}function Nx(n){let t=_.useContext(Er);return Ke(t,qu(n)),t}function Vu(n){let t=Nx(n),s=t.matches[t.matches.length-1];return Ke(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function Rx(){return Vu("useRouteId")}function Tx(){var o;let n=_.useContext(zu),t=Px("useRouteError"),s=Vu("useRouteError");return n!==void 0?n:(o=t.errors)==null?void 0:o[s]}function Ux(){let{router:n}=Dx("useNavigate"),t=Vu("useNavigate"),s=_.useRef(!1);return wf(()=>{s.current=!0}),_.useCallback(async(l,c={})=>{sr(s.current,yf),s.current&&(typeof l=="number"?await n.navigate(l):await n.navigate(l,{fromRouteId:t,...c}))},[n,t])}var ch={};function bf(n,t,s){!t&&!ch[n]&&(ch[n]=!0,sr(!1,s))}_.memo(Ox);function Ox({routes:n,future:t,state:s,onError:o}){return Ff(n,void 0,s,o,t)}function Cf({to:n,replace:t,state:s,relative:o}){Ke(aa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=_.useContext(Gt);sr(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=_.useContext(Er),{pathname:d}=ar(),f=En(),m=Mu(n,$u(c),d,o==="path"),g=JSON.stringify(m);return _.useEffect(()=>{f(JSON.parse(g),{replace:t,state:s,relative:o})},[f,g,o,t,s]),null}function Vn(n){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Lx({basename:n="/",children:t=null,location:s,navigationType:o="POP",navigator:l,static:c=!1,unstable_useTransitions:d}){Ke(!aa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),m=_.useMemo(()=>({basename:f,navigator:l,static:c,unstable_useTransitions:d,future:{}}),[f,l,c,d]);typeof s=="string"&&(s=na(s));let{pathname:g="/",search:x="",hash:y="",state:w=null,key:b="default"}=s,E=_.useMemo(()=>{let j=Hr(g,f);return j==null?null:{location:{pathname:j,search:x,hash:y,state:w,key:b},navigationType:o}},[f,g,x,y,w,b,o]);return sr(E!=null,`<Router basename="${f}"> is not able to match the URL "${g}${x}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:_.createElement(Gt.Provider,{value:m},_.createElement(ho.Provider,{children:t,value:E}))}function Ix({children:n,location:t}){return Cx(xu(n),t)}function xu(n,t=[]){let s=[];return _.Children.forEach(n,(o,l)=>{if(!_.isValidElement(o))return;let c=[...t,l];if(o.type===_.Fragment){s.push.apply(s,xu(o.props.children,c));return}Ke(o.type===Vn,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=xu(o.props.children,c)),s.push(d)}),s}var Ri="get",Ti="application/x-www-form-urlencoded";function qi(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Bx(n){return qi(n)&&n.tagName.toLowerCase()==="button"}function $x(n){return qi(n)&&n.tagName.toLowerCase()==="form"}function Mx(n){return qi(n)&&n.tagName.toLowerCase()==="input"}function zx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function qx(n,t){return n.button===0&&(!t||t==="_self")&&!zx(n)}var Si=null;function Vx(){if(Si===null)try{new FormData(document.createElement("form"),0),Si=!1}catch{Si=!0}return Si}var Wx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wc(n){return n!=null&&!Wx.has(n)?(sr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ti}"`),null):n}function Hx(n,t){let s,o,l,c,d;if($x(n)){let f=n.getAttribute("action");o=f?Hr(f,t):null,s=n.getAttribute("method")||Ri,l=Wc(n.getAttribute("enctype"))||Ti,c=new FormData(n)}else if(Bx(n)||Mx(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(o=m?Hr(m,t):null,s=n.getAttribute("formmethod")||f.getAttribute("method")||Ri,l=Wc(n.getAttribute("formenctype"))||Wc(f.getAttribute("enctype"))||Ti,c=new FormData(f,n),!Vx()){let{name:g,type:x,value:y}=n;if(x==="image"){let w=g?`${g}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else g&&c.append(g,y)}}else{if(qi(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Ri,o=null,l=Ti,d=n}return c&&l==="text/plain"&&(d=c,c=void 0),{action:o,method:s.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wu(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Kx(n,t,s,o){let l=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${o}`:l.pathname=`${l.pathname}.${o}`:l.pathname==="/"?l.pathname=`_root.${o}`:t&&Hr(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${o}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${o}`,l}async function Qx(n,t){if(n.id in t)return t[n.id];try{let s=await import(n.module);return t[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Jx(n,t,s){let o=await Promise.all(n.map(async l=>{let c=t.routes[l.route.id];if(c){let d=await Qx(c,s);return d.links?d.links():[]}return[]}));return ey(o.flat(1).filter(Gx).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function uh(n,t,s,o,l,c){let d=(m,g)=>s[g]?m.route.id!==s[g].route.id:!0,f=(m,g)=>{var x;return s[g].pathname!==m.pathname||((x=s[g].route.path)==null?void 0:x.endsWith("*"))&&s[g].params["*"]!==m.params["*"]};return c==="assets"?t.filter((m,g)=>d(m,g)||f(m,g)):c==="data"?t.filter((m,g)=>{var y;let x=o.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(d(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((y=s[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Yx(n,t,{includeHydrateFallback:s}={}){return Xx(n.map(o=>{let l=t.routes[o.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),s&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function Xx(n){return[...new Set(n)]}function Zx(n){let t={},s=Object.keys(n).sort();for(let o of s)t[o]=n[o];return t}function ey(n,t){let s=new Set;return new Set(t),n.reduce((o,l)=>{let c=JSON.stringify(Zx(l));return s.has(c)||(s.add(c),o.push({key:c,link:l})),o},[])}function Af(){let n=_.useContext(sa);return Wu(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ty(){let n=_.useContext(zi);return Wu(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Hu=_.createContext(void 0);Hu.displayName="FrameworkContext";function Sf(){let n=_.useContext(Hu);return Wu(n,"You must render this element inside a <HydratedRouter> element"),n}function ry(n,t){let s=_.useContext(Hu),[o,l]=_.useState(!1),[c,d]=_.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:x,onTouchStart:y}=t,w=_.useRef(null);_.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let j=U=>{U.forEach(T=>{d(T.isIntersecting)})},k=new IntersectionObserver(j,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[n]),_.useEffect(()=>{if(o){let j=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(j)}}},[o]);let b=()=>{l(!0)},E=()=>{l(!1),d(!1)};return s?n!=="intent"?[c,w,{}]:[c,w,{onFocus:Ha(f,b),onBlur:Ha(m,E),onMouseEnter:Ha(g,b),onMouseLeave:Ha(x,E),onTouchStart:Ha(y,b)}]:[!1,w,{}]}function Ha(n,t){return s=>{n&&n(s),s.defaultPrevented||t(s)}}function ny({page:n,...t}){let{router:s}=Af(),o=_.useMemo(()=>uf(s.routes,n,s.basename),[s.routes,n,s.basename]);return o?_.createElement(ay,{page:n,matches:o,...t}):null}function sy(n){let{manifest:t,routeModules:s}=Sf(),[o,l]=_.useState([]);return _.useEffect(()=>{let c=!1;return Jx(n,t,s).then(d=>{c||l(d)}),()=>{c=!0}},[n,t,s]),o}function ay({page:n,matches:t,...s}){let o=ar(),{future:l,manifest:c,routeModules:d}=Sf(),{basename:f}=Af(),{loaderData:m,matches:g}=ty(),x=_.useMemo(()=>uh(n,t,g,c,o,"data"),[n,t,g,c,o]),y=_.useMemo(()=>uh(n,t,g,c,o,"assets"),[n,t,g,c,o]),w=_.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let j=new Set,k=!1;if(t.forEach(T=>{var B;let P=c.routes[T.route.id];!P||!P.hasLoader||(!x.some(K=>K.route.id===T.route.id)&&T.route.id in m&&((B=d[T.route.id])!=null&&B.shouldRevalidate)||P.hasClientLoader?k=!0:j.add(T.route.id))}),j.size===0)return[];let U=Kx(n,f,l.unstable_trailingSlashAwareDataRequests,"data");return k&&j.size>0&&U.searchParams.set("_routes",t.filter(T=>j.has(T.route.id)).map(T=>T.route.id).join(",")),[U.pathname+U.search]},[f,l.unstable_trailingSlashAwareDataRequests,m,o,c,x,t,n,d]),b=_.useMemo(()=>Yx(y,c),[y,c]),E=sy(y);return _.createElement(_.Fragment,null,w.map(j=>_.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...s})),b.map(j=>_.createElement("link",{key:j,rel:"modulepreload",href:j,...s})),E.map(({key:j,link:k})=>_.createElement("link",{key:j,nonce:s.nonce,...k})))}function oy(...n){return t=>{n.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var iy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iy&&(window.__reactRouterVersion="7.12.0")}catch{}function ly({basename:n,children:t,unstable_useTransitions:s,window:o}){let l=_.useRef();l.current==null&&(l.current=zv({window:o,v5Compat:!0}));let c=l.current,[d,f]=_.useState({action:c.action,location:c.location}),m=_.useCallback(g=>{s===!1?f(g):_.startTransition(()=>f(g))},[s]);return _.useLayoutEffect(()=>c.listen(m),[c,m]),_.createElement(Lx,{basename:n,children:t,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:s})}var kf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ct=_.forwardRef(function({onClick:t,discover:s="render",prefetch:o="none",relative:l,reloadDocument:c,replace:d,state:f,target:m,to:g,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:w,...b},E){let{basename:j,unstable_useTransitions:k}=_.useContext(Gt),U=typeof g=="string"&&kf.test(g),T=mf(g,j);g=T.to;let P=_x(g,{relative:l}),[B,K,W]=ry(o,b),V=py(g,{replace:d,state:f,target:m,preventScrollReset:x,relative:l,viewTransition:y,unstable_defaultShouldRevalidate:w,unstable_useTransitions:k});function X(oe){t&&t(oe),oe.defaultPrevented||V(oe)}let ae=_.createElement("a",{...b,...W,href:T.absoluteURL||P,onClick:T.isExternal||c?t:X,ref:oy(E,K),target:m,"data-discover":!U&&s==="render"?"true":void 0});return B&&!U?_.createElement(_.Fragment,null,ae,_.createElement(ny,{page:P})):ae});Ct.displayName="Link";var cy=_.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:o="",end:l=!1,style:c,to:d,viewTransition:f,children:m,...g},x){let y=fo(d,{relative:g.relative}),w=ar(),b=_.useContext(zi),{navigator:E,basename:j}=_.useContext(Gt),k=b!=null&&vy(y)&&f===!0,U=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,T=w.pathname,P=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(T=T.toLowerCase(),P=P?P.toLowerCase():null,U=U.toLowerCase()),P&&j&&(P=Hr(P,j)||P);const B=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let K=T===U||!l&&T.startsWith(U)&&T.charAt(B)==="/",W=P!=null&&(P===U||!l&&P.startsWith(U)&&P.charAt(U.length)==="/"),V={isActive:K,isPending:W,isTransitioning:k},X=K?t:void 0,ae;typeof o=="function"?ae=o(V):ae=[o,K?"active":null,W?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let oe=typeof c=="function"?c(V):c;return _.createElement(Ct,{...g,"aria-current":X,className:ae,ref:x,style:oe,to:d,viewTransition:f},typeof m=="function"?m(V):m)});cy.displayName="NavLink";var uy=_.forwardRef(({discover:n="render",fetcherKey:t,navigate:s,reloadDocument:o,replace:l,state:c,method:d=Ri,action:f,onSubmit:m,relative:g,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:w,...b},E)=>{let{unstable_useTransitions:j}=_.useContext(Gt),k=my(),U=gy(f,{relative:g}),T=d.toLowerCase()==="get"?"get":"post",P=typeof f=="string"&&kf.test(f),B=K=>{if(m&&m(K),K.defaultPrevented)return;K.preventDefault();let W=K.nativeEvent.submitter,V=(W==null?void 0:W.getAttribute("formmethod"))||d,X=()=>k(W||K.currentTarget,{fetcherKey:t,method:V,navigate:s,replace:l,state:c,relative:g,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:w});j&&s!==!1?_.startTransition(()=>X()):X()};return _.createElement("form",{ref:E,method:T,action:U,onSubmit:o?m:B,...b,"data-discover":!P&&n==="render"?"true":void 0})});uy.displayName="Form";function dy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ef(n){let t=_.useContext(sa);return Ke(t,dy(n)),t}function py(n,{target:t,replace:s,state:o,preventScrollReset:l,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let g=En(),x=ar(),y=fo(n,{relative:c});return _.useCallback(w=>{if(qx(w,t)){w.preventDefault();let b=s!==void 0?s:Za(x)===Za(y),E=()=>g(n,{replace:b,state:o,preventScrollReset:l,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:f});m?_.startTransition(()=>E()):E()}},[x,g,y,s,o,t,n,l,c,d,f,m])}var hy=0,fy=()=>`__${String(++hy)}__`;function my(){let{router:n}=Ef("useSubmit"),{basename:t}=_.useContext(Gt),s=Rx(),o=n.fetch,l=n.navigate;return _.useCallback(async(c,d={})=>{let{action:f,method:m,encType:g,formData:x,body:y}=Hx(c,t);if(d.navigate===!1){let w=d.fetcherKey||fy();await o(w,s,d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:y,formMethod:d.method||m,formEncType:d.encType||g,flushSync:d.flushSync})}else await l(d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:y,formMethod:d.method||m,formEncType:d.encType||g,replace:d.replace,state:d.state,fromRouteId:s,flushSync:d.flushSync,viewTransition:d.viewTransition})},[o,l,t,s])}function gy(n,{relative:t}={}){let{basename:s}=_.useContext(Gt),o=_.useContext(Er);Ke(o,"useFormAction must be used inside a RouteContext");let[l]=o.matches.slice(-1),c={...fo(n||".",{relative:t})},d=ar();if(n==null){c.search=d.search;let f=new URLSearchParams(c.search),m=f.getAll("index");if(m.some(x=>x==="")){f.delete("index"),m.filter(y=>y).forEach(y=>f.append("index",y));let x=f.toString();c.search=x?`?${x}`:""}}return(!n||n===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:Vr([s,c.pathname])),Za(c)}function vy(n,{relative:t}={}){let s=_.useContext(vf);Ke(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Ef("useViewTransitionState"),l=fo(n,{relative:t});if(!s.isTransitioning)return!1;let c=Hr(s.currentLocation.pathname,o)||s.currentLocation.pathname,d=Hr(s.nextLocation.pathname,o)||s.nextLocation.pathname;return Li(l.pathname,d)!=null||Li(l.pathname,c)!=null}function Vi(n,t){var s={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&t.indexOf(o)<0&&(s[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(s[o[l]]=n[o[l]]);return s}function xy(n,t,s,o){function l(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(x){try{g(o.next(x))}catch(y){d(y)}}function m(x){try{g(o.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):l(x.value).then(f,m)}g((o=o.apply(n,t||[])).next())})}const yy=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class Ku extends Error{constructor(t,s="FunctionsError",o){super(t),this.name=s,this.context=o}}class wy extends Ku{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dh extends Ku{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ph extends Ku{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yu;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(yu||(yu={}));class Fy{constructor(t,{headers:s={},customFetch:o,region:l=yu.Any}={}){this.url=t,this.headers=s,this.region=l,this.fetch=yy(o)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return xy(this,arguments,void 0,function*(s,o={}){var l;let c,d;try{const{headers:f,method:m,body:g,signal:x,timeout:y}=o;let w={},{region:b}=o;b||(b=this.region);const E=new URL(`${this.url}/${s}`);b&&b!=="any"&&(w["x-region"]=b,E.searchParams.set("forceFunctionRegion",b));let j;g&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",j=g):typeof g=="string"?(w["Content-Type"]="text/plain",j=g):typeof FormData<"u"&&g instanceof FormData?j=g:(w["Content-Type"]="application/json",j=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?j=JSON.stringify(g):j=g;let k=x;y&&(d=new AbortController,c=setTimeout(()=>d.abort(),y),x?(k=d.signal,x.addEventListener("abort",()=>d.abort())):k=d.signal);const U=yield this.fetch(E.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),f),body:j,signal:k}).catch(K=>{throw new wy(K)}),T=U.headers.get("x-relay-error");if(T&&T==="true")throw new dh(U);if(!U.ok)throw new ph(U);let P=((l=U.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),B;return P==="application/json"?B=yield U.json():P==="application/octet-stream"||P==="application/pdf"?B=yield U.blob():P==="text/event-stream"?B=U:P==="multipart/form-data"?B=yield U.formData():B=yield U.text(),{data:B,error:null,response:U}}catch(f){return{data:null,error:f,response:f instanceof ph||f instanceof dh?f.context:void 0}}finally{c&&clearTimeout(c)}})}}var _y=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},by=class{constructor(n){var t,s;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let d=null,f=null,m=null,g=c.status,x=c.statusText;if(c.ok){var y,w;if(s.method!=="HEAD"){var b;const U=await c.text();U===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((b=s.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?f=U:f=JSON.parse(U))}const j=(y=s.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),k=(w=c.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");j&&k&&k.length>1&&(m=parseInt(k[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,g=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var E;const j=await c.text();try{d=JSON.parse(j),Array.isArray(d)&&c.status===404&&(f=[],d=null,g=200,x="OK")}catch{c.status===404&&j===""?(g=204,x="No Content"):d={message:j}}if(d&&s.isMaybeSingle&&(!(d==null||(E=d.details)===null||E===void 0)&&E.includes("0 rows"))&&(d=null,g=200,x="OK"),d&&s.shouldThrowOnError)throw new _y(d)}return{error:d,data:f,count:m,status:g,statusText:x}});return this.shouldThrowOnError||(l=l.catch(c=>{var d;let f="";const m=c==null?void 0:c.cause;if(m){var g,x,y,w;const E=(g=m==null?void 0:m.message)!==null&&g!==void 0?g:"",j=(x=m==null?void 0:m.code)!==null&&x!==void 0?x:"";f=`${(y=c==null?void 0:c.name)!==null&&y!==void 0?y:"FetchError"}: ${c==null?void 0:c.message}`,f+=`

Caused by: ${(w=m==null?void 0:m.name)!==null&&w!==void 0?w:"Error"}: ${E}`,j&&(f+=` (${j})`),m!=null&&m.stack&&(f+=`
${m.stack}`)}else{var b;f=(b=c==null?void 0:c.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(n,t)}returns(){return this}overrideTypes(){return this}},Cy=class extends by{select(n){let t=!1;const s=(n??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${n}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:s=t}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,t,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var d;const f=[n?"analyze":null,t?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const hh=new RegExp("[,()]");var Bs=class extends Cy{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){const s=Array.from(new Set(t)).map(o=>typeof o=="string"&&hh.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,t){const s=Array.from(new Set(t)).map(o=>typeof o=="string"&&hh.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:s,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${l}fts${c}.${t}`),this}match(n){return Object.entries(n).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(n,t,s){return this.url.searchParams.append(n,`not.${t}.${s}`),this}or(n,{foreignTable:t,referencedTable:s=t}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${n})`),this}filter(n,t,s){return this.url.searchParams.append(n,`${t}.${s}`),this}},Ay=class{constructor(n,{headers:t={},schema:s,fetch:o}){this.url=n,this.headers=new Headers(t),this.schema=s,this.fetch=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,t){const{head:s=!1,count:o}=t??{},l=s?"HEAD":"GET";let c=!1;const d=(n??"*").split("").map(g=>/\s/.test(g)&&!c?"":(g==='"'&&(c=!c),g)).join(""),{url:f,headers:m}=this.cloneRequestState();return f.searchParams.set("select",d),o&&m.append("Prefer",`count=${o}`),new Bs({method:l,url:f,headers:m,schema:this.schema,fetch:this.fetch})}insert(n,{count:t,defaultToNull:s=!0}={}){var o;const l="POST",{url:c,headers:d}=this.cloneRequestState();if(t&&d.append("Prefer",`count=${t}`),s||d.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(f.length>0){const m=[...new Set(f)].map(g=>`"${g}"`);c.searchParams.set("columns",m.join(","))}}return new Bs({method:l,url:c,headers:d,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(n,{onConflict:t,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var c;const d="POST",{url:f,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&f.searchParams.set("on_conflict",t),o&&m.append("Prefer",`count=${o}`),l||m.append("Prefer","missing=default"),Array.isArray(n)){const g=n.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(g.length>0){const x=[...new Set(g)].map(y=>`"${y}"`);f.searchParams.set("columns",x.join(","))}}return new Bs({method:d,url:f,headers:m,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(n,{count:t}={}){var s;const o="PATCH",{url:l,headers:c}=this.cloneRequestState();return t&&c.append("Prefer",`count=${t}`),new Bs({method:o,url:l,headers:c,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:n}={}){var t;const s="DELETE",{url:o,headers:l}=this.cloneRequestState();return n&&l.append("Prefer",`count=${n}`),new Bs({method:s,url:o,headers:l,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Sy=class jf{constructor(t,{headers:s={},schema:o,fetch:l}={}){this.url=t,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ay(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new jf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:o=!1,get:l=!1,count:c}={}){var d;let f;const m=new URL(`${this.url}/rpc/${t}`);let g;const x=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(x)),y=o&&Object.values(s).some(x);y?(f="POST",g=s):o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([b,E])=>E!==void 0).map(([b,E])=>[b,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([b,E])=>{m.searchParams.append(b,E)})):(f="POST",g=s);const w=new Headers(this.headers);return y?w.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&w.set("Prefer",`count=${c}`),new Bs({method:f,url:m,headers:w,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class ky{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const o=s.versions;if(o&&o.node){const l=o.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const o=this.getWebSocketConstructor();return new o(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Ey="2.90.1",jy=`realtime-js/${Ey}`,Df="1.0.0",Dy="2.0.0",fh=Df,wu=1e4,Py=1e3,Ny=100;var gn;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(gn||(gn={}));var ut;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ut||(ut={}));var xr;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(xr||(xr={}));var Fu;(function(n){n.websocket="websocket"})(Fu||(Fu={}));var Hn;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Hn||(Hn={}));class Ry{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let o=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,o;const l=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(t){var s,o;const l=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(t,s,o){var l,c;const d=t.topic,f=(l=t.ref)!==null&&l!==void 0?l:"",m=(c=t.join_ref)!==null&&c!==void 0?c:"",g=t.payload.event,x=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},y=Object.keys(x).length===0?"":JSON.stringify(x);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+d.length+g.length+y.length,b=new ArrayBuffer(this.HEADER_LENGTH+w);let E=new DataView(b),j=0;E.setUint8(j++,this.KINDS.userBroadcastPush),E.setUint8(j++,m.length),E.setUint8(j++,f.length),E.setUint8(j++,d.length),E.setUint8(j++,g.length),E.setUint8(j++,y.length),E.setUint8(j++,s),Array.from(m,U=>E.setUint8(j++,U.charCodeAt(0))),Array.from(f,U=>E.setUint8(j++,U.charCodeAt(0))),Array.from(d,U=>E.setUint8(j++,U.charCodeAt(0))),Array.from(g,U=>E.setUint8(j++,U.charCodeAt(0))),Array.from(y,U=>E.setUint8(j++,U.charCodeAt(0)));var k=new Uint8Array(b.byteLength+o.byteLength);return k.set(new Uint8Array(b),0),k.set(new Uint8Array(o),b.byteLength),k.buffer}decode(t,s){if(this._isArrayBuffer(t)){let o=this._binaryDecode(t);return s(o)}if(typeof t=="string"){const o=JSON.parse(t),[l,c,d,f,m]=o;return s({join_ref:l,ref:c,topic:d,event:f,payload:m})}return s({})}_binaryDecode(t){const s=new DataView(t),o=s.getUint8(0),l=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,s,l)}}_decodeUserBroadcast(t,s,o){const l=s.getUint8(1),c=s.getUint8(2),d=s.getUint8(3),f=s.getUint8(4);let m=this.HEADER_LENGTH+4;const g=o.decode(t.slice(m,m+l));m=m+l;const x=o.decode(t.slice(m,m+c));m=m+c;const y=o.decode(t.slice(m,m+d));m=m+d;const w=t.slice(m,t.byteLength),b=f===this.JSON_ENCODING?JSON.parse(o.decode(w)):w,E={type:this.BROADCAST_EVENT,event:x,payload:b};return d>0&&(E.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([o])=>s.includes(o)))}}class Pf{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})($e||($e={}));const mh=(n,t,s={})=>{var o;const l=(o=s.skipTypes)!==null&&o!==void 0?o:[];return t?Object.keys(t).reduce((c,d)=>(c[d]=Ty(d,n,t,l),c),{}):{}},Ty=(n,t,s,o)=>{const l=t.find(f=>f.name===n),c=l==null?void 0:l.type,d=s[n];return c&&!o.includes(c)?Nf(c,d):_u(d)},Nf=(n,t)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return Iy(t,s)}switch(n){case $e.bool:return Uy(t);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return Oy(t);case $e.json:case $e.jsonb:return Ly(t);case $e.timestamp:return By(t);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return _u(t);default:return _u(t)}},_u=n=>n,Uy=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Oy=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},Ly=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},Iy=(n,t)=>{if(typeof n!="string")return n;const s=n.length-1,o=n[s];if(n[0]==="{"&&o==="}"){let c;const d=n.slice(1,s);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(f=>Nf(t,f))}return n},By=n=>typeof n=="string"?n.replace(" ","T"):n,Rf=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Hc{constructor(t,s,o={},l=wu){this.channel=t,this.event=s,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var o;return this._hasReceived(t)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(o=>o.status===t).forEach(o=>o.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gh;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(gh||(gh={}));class Ga{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ga.syncState(this.state,l,c,d),this.pendingDiffs.forEach(m=>{this.state=Ga.syncDiff(this.state,m,c,d)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},l=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Ga.syncDiff(this.state,l,c,d),f())}),this.onJoin((l,c,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:d})}),this.onLeave((l,c,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,o,l){const c=this.cloneDeep(t),d=this.transformState(s),f={},m={};return this.map(c,(g,x)=>{d[g]||(m[g]=x)}),this.map(d,(g,x)=>{const y=c[g];if(y){const w=x.map(k=>k.presence_ref),b=y.map(k=>k.presence_ref),E=x.filter(k=>b.indexOf(k.presence_ref)<0),j=y.filter(k=>w.indexOf(k.presence_ref)<0);E.length>0&&(f[g]=E),j.length>0&&(m[g]=j)}else f[g]=x}),this.syncDiff(c,{joins:f,leaves:m},o,l)}static syncDiff(t,s,o,l){const{joins:c,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(c,(f,m)=>{var g;const x=(g=t[f])!==null&&g!==void 0?g:[];if(t[f]=this.cloneDeep(m),x.length>0){const y=t[f].map(b=>b.presence_ref),w=x.filter(b=>y.indexOf(b.presence_ref)<0);t[f].unshift(...w)}o(f,x,m)}),this.map(d,(f,m)=>{let g=t[f];if(!g)return;const x=m.map(y=>y.presence_ref);g=g.filter(y=>x.indexOf(y.presence_ref)<0),t[f]=g,l(f,g,m),g.length===0&&delete t[f]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(o=>s(o,t[o]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,o)=>{const l=t[o];return"metas"in l?s[o]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[o]=l,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vh;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(vh||(vh={}));var Ja;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Ja||(Ja={}));var Ir;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Ir||(Ir={}));class zs{constructor(t,s={config:{}},o){var l,c;if(this.topic=t,this.params=s,this.socket=o,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Hc(this,xr.join,this.params,this.timeout),this.rejoinTimer=new Pf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xr.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new Ga(this),this.broadcastEndpointURL=Rf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var o,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:d,presence:f,private:m}}=this.params,g=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(b=>b.filter))!==null&&l!==void 0?l:[],x=!!this.bindings[Ja.PRESENCE]&&this.bindings[Ja.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,y={},w={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:x}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(b=>t==null?void 0:t(Ir.CHANNEL_ERROR,b)),this._onClose(()=>t==null?void 0:t(Ir.CLOSED)),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:b})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){t==null||t(Ir.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,k=(E=j==null?void 0:j.length)!==null&&E!==void 0?E:0,U=[];for(let T=0;T<k;T++){const P=j[T],{filter:{event:B,schema:K,table:W,filter:V}}=P,X=b&&b[T];if(X&&X.event===B&&zs.isFilterValueEqual(X.schema,K)&&zs.isFilterValueEqual(X.table,W)&&zs.isFilterValueEqual(X.filter,V))U.push(Object.assign(Object.assign({},P),{id:X.id}));else{this.unsubscribe(),this.state=ut.errored,t==null||t(Ir.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,t&&t(Ir.SUBSCRIBED);return}}).receive("error",b=>{this.state=ut.errored,t==null||t(Ir.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ir.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,o){return this.state===ut.joined&&t===Ja.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,o)}async httpSend(t,s,o={}){var l;if(s==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const g=await f.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(t,s={}){var o,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:d}=t,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,f,m;const g=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ut.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xr.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new Hc(this,xr.leave,{},t),o.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}async _fetchWithTimeout(t,s,o){const l=new AbortController,c=setTimeout(()=>l.abort(),o),d=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(c),d}_push(t,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Hc(this,t,s,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Ny){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,o){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,o){var l,c;const d=t.toLocaleLowerCase(),{close:f,error:m,leave:g,join:x}=xr;if(o&&[f,m,g,x].indexOf(d)>=0&&o!==this._joinRef())return;let w=this._onMessage(d,s,o);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(b=>{var E,j,k;return((E=b.filter)===null||E===void 0?void 0:E.event)==="*"||((k=(j=b.filter)===null||j===void 0?void 0:j.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===d}).map(b=>b.callback(w,o)):(c=this.bindings[d])===null||c===void 0||c.filter(b=>{var E,j,k,U,T,P,B,K;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in b){const W=b.id,V=(E=b.filter)===null||E===void 0?void 0:E.event;return W&&((j=s.ids)===null||j===void 0?void 0:j.includes(W))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))&&(!(!((U=b.filter)===null||U===void 0)&&U.table)||b.filter.table===((T=s.data)===null||T===void 0?void 0:T.table))}else{const W=(B=(P=b==null?void 0:b.filter)===null||P===void 0?void 0:P.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return W==="*"||W===((K=s==null?void 0:s.event)===null||K===void 0?void 0:K.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===d}).map(b=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:j,table:k,commit_timestamp:U,type:T,errors:P}=E;w=Object.assign(Object.assign({},{schema:j,table:k,commit_timestamp:U,eventType:T,new:{},old:{},errors:P}),this._getPayloadRecords(E))}b.callback(w,o)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,o){const l=t.toLocaleLowerCase(),c={type:l,filter:s,callback:o};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(t,s){const o=t.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&zs.isEqual(l.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const o in t)if(t[o]!==s[o])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xr.close,{},t)}_onError(t){this._on(xr.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=mh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=mh(t.columns,t.old_record)),s}}const Kc=()=>{},ki={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$y=[1e3,2e3,5e3,1e4],My=1e4,zy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qy{constructor(t,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wu,this.transport=null,this.heartbeatIntervalMs=ki.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kc,this.ref=0,this.reconnectTimer=null,this.vsn=fh,this.logger=Kc,this.conn=null,this.sendBuffer=[],this.serializer=new Ry,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((o=s==null?void 0:s.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${Fu.websocket}`,this.httpEndpoint=Rf(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ky.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,o){this.logger(t,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case gn.connecting:return Hn.Connecting;case gn.open:return Hn.Open;case gn.closing:return Hn.Closing;default:return Hn.Closed}}isConnected(){return this.connectionState()===Hn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const o=`realtime:${t}`,l=this.getChannels().find(c=>c.topic===o);if(l)return l;{const c=new zs(`realtime:${t}`,s,this);return this.channels.push(c),c}}push(t){const{topic:s,event:o,payload:l,ref:c}=t,d=()=>{this.encode(t,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${s} ${o} (${c})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Py,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ki.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(o=>o.topic===t&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",g)}catch(x){this.log("error","error in heartbeat callback",x)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:l,payload:c,ref:d}=s,f=d?`(${d})`:"",m=c.status||"";this.log("receive",`${m} ${o} ${l} ${f}`.trim(),c),this.channels.filter(g=>g._isMember(o)).forEach(g=>g._trigger(l,c,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===gn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===gn.open||this.conn.readyState===gn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(xr.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const o=t.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${t}${o}${l}`}_workerObjectUrl(t){let s;if(t)s=t;else{const o=new Blob([zy],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,o=!1;if(t)s=t,o=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),s=this.accessTokenValue}else s=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const c={access_token:s,version:jy};s&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(xr.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(o=>{try{o(s)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(o){this.log("error",`error triggering ${t} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Pf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ki.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,o,l,c,d,f,m,g,x,y,w,b;switch(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(o=t==null?void 0:t.timeout)!==null&&o!==void 0?o:wu,this.heartbeatIntervalMs=(l=t==null?void 0:t.heartbeatIntervalMs)!==null&&l!==void 0?l:ki.HEARTBEAT_INTERVAL,this.worker=(c=t==null?void 0:t.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=t==null?void 0:t.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=t==null?void 0:t.heartbeatCallback)!==null&&f!==void 0?f:Kc,this.vsn=(m=t==null?void 0:t.vsn)!==null&&m!==void 0?m:fh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t==null?void 0:t.reconnectAfterMs)!==null&&g!==void 0?g:(E=>$y[E-1]||My),this.vsn){case Df:this.encode=(x=t==null?void 0:t.encode)!==null&&x!==void 0?x:((E,j)=>j(JSON.stringify(E))),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:((E,j)=>j(JSON.parse(E)));break;case Dy:this.encode=(w=t==null?void 0:t.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var eo=class extends Error{constructor(n,t){var s;super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((s=t.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Vy(n,t,s){const o=new URL(t,n);if(s)for(const[l,c]of Object.entries(s))c!==void 0&&o.searchParams.set(l,c);return o.toString()}async function Wy(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function Hy(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:o,query:l,body:c,headers:d}){const f=Vy(n.baseUrl,o,l),m=await Wy(n.auth),g=await t(f,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...m,...d},body:c?JSON.stringify(c):void 0}),x=await g.text(),y=(g.headers.get("content-type")||"").includes("application/json"),w=y&&x?JSON.parse(x):x;if(!g.ok){const b=y?w:void 0,E=b==null?void 0:b.error;throw new eo((E==null?void 0:E.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:b})}return{status:g.status,headers:g.headers,data:w}}}}function Ei(n){return n.join("")}var Ky=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:Ei(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(n,t){const s={namespace:n.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ei(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ei(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ei(n.namespace)}`}),!0}catch(t){if(t instanceof eo&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(s){if(s instanceof eo&&s.status===409)return;throw s}}};function Rs(n){return n.join("")}var Qy=class{constructor(n,t="",s){this.client=n,this.prefix=t,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rs(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Rs(n.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(n,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Rs(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rs(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rs(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rs(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(s){if(s instanceof eo&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(s){if(s instanceof eo&&s.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw s}}},Gy=class{constructor(n){var o;let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=Hy({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(o=n.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new Ky(this.client,t),this.tableOps=new Qy(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}},Wi=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Ye(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Jy=class extends Wi{constructor(n,t,s){super(n),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bu=class extends Wi{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};const Qu=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Yy=()=>Response,Cu=n=>{if(Array.isArray(n))return n.map(s=>Cu(s));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([s,o])=>{const l=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[l]=Cu(o)}),t},Xy=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Zy=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function to(n){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(n)}function e0(n,t){if(to(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,t);if(to(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function t0(n){var t=e0(n,"string");return to(t)=="symbol"?t:t+""}function r0(n,t,s){return(t=t0(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function xh(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,o)}return s}function Fe(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?xh(Object(s),!0).forEach(function(o){r0(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):xh(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}const Qc=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},n0=async(n,t,s)=>{n instanceof await Yy()&&!(s!=null&&s.noResolveJson)?n.json().then(o=>{const l=n.status||500,c=(o==null?void 0:o.statusCode)||l+"";t(new Jy(Qc(o),l,c))}).catch(o=>{t(new bu(Qc(o),o))}):t(new bu(Qc(n),n))},s0=(n,t,s,o)=>{const l={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"||!o?l:(Xy(o)?(l.headers=Fe({"Content-Type":"application/json"},t==null?void 0:t.headers),l.body=JSON.stringify(o)):l.body=o,t!=null&&t.duplex&&(l.duplex=t.duplex),Fe(Fe({},l),s))};async function mo(n,t,s,o,l,c){return new Promise((d,f)=>{n(s,s0(t,o,l,c)).then(m=>{if(!m.ok)throw m;return o!=null&&o.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>n0(m,f,o))})}async function ro(n,t,s,o){return mo(n,"GET",t,s,o)}async function mr(n,t,s,o,l){return mo(n,"POST",t,o,l,s)}async function Au(n,t,s,o,l){return mo(n,"PUT",t,o,l,s)}async function a0(n,t,s,o){return mo(n,"HEAD",t,Fe(Fe({},s),{},{noResolveJson:!0}),o)}async function Gu(n,t,s,o,l){return mo(n,"DELETE",t,o,l,s)}var o0=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}}};let Tf;Tf=Symbol.toStringTag;var i0=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[Tf]="BlobDownloadBuilder",this.promise=null}asStream(){return new o0(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}}};const l0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var c0=class{constructor(n,t={},s,o){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=s,this.fetch=Qu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,t,s,o){var l=this;try{let c;const d=Fe(Fe({},yh),o);let f=Fe(Fe({},l.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),m&&c.append("metadata",l.encodeMetadata(m)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.has("cacheControl")||c.append("cacheControl",d.cacheControl),m&&!c.has("metadata")&&c.append("metadata",l.encodeMetadata(m))):(c=s,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,m&&(f["x-metadata"]=l.toBase64(l.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!d.duplex&&(d.duplex="half")),o!=null&&o.headers&&(f=Fe(Fe({},f),o.headers));const g=l._removeEmptyFolders(t),x=l._getFinalPath(g),y=await(n=="PUT"?Au:mr)(l.fetch,`${l.url}/object/${x}`,c,Fe({headers:f},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ye(c))return{data:null,error:c};throw c}}async upload(n,t,s){return this.uploadOrUpdate("POST",n,t,s)}async uploadToSignedUrl(n,t,s,o){var l=this;const c=l._removeEmptyFolders(n),d=l._getFinalPath(c),f=new URL(l.url+`/object/upload/sign/${d}`);f.searchParams.set("token",t);try{let m;const g=Fe({upsert:yh.upsert},o),x=Fe(Fe({},l.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",g.cacheControl)):(m=s,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType),{data:{path:c,fullPath:(await Au(l.fetch,f.toString(),m,{headers:x})).Key},error:null}}catch(m){if(l.shouldThrowOnError)throw m;if(Ye(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(n,t){var s=this;try{let o=s._getFinalPath(n);const l=Fe({},s.headers);t!=null&&t.upsert&&(l["x-upsert"]="true");const c=await mr(s.fetch,`${s.url}/object/upload/sign/${o}`,{},{headers:l}),d=new URL(s.url+c.url),f=d.searchParams.get("token");if(!f)throw new Wi("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:f},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}async update(n,t,s){return this.uploadOrUpdate("PUT",n,t,s)}async move(n,t,s){var o=this;try{return{data:await mr(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:n,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:o.headers}),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}}async copy(n,t,s){var o=this;try{return{data:{path:(await mr(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:n,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:o.headers})).Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}}async createSignedUrl(n,t,s){var o=this;try{let l=o._getFinalPath(n),c=await mr(o.fetch,`${o.url}/object/sign/${l}`,Fe({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:o.headers});const d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${o.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}}async createSignedUrls(n,t,s){var o=this;try{const l=await mr(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:t,paths:n},{headers:o.headers}),c=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:l.map(d=>Fe(Fe({},d),{},{signedUrl:d.signedURL?encodeURI(`${o.url}${d.signedURL}${c}`):null})),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}}download(n,t){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=o?`?${o}`:"",c=this._getFinalPath(n),d=()=>ro(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new i0(d,this.shouldThrowOnError)}async info(n){var t=this;const s=t._getFinalPath(n);try{return{data:Cu(await ro(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})),error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}async exists(n){var t=this;const s=t._getFinalPath(n);try{return await a0(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(Ye(o)&&o instanceof bu){const l=o.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:o}}throw o}}getPublicUrl(n,t){const s=this._getFinalPath(n),o=[],l=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&o.push(l);const c=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});d!==""&&o.push(d);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${f}`)}}}async remove(n){var t=this;try{return{data:await Gu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async list(n,t,s){var o=this;try{const l=Fe(Fe(Fe({},l0),t),{},{prefix:n||""});return{data:await mr(o.fetch,`${o.url}/object/list/${o.bucketId}`,l,{headers:o.headers},s),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}}async listV2(n,t){var s=this;try{const o=Fe({},n);return{data:await mr(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,o,{headers:s.headers},t),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};const Uf="2.90.1",Of={"X-Client-Info":`storage-js/${Uf}`};var u0=class{constructor(n,t={},s,o){this.shouldThrowOnError=!1;const l=new URL(n);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Fe(Fe({},Of),t),this.fetch=Qu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var t=this;try{const s=t.listBucketOptionsToQueryString(n);return{data:await ro(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async getBucket(n){var t=this;try{return{data:await ro(t.fetch,`${t.url}/bucket/${n}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async createBucket(n,t={public:!1}){var s=this;try{return{data:await mr(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}async updateBucket(n,t){var s=this;try{return{data:await Au(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}async emptyBucket(n){var t=this;try{return{data:await mr(t.fetch,`${t.url}/bucket/${n}/empty`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await Gu(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},d0=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Fe(Fe({},Of),t),this.fetch=Qu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await mr(t.fetch,`${t.url}/bucket`,{name:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async listBuckets(n){var t=this;try{const s=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&s.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&s.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&s.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&s.set("sortOrder",n.sortOrder),n!=null&&n.search&&s.set("search",n.search);const o=s.toString(),l=o?`${t.url}/bucket?${o}`:`${t.url}/bucket`;return{data:await ro(t.fetch,l,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await Gu(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}from(n){var t=this;if(!Zy(n))throw new Wi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Gy({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(s,{get(l,c){const d=l[c];return typeof d!="function"?d:async(...f)=>{try{return{data:await d.apply(l,f),error:null}}catch(m){if(o)throw m;return{data:null,error:m}}}}})}};const Ju={"X-Client-Info":`storage-js/${Uf}`,"Content-Type":"application/json"};var Lf=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Kt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Gc=class extends Lf{constructor(n,t,s){super(n),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},p0=class extends Lf{constructor(n,t){super(n),this.name="StorageVectorsUnknownError",this.originalError=t}};const Yu=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),h0=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},wh=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),f0=async(n,t,s)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(s!=null&&s.noResolveJson)){const o=n.status||500,l=n;if(typeof l.json=="function")l.json().then(c=>{const d=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||o+"";t(new Gc(wh(c),o,d))}).catch(()=>{const c=o+"";t(new Gc(l.statusText||`HTTP ${o} error`,o,c))});else{const c=o+"";t(new Gc(l.statusText||`HTTP ${o} error`,o,c))}}else t(new p0(wh(n),n))},m0=(n,t,s,o)=>{const l={method:n,headers:(t==null?void 0:t.headers)||{}};return o?(h0(o)?(l.headers=Fe({"Content-Type":"application/json"},t==null?void 0:t.headers),l.body=JSON.stringify(o)):l.body=o,Fe(Fe({},l),s)):l};async function g0(n,t,s,o,l,c){return new Promise((d,f)=>{n(s,m0(t,o,l,c)).then(m=>{if(!m.ok)throw m;if(o!=null&&o.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>d(m)).catch(m=>f0(m,f,o))})}async function Qt(n,t,s,o,l){return g0(n,"POST",t,o,l,s)}var v0=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Fe(Fe({},Ju),t),this.fetch=Yu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var t=this;try{return{data:await Qt(t.fetch,`${t.url}/CreateIndex`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async getIndex(n,t){var s=this;try{return{data:await Qt(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Kt(o))return{data:null,error:o};throw o}}async listIndexes(n){var t=this;try{return{data:await Qt(t.fetch,`${t.url}/ListIndexes`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async deleteIndex(n,t){var s=this;try{return{data:await Qt(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:s.headers})||{},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Kt(o))return{data:null,error:o};throw o}}},x0=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Fe(Fe({},Ju),t),this.fetch=Yu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var t=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Qt(t.fetch,`${t.url}/PutVectors`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async getVectors(n){var t=this;try{return{data:await Qt(t.fetch,`${t.url}/GetVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async listVectors(n){var t=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await Qt(t.fetch,`${t.url}/ListVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async queryVectors(n){var t=this;try{return{data:await Qt(t.fetch,`${t.url}/QueryVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async deleteVectors(n){var t=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Qt(t.fetch,`${t.url}/DeleteVectors`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}},y0=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Fe(Fe({},Ju),t),this.fetch=Yu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await Qt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async getBucket(n){var t=this;try{return{data:await Qt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async listBuckets(n={}){var t=this;try{return{data:await Qt(t.fetch,`${t.url}/ListVectorBuckets`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await Qt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}},w0=class extends y0{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new F0(this.url,this.headers,n,this.fetch)}async createBucket(n){var t=()=>super.createBucket,s=this;return t().call(s,n)}async getBucket(n){var t=()=>super.getBucket,s=this;return t().call(s,n)}async listBuckets(n={}){var t=()=>super.listBuckets,s=this;return t().call(s,n)}async deleteBucket(n){var t=()=>super.deleteBucket,s=this;return t().call(s,n)}},F0=class extends v0{constructor(n,t,s,o){super(n,t,o),this.vectorBucketName=s}async createIndex(n){var t=()=>super.createIndex,s=this;return t().call(s,Fe(Fe({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var t=()=>super.listIndexes,s=this;return t().call(s,Fe(Fe({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,n)}async deleteIndex(n){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,n)}index(n){return new _0(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},_0=class extends x0{constructor(n,t,s,o,l){super(n,t,l),this.vectorBucketName=s,this.indexName=o}async putVectors(n){var t=()=>super.putVectors,s=this;return t().call(s,Fe(Fe({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var t=()=>super.getVectors,s=this;return t().call(s,Fe(Fe({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var t=()=>super.listVectors,s=this;return t().call(s,Fe(Fe({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var t=()=>super.queryVectors,s=this;return t().call(s,Fe(Fe({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var t=()=>super.deleteVectors,s=this;return t().call(s,Fe(Fe({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},b0=class extends u0{constructor(n,t={},s,o){super(n,t,s,o)}from(n){return new c0(this.url,this.headers,n,this.fetch)}get vectors(){return new w0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new d0(this.url+"/iceberg",this.headers,this.fetch)}};const If="2.90.1",$s=30*1e3,Su=3,Jc=Su*$s,C0="http://localhost:9999",A0="supabase.auth.token",S0={"X-Client-Info":`gotrue-js/${If}`},ku="X-Supabase-Api-Version",Bf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},k0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,E0=600*1e3;class no extends Error{constructor(t,s,o){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function he(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class j0 extends no{constructor(t,s,o){super(t,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function D0(n){return he(n)&&n.name==="AuthApiError"}class Kn extends no{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Kr extends no{constructor(t,s,o,l){super(t,o,l),this.name=s,this.status=o}}class Ht extends Kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function P0(n){return he(n)&&n.name==="AuthSessionMissingError"}class Ts extends Kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ji extends Kr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Di extends Kr{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function N0(n){return he(n)&&n.name==="AuthImplicitGrantRedirectError"}class Fh extends Kr{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class R0 extends Kr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Eu extends Kr{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Yc(n){return he(n)&&n.name==="AuthRetryableFetchError"}class _h extends Kr{constructor(t,s,o){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class ju extends Kr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bh=` 	
\r=`.split(""),T0=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<bh.length;t+=1)n[bh[t].charCodeAt(0)]=-2;for(let t=0;t<Ii.length;t+=1)n[Ii[t].charCodeAt(0)]=t;return n})();function Ch(n,t,s){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;s(Ii[o]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;s(Ii[o]),t.queuedBits-=6}}function $f(n,t,s){const o=T0[n];if(o>-1)for(t.queue=t.queue<<6|o,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Ah(n){const t=[],s=d=>{t.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=d=>{L0(d,o,s)};for(let d=0;d<n.length;d+=1)$f(n.charCodeAt(d),l,c);return t.join("")}function U0(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function O0(n,t){for(let s=0;s<n.length;s+=1){let o=n.charCodeAt(s);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(n.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}U0(o,t)}}function L0(n,t,s){if(t.utf8seq===0){if(n<=127){s(n);return}for(let o=1;o<6;o+=1)if((n>>7-o&1)===0){t.utf8seq=o;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function qs(n){const t=[],s={queue:0,queuedBits:0},o=l=>{t.push(l)};for(let l=0;l<n.length;l+=1)$f(n.charCodeAt(l),s,o);return new Uint8Array(t)}function I0(n){const t=[];return O0(n,s=>t.push(s)),new Uint8Array(t)}function Gn(n){const t=[],s={queue:0,queuedBits:0},o=l=>{t.push(l)};return n.forEach(l=>Ch(l,s,o)),Ch(null,s,o),t.join("")}function B0(n){return Math.round(Date.now()/1e3)+n}function $0(){return Symbol("auth-callback")}const yt=()=>typeof window<"u"&&typeof document<"u",zn={tested:!1,writable:!1},Mf=()=>{if(!yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zn.tested)return zn.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),zn.tested=!0,zn.writable=!0}catch{zn.tested=!0,zn.writable=!1}return zn.writable};function M0(n){const t={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,c)=>{t[c]=l})}catch{}return s.searchParams.forEach((o,l)=>{t[l]=o}),t}const zf=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),z0=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ms=async(n,t,s)=>{await n.setItem(t,JSON.stringify(s))},qn=async(n,t)=>{const s=await n.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},xt=async(n,t)=>{await n.removeItem(t)};class Hi{constructor(){this.promise=new Hi.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Hi.promiseConstructor=Promise;function Xc(n){const t=n.split(".");if(t.length!==3)throw new ju("Invalid JWT structure");for(let o=0;o<t.length;o++)if(!k0.test(t[o]))throw new ju("JWT not in base64url format");return{header:JSON.parse(Ah(t[0])),payload:JSON.parse(Ah(t[1])),signature:qs(t[2]),raw:{header:t[0],payload:t[1]}}}async function q0(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function V0(n,t){return new Promise((o,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await n(c);if(!t(c,null,d)){o(d);return}}catch(d){if(!t(c,d)){l(d);return}}})()})}function W0(n){return("0"+n.toString(16)).substr(-2)}function H0(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let l="";for(let c=0;c<56;c++)l+=s.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(t),Array.from(t,W0).join("")}async function K0(n){const s=new TextEncoder().encode(n),o=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(o);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function Q0(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await K0(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Us(n,t,s=!1){const o=H0();let l=o;s&&(l+="/PASSWORD_RECOVERY"),await Ms(n,`${t}-code-verifier`,l);const c=await Q0(o);return[c,o===c?"plain":"s256"]}const G0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J0(n){const t=n.headers.get(ku);if(!t||!t.match(G0))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Y0(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function X0(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Z0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Os(n){if(!Z0.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zc(){const n={};return new Proxy(n,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ew(n,t){return new Proxy(n,{get:(s,o,l)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const c=o.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,o,l)}return!t.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,o,l)}})}function Sh(n){return JSON.parse(JSON.stringify(n))}const Wn=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),tw=[502,503,504];async function kh(n){var t;if(!z0(n))throw new Eu(Wn(n),0);if(tw.includes(n.status))throw new Eu(Wn(n),n.status);let s;try{s=await n.json()}catch(c){throw new Kn(Wn(c),c)}let o;const l=J0(n);if(l&&l.getTime()>=Bf["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new _h(Wn(s),n.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(o==="session_not_found")throw new Ht}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new _h(Wn(s),n.status,s.weak_password.reasons);throw new j0(Wn(s),n.status||500,o)}const rw=(n,t,s,o)=>{const l={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),s))};async function we(n,t,s,o){var l;const c=Object.assign({},o==null?void 0:o.headers);c[ku]||(c[ku]=Bf["2024-01-01"].name),o!=null&&o.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const d=(l=o==null?void 0:o.query)!==null&&l!==void 0?l:{};o!=null&&o.redirectTo&&(d.redirect_to=o.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await nw(n,t,s+f,{headers:c,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(m):{data:Object.assign({},m),error:null}}async function nw(n,t,s,o,l,c){const d=rw(t,o,l,c);let f;try{f=await n(s,Object.assign({},d))}catch(m){throw console.error(m),new Eu(Wn(m),0)}if(f.ok||await kh(f),o!=null&&o.noResolveJson)return f;try{return await f.json()}catch(m){await kh(m)}}function fr(n){var t;let s=null;ow(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=B0(n.expires_in)));const o=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:s,user:o},error:null}}function Eh(n){const t=fr(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(t.data.weak_password=n.weak_password),t}function vn(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function sw(n){return{data:n,error:null}}function aw(n){const{action_link:t,email_otp:s,hashed_token:o,redirect_to:l,verification_type:c}=n,d=Vi(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:s,hashed_token:o,redirect_to:l,verification_type:c},m=Object.assign({},d);return{data:{properties:f,user:m},error:null}}function jh(n){return n}function ow(n){return n.access_token&&n.refresh_token&&n.expires_in}const eu=["global","local","others"];class iw{constructor({url:t="",headers:s={},fetch:o}){this.url=t,this.headers=s,this.fetch=zf(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=eu[0]){if(eu.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${eu.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(he(o))return{data:null,error:o};throw o}}async inviteUserByEmail(t,s={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:vn})}catch(o){if(he(o))return{data:{user:null},error:o};throw o}}async generateLink(t){try{const{options:s}=t,o=Vi(t,["options"]),l=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(l.new_email=o==null?void 0:o.newEmail,delete l.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:aw,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(he(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vn})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,o,l,c,d,f,m;try{const g={nextPage:null,lastPage:0,total:0},x=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(c=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:jh});if(x.error)throw x.error;const y=await x.json(),w=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(m=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(E=>{const j=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);g[`${k}Page`]=j}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(he(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){Os(t);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vn})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Os(t);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:vn})}catch(o){if(he(o))return{data:{user:null},error:o};throw o}}async deleteUser(t,s=!1){Os(t);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:vn})}catch(o){if(he(o))return{data:{user:null},error:o};throw o}}async _listFactors(t){Os(t.userId);try{const{data:s,error:o}=await we(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:o}}catch(s){if(he(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Os(t.userId),Os(t.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,o,l,c,d,f,m;try{const g={nextPage:null,lastPage:0,total:0},x=await we(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(c=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:jh});if(x.error)throw x.error;const y=await x.json(),w=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(m=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(E=>{const j=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);g[`${k}Page`]=j}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(he(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await we(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await we(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(he(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(t){try{return await we(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}}function Dh(n={}){return{getItem:t=>n[t]||null,setItem:(t,s)=>{n[t]=s},removeItem:t=>{delete n[t]}}}const Ls={debug:!!(globalThis&&Mf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class lw extends qf{}async function cw(n,t,s){Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const o=new globalThis.AbortController;return t>0&&setTimeout(()=>{o.abort(),Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await s()}finally{Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(t===0)throw Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new lw(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ls.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function uw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Vf(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function dw(n){return parseInt(n,16)}function pw(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,o=>o.toString(16).padStart(2,"0")).join("")}function hw(n){var t;const{chainId:s,domain:o,expirationTime:l,issuedAt:c=new Date,nonce:d,notBefore:f,requestId:m,resources:g,scheme:x,uri:y,version:w}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const b=Vf(n.address),E=x?`${x}://${o}`:o,j=n.statement?`${n.statement}
`:"",k=`${E} wants you to sign in with your Ethereum account:
${b}

${j}`;let U=`URI: ${y}
Version: ${w}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(l&&(U+=`
Expiration Time: ${l.toISOString()}`),f&&(U+=`
Not Before: ${f.toISOString()}`),m&&(U+=`
Request ID: ${m}`),g){let T=`
Resources:`;for(const P of g){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);T+=`
- ${P}`}U+=T}return`${k}
${U}`}class ot extends Error{constructor({message:t,code:s,cause:o,name:l}){var c;super(t,{cause:o}),this.__isWebAuthnError=!0,this.name=(c=l??(o instanceof Error?o.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class Bi extends ot{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function fw({error:n,options:t}){var s,o,l;const{publicKey:c}=t;if(!c)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new ot({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return c.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const d=window.location.hostname;if(Wf(d)){if(c.rp.id!==d)return new ot({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function mw({error:n,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new ot({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const o=window.location.hostname;if(Wf(o)){if(s.rpId!==o)return new ot({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class gw{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const vw=new gw;function xw(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:s,excludeCredentials:o}=n,l=Vi(n,["challenge","user","excludeCredentials"]),c=qs(t).buffer,d=Object.assign(Object.assign({},s),{id:qs(s.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:c,user:d});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let m=0;m<o.length;m++){const g=o[m];f.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:qs(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function yw(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:s}=n,o=Vi(n,["challenge","allowCredentials"]),l=qs(t).buffer,c=Object.assign(Object.assign({},o),{challenge:l});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const f=s[d];c.allowCredentials[d]=Object.assign(Object.assign({},f),{id:qs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function ww(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:Gn(new Uint8Array(n.response.attestationObject)),clientDataJSON:Gn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Fw(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,o=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Gn(new Uint8Array(l.authenticatorData)),clientDataJSON:Gn(new Uint8Array(l.clientDataJSON)),signature:Gn(new Uint8Array(l.signature)),userHandle:l.userHandle?Gn(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Wf(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Ph(){var n,t;return!!(yt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function _w(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Bi("Browser returned unexpected credential type",t)}:{data:null,error:new Bi("Empty credential response",t)}}catch(t){return{data:null,error:fw({error:t,options:n})}}}async function bw(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Bi("Browser returned unexpected credential type",t)}:{data:null,error:new Bi("Empty credential response",t)}}catch(t){return{data:null,error:mw({error:t,options:n})}}}const Cw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Aw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $i(...n){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),s=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),o={};for(const l of n)if(l)for(const c in l){const d=l[c];if(d!==void 0)if(Array.isArray(d))o[c]=d;else if(s(d))o[c]=d;else if(t(d)){const f=o[c];t(f)?o[c]=$i(f,d):o[c]=$i(d)}else o[c]=d}return o}function Sw(n,t){return $i(Cw,n,t||{})}function kw(n,t){return $i(Aw,n,t||{})}class Ew{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:o,signal:l},c){try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!d)return{data:null,error:f};const m=l??vw.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${o}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=Sw(d.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:x,error:y}=await _w({publicKey:g,signal:m});return x?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:y}}case"request":{const g=kw(d.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:x,error:y}=await bw(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:m}));return x?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:y}}}}catch(d){return he(d)?{data:null,error:d}:{data:null,error:new Kn("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:s,webauthn:o}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:o})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!s)return{data:null,error:new no("rpId is required for WebAuthn authentication")};try{if(!Ph())return{data:null,error:new Kn("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:o},signal:l},{request:c});if(!d)return{data:null,error:f};const{webauthn:m}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:o,credential_response:m.credential_response}})}catch(d){return he(d)?{data:null,error:d}:{data:null,error:new Kn("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!s)return{data:null,error:new no("rpId is required for WebAuthn registration")};try{if(!Ph())return{data:null,error:new Kn("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(x=>{var y;return(y=x.data)===null||y===void 0?void 0:y.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===t&&w.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:f};const{data:m,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:o},signal:l},{create:c});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:o,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(d){return he(d)?{data:null,error:d}:{data:null,error:new Kn("Unexpected error in register",d)}}}}uw();const jw={url:C0,storageKey:A0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:S0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Nh(n,t,s){return await s()}const Is={};class so{get jwks(){var t,s;return(s=(t=Is[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){Is[this.storageKey]=Object.assign(Object.assign({},Is[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=Is[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Is[this.storageKey]=Object.assign(Object.assign({},Is[this.storageKey]),{cachedAt:t})}constructor(t){var s,o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},jw),t);if(this.storageKey=c.storageKey,this.instanceID=(s=so.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,so.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&yt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new iw({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=zf(c.fetch),this.lock=c.lock||Nh,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&yt()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=cw:this.lock=Nh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ew(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Mf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Dh(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Dh(this.memoryStorage)),yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${If}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},o="none";if(yt()&&(s=M0(window.location.href),this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce")),yt()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:c}=await this._getSessionFromURL(s,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),N0(c)){const m=(t=c.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:d,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return he(s)?this._returnResult({error:s}):this._returnResult({error:new Kn("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,o,l;try{const c=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=t==null?void 0:t.options)===null||l===void 0?void 0:l.captchaToken}},xform:fr}),{data:d,error:f}=c;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(he(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(t){var s,o,l;try{let c;if("email"in t){const{email:x,password:y,options:w}=t;let b=null,E=null;this.flowType==="pkce"&&([b,E]=await Us(this.storage,this.storageKey)),c=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:x,password:y,data:(s=w==null?void 0:w.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:b,code_challenge_method:E},xform:fr})}else if("phone"in t){const{phone:x,password:y,options:w}=t;c=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(o=w==null?void 0:w.data)!==null&&o!==void 0?o:{},channel:(l=w==null?void 0:w.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:fr})}else throw new ji("You must provide either an email or phone number and a password");const{data:d,error:f}=c;if(f||!d)return await xt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(await xt(this.storage,`${this.storageKey}-code-verifier`),he(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(t){try{let s;if("email"in t){const{email:c,password:d,options:f}=t;s=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Eh})}else if("phone"in t){const{phone:c,password:d,options:f}=t;s=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Eh})}else throw new ji("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const c=new Ts;return this._returnResult({data:{user:null,session:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(s){if(he(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,o,l,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,o,l,c,d,f,m,g,x,y,w;let b,E;if("message"in t)b=t.message,E=t.signature;else{const{chain:j,wallet:k,statement:U,options:T}=t;let P;if(yt())if(typeof k=="object")P=k;else{const ae=window;if("ethereum"in ae&&typeof ae.ethereum=="object"&&"request"in ae.ethereum&&typeof ae.ethereum.request=="function")P=ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=k}const B=new URL((s=T==null?void 0:T.url)!==null&&s!==void 0?s:window.location.href),K=await P.request({method:"eth_requestAccounts"}).then(ae=>ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const W=Vf(K[0]);let V=(o=T==null?void 0:T.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!V){const ae=await P.request({method:"eth_chainId"});V=dw(ae)}const X={domain:B.host,address:W,statement:U,uri:B.href,version:"1",chainId:V,nonce:(l=T==null?void 0:T.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(c=T==null?void 0:T.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=T==null?void 0:T.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=T==null?void 0:T.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=T==null?void 0:T.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(x=T==null?void 0:T.signInWithEthereum)===null||x===void 0?void 0:x.resources};b=hw(X),E=await P.request({method:"personal_sign",params:[pw(b),W]})}try{const{data:j,error:k}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:E},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:fr});if(k)throw k;if(!j||!j.session||!j.user){const U=new Ts;return this._returnResult({data:{user:null,session:null},error:U})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:k})}catch(j){if(he(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(t){var s,o,l,c,d,f,m,g,x,y,w,b;let E,j;if("message"in t)E=t.message,j=t.signature;else{const{chain:k,wallet:U,statement:T,options:P}=t;let B;if(yt())if(typeof U=="object")B=U;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))B=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=U}const K=new URL((s=P==null?void 0:P.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in B&&B.signIn){const W=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),T?{statement:T}:null));let V;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")V=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)V=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)E=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),j=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${K.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(l=(o=P==null?void 0:P.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=P==null?void 0:P.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((d=P==null?void 0:P.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((f=P==null?void 0:P.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((m=P==null?void 0:P.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((g=P==null?void 0:P.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((y=(x=P==null?void 0:P.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...P.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const W=await B.signMessage(new TextEncoder().encode(E),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=W}}try{const{data:k,error:U}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Gn(j)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:fr});if(U)throw U;if(!k||!k.session||!k.user){const T=new Ts;return this._returnResult({data:{user:null,session:null},error:T})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:U})}catch(k){if(he(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const s=await qn(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(s??"").split("/");try{if(!o&&this.flowType==="pkce")throw new R0;const{data:c,error:d}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:fr});if(await xt(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!c||!c.session||!c.user){const f=new Ts;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:d})}catch(c){if(await xt(this.storage,`${this.storageKey}-code-verifier`),he(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(t){try{const{options:s,provider:o,token:l,access_token:c,nonce:d}=t,f=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:fr}),{data:m,error:g}=f;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const x=new Ts;return this._returnResult({data:{user:null,session:null},error:x})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(s){if(he(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,o,l,c,d;try{if("email"in t){const{email:f,options:m}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Us(this.storage,this.storageKey));const{error:y}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(o=m==null?void 0:m.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in t){const{phone:f,options:m}=t,{data:g,error:x}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(d=m==null?void 0:m.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:x})}throw new ji("You must provide either an email or phone number.")}catch(f){if(await xt(this.storage,`${this.storageKey}-code-verifier`),he(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var s,o;try{let l,c;"options"in t&&(l=(s=t.options)===null||s===void 0?void 0:s.redirectTo,c=(o=t.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:f}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:fr});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,g=d.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(l){if(he(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var s,o,l,c,d;try{let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Us(this.storage,this.storageKey));const g=await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=t==null?void 0:t.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:m}),headers:this.headers,xform:sw});return!((c=g.data)===null||c===void 0)&&c.url&&yt()&&!(!((d=t.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(f){if(await xt(this.storage,`${this.storageKey}-code-verifier`),he(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:o}=t;if(o)throw o;if(!s)throw new Ht;const{error:l}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(he(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:o,type:l,options:c}=t,{error:d}=await we(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in t){const{phone:o,type:l,options:c}=t,{data:d,error:f}=await we(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new ji("You must provide either an email or phone number and a type")}catch(s){if(he(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await qn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const o=t.expires_at?t.expires_at*1e3-Date.now()<Jc:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){const d=await qn(this.userStorage,this.storageKey+"-user");d!=null&&d.user?t.user=d.user:t.user=Zc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};t.user=ew(t.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vn}):await this._useSession(async s=>{var o,l,c;const{data:d,error:f}=s;if(f)throw f;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:vn})})}catch(s){if(he(s))return P0(s)&&(await this._removeSession(),await xt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async o=>{const{data:l,error:c}=o;if(c)throw c;if(!l.session)throw new Ht;const d=l.session;let f=null,m=null;this.flowType==="pkce"&&t.email!=null&&([f,m]=await Us(this.storage,this.storageKey));const{data:g,error:x}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:m}),jwt:d.access_token,xform:vn});if(x)throw x;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(o){if(await xt(this.storage,`${this.storageKey}-code-verifier`),he(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ht;const s=Date.now()/1e3;let o=s,l=!0,c=null;const{payload:d}=Xc(t.access_token);if(d.exp&&(o=d.exp,l=o<=s),l){const{data:f,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:m}=await this._getUser(t.access_token);if(m)throw m;c={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(he(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var o;if(!t){const{data:d,error:f}=s;if(f)throw f;t=(o=d.session)!==null&&o!==void 0?o:void 0}if(!(t!=null&&t.refresh_token))throw new Ht;const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(he(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!yt())throw new Di("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Di(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Fh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Di("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Fh("No code detected.");const{data:T,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:c,refresh_token:d,expires_in:f,expires_at:m,token_type:g}=t;if(!c||!f||!d||!g)throw new Di("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(f);let w=x+y;m&&(w=parseInt(m));const b=w-x;b*1e3<=$s&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const E=w-y;x-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,x):x-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,x);const{data:j,error:k}=await this._getUser(c);if(k)throw k;const U={provider_token:o,provider_refresh_token:l,access_token:c,expires_in:y,expires_at:w,refresh_token:d,token_type:g,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:t.type},error:null})}catch(o){if(he(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await qn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:l,error:c}=s;if(c)return this._returnResult({error:c});const d=(o=l.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:f}=await this.admin.signOut(d,t);if(f&&!(D0(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await xt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=$0(),o={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(t){return await this._useSession(async s=>{var o,l;try{const{data:{session:c},error:d}=s;if(d)throw d;await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,s={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Us(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await xt(this.storage,`${this.storageKey}-code-verifier`),he(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var t;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(he(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:o,error:l}=await this._useSession(async c=>{var d,f,m,g,x;const{data:y,error:w}=c;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",b,{headers:this.headers,jwt:(x=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(l)throw l;return yt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:t.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(he(o))return this._returnResult({data:{provider:t.provider,url:null},error:o});throw o}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var o;try{const{error:l,data:{session:c}}=s;if(l)throw l;const{options:d,provider:f,token:m,access_token:g,nonce:x}=t,y=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=c==null?void 0:c.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:m,access_token:g,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:fr}),{data:w,error:b}=y;return b?this._returnResult({data:{user:null,session:null},error:b}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Ts}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:b}))}catch(l){if(await xt(this.storage,`${this.storageKey}-code-verifier`),he(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var o,l;const{data:c,error:d}=s;if(d)throw d;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(he(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await V0(async l=>(l>0&&await q0(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fr})),(l,c)=>{const d=200*Math.pow(2,l);return c&&Yc(c)&&Date.now()+d-o<$s})}catch(o){if(this._debug(s,"error",o),he(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",o),yt()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}}async _recoverAndRefresh(){var t,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await qn(this.storage,this.storageKey);if(l&&this.userStorage){let d=await qn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await Ms(this.userStorage,this.storageKey+"-user",d)),l.user=(t=d==null?void 0:d.user)!==null&&t!==void 0?t:Zc()}else if(l&&!l.user&&!l.user){const d=await qn(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(l.user=d.user,await xt(this.storage,this.storageKey+"-user"),await Ms(this.storage,this.storageKey,l)):l.user=Zc()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const c=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Jc;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${Jc}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),Yc(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(l.access_token);!f&&(d!=null&&d.user)?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(t){var s,o;if(!t)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Hi;const{data:c,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!c.session)throw new Ht;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={data:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(l,"error",c),he(c)){const d={data:null,error:c};return Yc(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,s,o=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:s});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,s)}catch(m){c.push(m)}});if(await Promise.all(d),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await xt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await Ms(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const c=Sh(l);await Ms(this.storage,this.storageKey,c)}else{const l=Sh(s);await Ms(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await xt(this.storage,this.storageKey),await xt(this.storage,this.storageKey+"-code-verifier"),await xt(this.storage,this.storageKey+"-user"),this.userStorage&&await xt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$s);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-t)/$s);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${$s}ms, refresh threshold is ${Su} ticks`),l<=Su&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof qf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,o){const l=[`provider=${encodeURIComponent(s)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,d]=await Us(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(f.toString())}if(o!=null&&o.queryParams){const c=new URLSearchParams(o.queryParams);l.push(c.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var o;const{data:l,error:c}=s;return c?this._returnResult({data:null,error:c}):await we(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(he(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var o,l;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:m,error:g}=await we(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(t.factorType==="totp"&&m.type==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(he(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:c}=s;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ww(t.webauthn.credential_response):Fw(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:m}=await we(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:d,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:m}))})}catch(s){if(he(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:c}=s;if(c)return this._returnResult({data:null,error:c});const d=await we(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:xw(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:yw(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(he(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:o}=await this._challenge({factorId:t.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:o}=await this.getUser();if(o)return{data:null,error:o};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(t=s==null?void 0:s.factors)!==null&&t!==void 0?t:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var t,s;const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Xc(o.access_token);let d=null;c.aal&&(d=c.aal);let f=d;((s=(t=o.user.factors)===null||t===void 0?void 0:t.filter(x=>x.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const g=c.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;return l?this._returnResult({data:null,error:l}):o?await we(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:o.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(s){if(he(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async o=>{const{data:{session:l},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new Ht});const d=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&yt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(o){if(he(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(t,s){try{return await this._useSession(async o=>{const{data:{session:l},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new Ht});const d=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&yt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(o){if(he(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:o}=t;return o?this._returnResult({data:null,error:o}):s?await we(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(t){if(he(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;return l?this._returnResult({data:null,error:l}):o?(await we(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ht})})}catch(s){if(he(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let o=s.keys.find(f=>f.kid===t);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(f=>f.kid===t),o&&this.jwks_cached_at+E0>l)return o;const{data:c,error:d}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,o=c.keys.find(f=>f.kid===t),!o)?null:o}async getClaims(t,s={}){try{let o=t;if(!o){const{data:b,error:E}=await this.getSession();if(E||!b.session)return this._returnResult({data:null,error:E});o=b.session.access_token}const{header:l,payload:c,signature:d,raw:{header:f,payload:m}}=Xc(o);s!=null&&s.allowExpired||Y0(c.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!g){const{error:b}=await this.getUser(o);if(b)throw b;return{data:{claims:c,header:l,signature:d},error:null}}const x=X0(l.alg),y=await crypto.subtle.importKey("jwk",g,x,!0,["verify"]);if(!await crypto.subtle.verify(x,y,d,I0(`${f}.${m}`)))throw new ju("Invalid JWT signature");return{data:{claims:c,header:l,signature:d},error:null}}catch(o){if(he(o))return this._returnResult({data:null,error:o});throw o}}}so.nextInstanceID={};const Dw=so,Pw="2.90.1";let Qa="";typeof Deno<"u"?Qa="deno":typeof document<"u"?Qa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qa="react-native":Qa="node";const Nw={"X-Client-Info":`supabase-js-${Qa}/${Pw}`},Rw={headers:Nw},Tw={schema:"public"},Uw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ow={};function ao(n){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(n)}function Lw(n,t){if(ao(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,t);if(ao(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Iw(n){var t=Lw(n,"string");return ao(t)=="symbol"?t:t+""}function Bw(n,t,s){return(t=Iw(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function Rh(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,o)}return s}function tt(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Rh(Object(s),!0).forEach(function(o){Bw(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Rh(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}const $w=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Mw=()=>Headers,zw=(n,t,s)=>{const o=$w(s),l=Mw();return async(c,d)=>{var f;const m=(f=await t())!==null&&f!==void 0?f:n;let g=new l(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),o(c,tt(tt({},d),{},{headers:g}))}};function qw(n){return n.endsWith("/")?n:n+"/"}function Vw(n,t){var s,o;const{db:l,auth:c,realtime:d,global:f}=n,{db:m,auth:g,realtime:x,global:y}=t,w={db:tt(tt({},m),l),auth:tt(tt({},g),c),realtime:tt(tt({},x),d),storage:{},global:tt(tt(tt({},y),f),{},{headers:tt(tt({},(s=y==null?void 0:y.headers)!==null&&s!==void 0?s:{}),(o=f==null?void 0:f.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return n.accessToken?w.accessToken=n.accessToken:delete w.accessToken,w}function Ww(n){const t=n==null?void 0:n.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Hw=class extends Dw{constructor(n){super(n)}},Kw=class{constructor(n,t,s){var o,l;this.supabaseUrl=n,this.supabaseKey=t;const c=Ww(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:Tw,realtime:Ow,auth:tt(tt({},Uw),{},{storageKey:d}),global:Rw},m=Vw(s??{},f);if(this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(x,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=m.auth)!==null&&g!==void 0?g:{},this.headers,m.global.fetch)}this.fetch=zw(t,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(tt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new Sy(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new b0(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Fy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,s)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,t,s;if(n.accessToken)return await n.accessToken();const{data:o}=await n.auth.getSession();return(t=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:s,storage:o,userStorage:l,storageKey:c,flowType:d,lock:f,debug:m,throwOnError:g},x,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hw({url:this.authUrl.href,headers:tt(tt({},w),x),storageKey:c,autoRefreshToken:n,persistSession:t,detectSessionInUrl:s,storage:o,userStorage:l,flowType:d,lock:f,debug:m,throwOnError:g,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new qy(this.realtimeUrl.href,tt(tt({},n),{},{params:tt(tt({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,t)=>{this._handleTokenChanged(n,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(n,t,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Qw=(n,t,s)=>new Kw(n,t,s);function Gw(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const t=n.version;if(t==null)return!1;const s=t.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Gw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jw="https://zfneybzvjppfyvcxggjf.supabase.co",Yw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpmbmV5Ynp2anBwZnl2Y3hnZ2pmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMjIxNTMsImV4cCI6MjA3ODc5ODE1M30.XhnFIdtXB59IQcPC5lI0iU7HuVDfI0r5PphdVx7P_UM",te=Qw(Jw,Yw),Xw=["bright","silent","bold","curious","lucky","brave","cosmic","swift","clever","stellar"],Zw=["walrus","river","comet","panda","falcon","nebula","tiger","otter","aurora","pixel"];function Th(n){const t=Math.floor(Math.random()*n.length);return n[t]}function eF(){const n=Th(Xw),t=Th(Zw),s=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${n}-${t}-${s}`}async function tF(n){if(!n.id)return null;const{data:t}=await te.from("profiles").select("id, username, created_at, is_banned, gender, country, cohort").eq("id",n.id).maybeSingle(),s=eF(),o=n.user_metadata||{},l=o.gender??null,c=o.country??null,d=o.cohort??null;if(t){if(!t.gender&&l||!t.country&&c||!t.cohort&&d){const x={};!t.gender&&l&&(x.gender=l),!t.country&&c&&(x.country=c),!t.cohort&&d&&(x.cohort=d);const{data:y,error:w}=await te.from("profiles").update(x).eq("id",n.id).select("id, username, created_at, is_banned, gender, country, cohort").maybeSingle();if(w)throw w;if(y)return y}return t}const{data:f,error:m}=await te.from("profiles").insert({id:n.id,username:s,gender:l,country:c,cohort:d}).select().single();if(m)throw m;return f}async function Hf(n){const{data:t,error:s}=await te.from("admins").select("role").eq("user_id",n).maybeSingle();return s||!t?null:t.role}async function rF(n,t){const{data:s,error:o}=await te.rpc("check_post_code",{post_id:n,code:t});if(o)throw o;return!!s}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sF=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,o)=>o?o.toUpperCase():s.toLowerCase()),Uh=n=>{const t=sF(n);return t.charAt(0).toUpperCase()+t.slice(1)},Kf=(...n)=>n.filter((t,s,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===s).join(" ").trim(),aF=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=_.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,iconNode:d,...f},m)=>_.createElement("svg",{ref:m,...oF,width:t,height:t,stroke:n,strokeWidth:o?Number(s)*24/Number(t):s,className:Kf("lucide",l),...!c&&!aF(f)&&{"aria-hidden":"true"},...f},[...d.map(([g,x])=>_.createElement(g,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(n,t)=>{const s=_.forwardRef(({className:o,...l},c)=>_.createElement(iF,{ref:c,iconNode:t,className:Kf(`lucide-${nF(Uh(n))}`,`lucide-${n}`,o),...l}));return s.displayName=Uh(n),s};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Xu=Oe("arrow-left",lF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Pi=Oe("chart-column",cF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ki=Oe("check",uF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],pF=Oe("chevron-left",dF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fF=Oe("chevron-right",hF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Du=Oe("clock",mF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],vF=Oe("ellipsis-vertical",gF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Qf=Oe("eye-off",xF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ya=Oe("eye",yF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Pu=Oe("file-text",wF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],_F=Oe("flag",FF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Gf=Oe("loader",bF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Oh=Oe("lock",CF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],SF=Oe("log-out",AF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],EF=Oe("message-circle",kF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],DF=Oe("pen",jF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lh=Oe("plus",PF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Jf=Oe("search",NF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],TF=Oe("send",RF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],OF=Oe("share-2",UF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tu=Oe("shield",LF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Nu=Oe("trash-2",IF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$F=Oe("trending-up",BF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yf=Oe("triangle-alert",MF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],qF=Oe("upload",zF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],WF=Oe("user-check",VF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],KF=Oe("user-x",HF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xf=Oe("user",QF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ih=Oe("users",GF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qi=Oe("x",JF);function $t(n,t){switch(n){case"Feed":return"/";case"CreatePost":return"/create-post";case"AdminDashboard":return"/admin";case"Profile":return"/profile";case"Post":return t?`/#post-${t}`:"/";default:return"/"}}function YF(){const n=En(),[t,s]=_.useState("comparison"),[o,l]=_.useState(""),[c,d]=_.useState([]),[f,m]=_.useState([]),[g,x]=_.useState(!1),[y,w]=_.useState(!1),[b,E]=_.useState(""),[j,k]=_.useState(!1),[U,T]=_.useState(!1),[P,B]=_.useState(null),[K,W]=_.useState(!1),[V,X]=_.useState(!1),[ae,oe]=_.useState(""),[Y,ge]=_.useState(""),Se=_.useRef(!1),Re=qr({mutationFn:async A=>{const{data:O,error:J}=await te.from("posts").insert(A).select().single();if(J)throw J;return O},onSuccess:async A=>{n($t("Feed"))},onError:A=>{console.error("Error creating post:",A);const O=A&&(A.message||A.error_description||A.details)||"Failed to create post. Please try again.";B(O)}}),Ve=async A=>{if(!A.target.files||A.target.files.length===0)return;const O=Array.from(A.target.files),J=3;if(c.length+O.length>J){alert(`Maximum ${J} images allowed!`);return}x(!0);const se=[];for(const L of O)try{const M=L.name.split(".").pop(),Ce=`${`${Math.random()}.${M}`}`,{error:Qe}=await te.storage.from("post-images").upload(Ce,L);if(Qe)throw Qe;const{data:or}=te.storage.from("post-images").getPublicUrl(Ce);se.push(or.publicUrl)}catch(M){console.error("Error uploading image:",M),alert("Failed to upload image")}const ye=[...c,...se];d(ye);const Ae=[...f];for(let L=f.length;L<ye.length;L++)Ae.push(`Option ${String.fromCharCode(65+L)}`);m(Ae),x(!1)},Le=A=>{d(c.filter((O,J)=>J!==A)),m(f.filter((O,J)=>J!==A))},je=(A,O)=>{const J=[...f];J[A]=O,m(J)},$=()=>{const A="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let O="";for(let J=0;J<6;J++){const se=Math.floor(Math.random()*A.length);O+=A[se]}E(O),k(!1),T(!0)},re=async()=>{const A=b.trim();if(!A){alert("Enter an access code first, or tap AUTO.");return}try{await navigator.clipboard.writeText(A),k(!0),T(!1),alert("Access code copied. Save it somewhere safe.")}catch{alert("Could not copy automatically. Please select and copy the code manually.")}},G=async A=>{if(A.preventDefault(),Se.current)return;if(B(null),c.length<2){alert("Please add at least 2 images for comparison");return}if(y&&!b.trim()){alert("Enter an access code or auto-generate one to make this post private.");return}if(y&&!j&&!window.confirm("You haven't tapped COPY yet. Press OK to post your campaign now, or Cancel to go back and copy your invite code.")){alert("Please tap COPY next to the code and save it before posting.");return}if(V){if(!ae||!Y){alert("Set both start and end time for timed voting, or turn it off.");return}const se=new Date(ae),ye=new Date(Y);if(Number.isNaN(se.getTime())||Number.isNaN(ye.getTime())){alert("Enter valid dates for voting start and end.");return}if(ye<=se){alert("Voting end time must be after start time.");return}}Se.current=!0;const{data:{user:O}}=await te.auth.getUser();if(!O){n("/auth",{replace:!0});return}const J={type:"comparison",title:o||f.join(" or "),images:c,comment_count:0,created_by:O.id,is_private:y,access_code:y?b.trim():null,voting_starts_at:null,voting_ends_at:null};if(J.options=f,J.votes=new Array(c.length).fill(0),J.total_votes=0,V){const se=new Date(ae),ye=new Date(Y);J.voting_starts_at=se.toISOString(),J.voting_ends_at=ye.toISOString()}Re.mutate(J,{onError:se=>{console.error("Error creating post:",se);const ye=se&&(se.message||se.error_description||se.details)||"Failed to create post. Please try again.";B(ye),Se.current=!1}})};return p.jsx("div",{"trae-inspector-start-line":"228","trae-inspector-start-column":"4","trae-inspector-end-line":"477","trae-inspector-end-column":"10","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"min-h-screen bg-[#F5F5F5] p-4",children:p.jsxs("div",{"trae-inspector-start-line":"229","trae-inspector-start-column":"6","trae-inspector-end-line":"476","trae-inspector-end-column":"12","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"max-w-2xl mx-auto",children:[p.jsxs("div",{"trae-inspector-start-line":"231","trae-inspector-start-column":"8","trae-inspector-end-line":"239","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-4 mb-8",children:[p.jsx(Ct,{to:$t("Feed"),className:"p-3 bg-white border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all",children:p.jsx(Xu,{className:"w-6 h-6"})}),p.jsx("h1",{"trae-inspector-start-line":"238","trae-inspector-start-column":"10","trae-inspector-end-line":"238","trae-inspector-end-column":"82","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22CREATE%20POST%22%2C%22textStartLine%22%3A%22238%22%2C%22textStartColumn%22%3A%2266%22%2C%22textEndLine%22%3A%22238%22%2C%22textEndColumn%22%3A%2277%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-4xl font-black transform -rotate-1",children:"CREATE POST"})]}),p.jsxs("form",{"trae-inspector-start-line":"241","trae-inspector-start-column":"8","trae-inspector-end-line":"475","trae-inspector-end-column":"15","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onSubmit:G,className:"space-y-6",children:[p.jsxs("div",{"trae-inspector-start-line":"245","trae-inspector-start-column":"10","trae-inspector-end-line":"262","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("label",{"trae-inspector-start-line":"246","trae-inspector-start-column":"12","trae-inspector-end-line":"248","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22YOUR%20QUESTION%20(optional)%22%2C%22textStartLine%22%3A%22246%22%2C%22textStartColumn%22%3A%2281%22%2C%22textEndLine%22%3A%22248%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"block text-xl font-black mb-2 transform -rotate-1",children:"YOUR QUESTION (optional)"}),p.jsxs("div",{"trae-inspector-start-line":"249","trae-inspector-start-column":"12","trae-inspector-end-line":"261","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"relative",children:[p.jsx("input",{"trae-inspector-start-line":"250","trae-inspector-start-column":"14","trae-inspector-end-line":"257","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"text",value:o,onChange:A=>l(A.target.value),placeholder:"What do you need opinions on?",maxLength:70,className:"w-full p-4 border-4 border-black font-bold text-lg bg-white focus:outline-none focus:shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] transition-all"}),p.jsxs("div",{"trae-inspector-start-line":"258","trae-inspector-start-column":"14","trae-inspector-end-line":"260","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"absolute bottom-2 right-2 text-xs text-gray-400 font-bold",children:[o.length,"/70"]})]})]}),p.jsxs("div",{"trae-inspector-start-line":"265","trae-inspector-start-column":"10","trae-inspector-end-line":"344","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("label",{"trae-inspector-start-line":"266","trae-inspector-start-column":"12","trae-inspector-end-line":"268","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22UPLOAD%20IMAGES%20(2-3)%22%2C%22textStartLine%22%3A%22266%22%2C%22textStartColumn%22%3A%2280%22%2C%22textEndLine%22%3A%22268%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"block text-xl font-black mb-2 transform rotate-1",children:"UPLOAD IMAGES (2-3)"}),p.jsx("div",{"trae-inspector-start-line":"269","trae-inspector-start-column":"12","trae-inspector-end-line":"317","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"space-y-4 mb-4",children:c.map((A,O)=>{const J=["#FF006E","#0066FF","#FFFF00"],se=["rotate-1","-rotate-1","rotate-0"];return p.jsx("div",{"trae-inspector-start-line":"275","trae-inspector-start-column":"18","trae-inspector-end-line":"314","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"relative",children:p.jsxs("div",{"trae-inspector-start-line":"276","trae-inspector-start-column":"20","trae-inspector-end-line":"313","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex gap-4",children:[p.jsxs("div",{"trae-inspector-start-line":"277","trae-inspector-start-column":"22","trae-inspector-end-line":"290","trae-inspector-end-column":"32","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"relative w-40 h-40 flex-shrink-0",children:[p.jsx("img",{"trae-inspector-start-line":"278","trae-inspector-start-column":"24","trae-inspector-end-line":"282","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",src:A,alt:`Upload ${O+1}`,className:"w-full h-full object-cover border-4 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]"}),p.jsx("button",{"trae-inspector-start-line":"283","trae-inspector-start-column":"24","trae-inspector-end-line":"289","trae-inspector-end-column":"35","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:()=>Le(O),className:"absolute -top-2 -right-2 p-2 bg-red-500 text-white border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:p.jsx(Qi,{className:"w-4 h-4"})})]}),p.jsxs("div",{"trae-inspector-start-line":"292","trae-inspector-start-column":"26","trae-inspector-end-line":"312","trae-inspector-end-column":"32","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex-1",children:[p.jsxs("label",{"trae-inspector-start-line":"293","trae-inspector-start-column":"26","trae-inspector-end-line":"298","trae-inspector-end-column":"34","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:`block text-lg font-black mb-2 text-white px-3 py-1 border-4 border-black inline-block transform ${se[O]}`,style:{backgroundColor:J[O]},children:["OPTION ",String.fromCharCode(65+O)]}),p.jsxs("div",{"trae-inspector-start-line":"299","trae-inspector-start-column":"26","trae-inspector-end-line":"311","trae-inspector-end-column":"32","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"relative",children:[p.jsx("input",{"trae-inspector-start-line":"300","trae-inspector-start-column":"28","trae-inspector-end-line":"307","trae-inspector-end-column":"30","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"text",value:f[O]||"",onChange:ye=>je(O,ye.target.value),placeholder:`Option ${String.fromCharCode(65+O)}`,maxLength:15,className:"w-full p-4 border-4 border-black font-bold bg-white focus:outline-none focus:shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] transition-all"}),p.jsxs("div",{"trae-inspector-start-line":"308","trae-inspector-start-column":"28","trae-inspector-end-line":"310","trae-inspector-end-column":"34","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"absolute bottom-2 right-2 text-xs text-gray-400 font-bold",children:[(f[O]||"").length,"/15"]})]})]})]})},O)})}),c.length<3&&p.jsxs("label",{"trae-inspector-start-line":"320","trae-inspector-start-column":"14","trae-inspector-end-line":"342","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"block",children:[p.jsx("input",{"trae-inspector-start-line":"321","trae-inspector-start-column":"16","trae-inspector-end-line":"328","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"file",accept:"image/*",multiple:!0,onChange:Ve,className:"hidden",disabled:g}),p.jsx("div",{"trae-inspector-start-line":"329","trae-inspector-start-column":"16","trae-inspector-end-line":"341","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"w-full p-8 border-4 border-dashed border-black bg-white hover:bg-[#FFFF00] cursor-pointer transition-colors flex flex-col items-center justify-center gap-2 font-bold",children:g?p.jsxs(p.Fragment,{children:[p.jsx(Gf,{className:"w-8 h-8 animate-spin"}),p.jsx("span",{"trae-inspector-start-line":"333","trae-inspector-start-column":"22","trae-inspector-end-line":"333","trae-inspector-end-column":"47","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Uploading...%22%2C%22textStartLine%22%3A%22333%22%2C%22textStartColumn%22%3A%2228%22%2C%22textEndLine%22%3A%22333%22%2C%22textEndColumn%22%3A%2240%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:"Uploading..."})]}):p.jsxs(p.Fragment,{children:[p.jsx(qF,{className:"w-8 h-8"}),p.jsx("span",{"trae-inspector-start-line":"338","trae-inspector-start-column":"22","trae-inspector-end-line":"338","trae-inspector-end-column":"50","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22CLICK%20TO%20UPLOAD%22%2C%22textStartLine%22%3A%22338%22%2C%22textStartColumn%22%3A%2228%22%2C%22textEndLine%22%3A%22338%22%2C%22textEndColumn%22%3A%2243%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:"CLICK TO UPLOAD"})]})})]})]}),p.jsxs("div",{"trae-inspector-start-line":"346","trae-inspector-start-column":"10","trae-inspector-end-line":"411","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("label",{"trae-inspector-start-line":"347","trae-inspector-start-column":"12","trae-inspector-end-line":"349","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22VISIBILITY%22%2C%22textStartLine%22%3A%22347%22%2C%22textStartColumn%22%3A%2281%22%2C%22textEndLine%22%3A%22349%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"block text-xl font-black mb-2 transform -rotate-1",children:"VISIBILITY"}),p.jsxs("div",{"trae-inspector-start-line":"350","trae-inspector-start-column":"12","trae-inspector-end-line":"369","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex gap-3 mb-3",children:[p.jsx("button",{"trae-inspector-start-line":"351","trae-inspector-start-column":"14","trae-inspector-end-line":"359","trae-inspector-end-column":"23","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Public%22%2C%22textStartLine%22%3A%22357%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%22359%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:()=>w(!1),className:`flex-1 p-3 border-4 border-black font-black ${y?"bg-white":"bg-[#00FF00]"}`,children:"Public"}),p.jsx("button",{"trae-inspector-start-line":"360","trae-inspector-start-column":"14","trae-inspector-end-line":"368","trae-inspector-end-column":"23","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Private%20(code)%22%2C%22textStartLine%22%3A%22366%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%22368%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:()=>w(!0),className:`flex-1 p-3 border-4 border-black font-black ${y?"bg-[#FFFF00]":"bg-white"}`,children:"Private (code)"})]}),y&&p.jsxs("div",{"trae-inspector-start-line":"371","trae-inspector-start-column":"14","trae-inspector-end-line":"409","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"space-y-2",children:[p.jsx("label",{"trae-inspector-start-line":"372","trae-inspector-start-column":"16","trae-inspector-end-line":"374","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Access%20code%20you%20will%20share%20with%20your%20community%22%2C%22textStartLine%22%3A%22372%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22374%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"block text-sm font-bold",children:"Access code you will share with your community"}),p.jsxs("div",{"trae-inspector-start-line":"375","trae-inspector-start-column":"16","trae-inspector-end-line":"403","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex gap-2",children:[p.jsx("input",{"trae-inspector-start-line":"376","trae-inspector-start-column":"18","trae-inspector-end-line":"388","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"text",value:b,onChange:A=>{const O=A.target.value.toUpperCase();E(O),k(!1),T(!!O)},maxLength:12,className:"flex-1 p-3 border-4 border-black font-bold uppercase bg-white focus:outline-none focus:shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] transition-all",placeholder:"e.g. ABC123"}),p.jsx("button",{"trae-inspector-start-line":"389","trae-inspector-start-column":"18","trae-inspector-end-line":"395","trae-inspector-end-column":"27","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22AUTO%22%2C%22textStartLine%22%3A%22393%22%2C%22textStartColumn%22%3A%2219%22%2C%22textEndLine%22%3A%22395%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:$,className:"px-4 py-3 border-4 border-black bg-black text-[#FFFF00] font-black text-xs shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:"AUTO"}),p.jsx("button",{"trae-inspector-start-line":"396","trae-inspector-start-column":"18","trae-inspector-end-line":"402","trae-inspector-end-column":"27","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22COPY%22%2C%22textStartLine%22%3A%22400%22%2C%22textStartColumn%22%3A%2219%22%2C%22textEndLine%22%3A%22402%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:re,className:"px-4 py-3 border-4 border-black bg-[#FFFF00] font-black text-xs shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:"COPY"})]}),y&&U&&!j&&b.trim()&&p.jsx("div",{"trae-inspector-start-line":"405","trae-inspector-start-column":"18","trae-inspector-end-line":"407","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Don't%20forget%20to%20tap%20COPY%20and%20save%20this%20code.%20Without%20it%2C%20voters%20can't%20unlock%20your%20post.%22%2C%22textStartLine%22%3A%22405%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22407%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-xs font-bold text-red-600 mt-1",children:"Don't forget to tap COPY and save this code. Without it, voters can't unlock your post."})]})]}),p.jsxs("div",{"trae-inspector-start-line":"413","trae-inspector-start-column":"10","trae-inspector-end-line":"460","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsxs("button",{"trae-inspector-start-line":"414","trae-inspector-start-column":"12","trae-inspector-end-line":"421","trae-inspector-end-column":"21","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:()=>W(!K),className:"w-full flex items-center justify-between p-3 border-4 border-black bg-white font-black text-sm",children:[p.jsx("span",{"trae-inspector-start-line":"419","trae-inspector-start-column":"14","trae-inspector-end-line":"419","trae-inspector-end-column":"44","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Advanced%20settings%22%2C%22textStartLine%22%3A%22419%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%22419%22%2C%22textEndColumn%22%3A%2237%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:"Advanced settings"}),p.jsx("span",{"trae-inspector-start-line":"420","trae-inspector-start-column":"14","trae-inspector-end-line":"420","trae-inspector-end-column":"59","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:K?"Hide":"Show"})]}),K&&p.jsxs("div",{"trae-inspector-start-line":"423","trae-inspector-start-column":"14","trae-inspector-end-line":"458","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mt-3 p-4 border-4 border-black bg-white space-y-3",children:[p.jsxs("label",{"trae-inspector-start-line":"424","trae-inspector-start-column":"16","trae-inspector-end-line":"432","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-2 font-bold text-sm",children:[p.jsx("input",{"trae-inspector-start-line":"425","trae-inspector-start-column":"18","trae-inspector-end-line":"430","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"checkbox",checked:V,onChange:A=>X(A.target.checked),className:"w-4 h-4"}),p.jsx("span",{"trae-inspector-start-line":"431","trae-inspector-start-column":"18","trae-inspector-end-line":"431","trae-inspector-end-column":"50","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Enable%20timed%20voting%22%2C%22textStartLine%22%3A%22431%22%2C%22textStartColumn%22%3A%2224%22%2C%22textEndLine%22%3A%22431%22%2C%22textEndColumn%22%3A%2243%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:"Enable timed voting"})]}),V&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{"trae-inspector-start-line":"435","trae-inspector-start-column":"20","trae-inspector-end-line":"443","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("div",{"trae-inspector-start-line":"436","trae-inspector-start-column":"22","trae-inspector-end-line":"436","trae-inspector-end-column":"81","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Voting%20starts%22%2C%22textStartLine%22%3A%22436%22%2C%22textStartColumn%22%3A%2262%22%2C%22textEndLine%22%3A%22436%22%2C%22textEndColumn%22%3A%2275%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-xs font-bold mb-1",children:"Voting starts"}),p.jsx("input",{"trae-inspector-start-line":"437","trae-inspector-start-column":"22","trae-inspector-end-line":"442","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"datetime-local",value:ae,onChange:A=>oe(A.target.value),className:"w-full p-3 border-4 border-black font-bold bg-[#F5F5F5] focus:outline-none focus:bg-[#FFFF00] transition-colors"})]}),p.jsxs("div",{"trae-inspector-start-line":"444","trae-inspector-start-column":"20","trae-inspector-end-line":"452","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("div",{"trae-inspector-start-line":"445","trae-inspector-start-column":"22","trae-inspector-end-line":"445","trae-inspector-end-column":"79","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Voting%20ends%22%2C%22textStartLine%22%3A%22445%22%2C%22textStartColumn%22%3A%2262%22%2C%22textEndLine%22%3A%22445%22%2C%22textEndColumn%22%3A%2273%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-xs font-bold mb-1",children:"Voting ends"}),p.jsx("input",{"trae-inspector-start-line":"446","trae-inspector-start-column":"22","trae-inspector-end-line":"451","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"datetime-local",value:Y,onChange:A=>ge(A.target.value),className:"w-full p-3 border-4 border-black font-bold bg-[#F5F5F5] focus:outline-none focus:bg-[#FFFF00] transition-colors"})]}),p.jsx("div",{"trae-inspector-start-line":"453","trae-inspector-start-column":"20","trae-inspector-end-line":"455","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Times%20use%20your%20local%20timezone.%20Campaigns%20are%20only%20open%20for%20voting%20between%20these%20times.%22%2C%22textStartLine%22%3A%22453%22%2C%22textStartColumn%22%3A%2273%22%2C%22textEndLine%22%3A%22455%22%2C%22textEndColumn%22%3A%2220%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-[11px] font-bold text-gray-600",children:"Times use your local timezone. Campaigns are only open for voting between these times."})]})]})]}),P&&p.jsx("div",{"trae-inspector-start-line":"464","trae-inspector-start-column":"12","trae-inspector-end-line":"466","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"p-3 border-4 border-black bg-red-100 text-xs font-bold mb-2",children:P}),p.jsx("button",{"trae-inspector-start-line":"468","trae-inspector-start-column":"10","trae-inspector-end-line":"474","trae-inspector-end-column":"19","trae-inspector-file-path":"Pages/CreatePost.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"submit",disabled:Re.isPending||g,className:"w-full p-6 bg-[#00FF00] border-4 border-black font-black text-2xl shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:Re.isPending?"POSTING...":"POST IT!"})]})]})})}function Mi({mainText:n,secondaryText:t}){const s=t===void 0?"If this takes long, check your internet connection and refresh.":t;return p.jsx("div",{"trae-inspector-start-line":"19","trae-inspector-start-column":"4","trae-inspector-end-line":"34","trae-inspector-end-column":"10","trae-inspector-file-path":"Components/LoadingScreen.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"h-screen w-full flex items-center justify-center bg-[#F5F5F5] p-4",children:p.jsxs("div",{"trae-inspector-start-line":"20","trae-inspector-start-column":"6","trae-inspector-end-line":"33","trae-inspector-end-column":"12","trae-inspector-file-path":"Components/LoadingScreen.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-center max-w-md",children:[p.jsx("div",{"trae-inspector-start-line":"21","trae-inspector-start-column":"8","trae-inspector-end-line":"27","trae-inspector-end-column":"14","trae-inspector-file-path":"Components/LoadingScreen.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex justify-center mb-4",children:p.jsx("img",{"trae-inspector-start-line":"22","trae-inspector-start-column":"10","trae-inspector-end-line":"26","trae-inspector-end-column":"12","trae-inspector-file-path":"Components/LoadingScreen.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",src:"https://zfneybzvjppfyvcxggjf.supabase.co/storage/v1/object/sign/website/_Transparent%20logo%20(6).png?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV84ZmE3ZmRlMC1jNGQyLTQ4YzAtYjZmZC1kYTRkZDJhN2RiN2YiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJ3ZWJzaXRlL19UcmFuc3BhcmVudCBsb2dvICg2KS5wbmciLCJpYXQiOjE3NjM0OTI3MDMsImV4cCI6MTc5NTAyODcwM30.B2tlRx8zpNVWvX__Otu5B8qynfzFUG-W5_eP6mbeY4I",alt:"ValidToT",className:"w-64 max-w-full"})}),p.jsx("div",{"trae-inspector-start-line":"28","trae-inspector-start-column":"8","trae-inspector-end-line":"28","trae-inspector-end-column":"64","trae-inspector-file-path":"Components/LoadingScreen.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-lg font-bold mb-6",children:n}),p.jsx(Gf,{className:"w-12 h-12 animate-spin mx-auto mb-3"}),s&&p.jsx("div",{"trae-inspector-start-line":"31","trae-inspector-start-column":"10","trae-inspector-end-line":"31","trae-inspector-end-column":"75","trae-inspector-file-path":"Components/LoadingScreen.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-500",children:s})]})})}function XF({segments:n}){const t=n.reduce((c,d)=>c+d.value,0);if(t<=0)return p.jsx("div",{"trae-inspector-start-line":"14","trae-inspector-start-column":"6","trae-inspector-end-line":"16","trae-inspector-end-column":"12","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20data%22%2C%22textStartLine%22%3A%2214%22%2C%22textStartColumn%22%3A%2298%22%2C%22textEndLine%22%3A%2216%22%2C%22textEndColumn%22%3A%226%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"w-48 h-48 flex items-center justify-center text-sm font-bold text-gray-500",children:"No data"});const s=15.915,o=2*Math.PI*s;let l=0;return p.jsxs("svg",{"trae-inspector-start-line":"25","trae-inspector-start-column":"4","trae-inspector-end-line":"54","trae-inspector-end-column":"10","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",viewBox:"0 0 32 32",className:"w-48 h-48 mx-auto",children:[p.jsx("circle",{"trae-inspector-start-line":"26","trae-inspector-start-column":"6","trae-inspector-end-line":"33","trae-inspector-end-column":"8","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",r:s,cx:"16",cy:"16",fill:"transparent",stroke:"#E5E7EB",strokeWidth:"6"}),n.map((c,d)=>{const f=c.value/t,m=`${f*o} ${o}`,g=-l*o;return l+=f,p.jsx("circle",{"trae-inspector-start-line":"41","trae-inspector-start-column":"10","trae-inspector-end-line":"51","trae-inspector-end-column":"12","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",r:s,cx:"16",cy:"16",fill:"transparent",stroke:c.color,strokeWidth:"6",strokeDasharray:m,strokeDashoffset:g},d)})]})}function ZF(){const[n,t]=_.useState(null),[s,o]=_.useState(null),[l,c]=_.useState("Pending"),[d,f]=_.useState("posts"),[m,g]=_.useState(!1),[x,y]=_.useState(null),[w,b]=_.useState(null),E=po(),j=En();_.useEffect(()=>{(async()=>{const{data:{user:M}}=await te.auth.getUser();if(!M){j("/");return}t(M);const{data:ue,error:Ce}=await te.from("admins").select("role").eq("user_id",M.id).maybeSingle();if(Ce||!ue){console.error("Admin Access Error:",Ce,ue),o({error:Ce,data:ue,userId:M.id}),g(!0);return}const Qe=ue.role||"admin";t({...M,role:Qe})})()},[j]);const{data:k=[],isLoading:U}=Bt({queryKey:["reports",l],queryFn:async()=>{let L=te.from("reports").select("*").order("created_at",{ascending:!1}).limit(100);l!=="All"&&(L=L.eq("status",l));const{data:M,error:ue}=await L;if(ue)throw ue;const Ce=M||[],Qe=Array.from(new Set(Ce.filter(be=>be.reported_item_type==="Post").map(be=>be.reported_item_id)));if(Qe.length===0)return Ce;const{data:or,error:it}=await te.from("posts").select("id, title, created_at").in("id",Qe);if(it)throw it;const fe=new Map((or||[]).map(be=>[be.id,be]));return Ce.map(be=>({...be,post:be.reported_item_type==="Post"&&fe.get(be.reported_item_id)||null}))},enabled:!!n&&d==="reports"}),{data:T=[],isLoading:P}=Bt({queryKey:["all_posts"],queryFn:async()=>{const{data:L,error:M}=await te.from("posts").select("*").order("created_at",{ascending:!1}).limit(50);if(M)throw M;return L||[]},enabled:!!n&&d==="posts"}),{data:B=[],isLoading:K}=Bt({queryKey:["all_users"],queryFn:async()=>{const{data:L,error:M}=await te.from("profiles").select("*").order("created_at",{ascending:!1});if(M)throw M;return L||[]},enabled:!!n&&d==="users"}),{data:W,isLoading:V}=Bt({queryKey:["post_analytics",w],queryFn:async()=>{if(!w)return null;const L=w,{data:M,error:ue}=await te.from("votes").select("option_index").eq("post_id",L);if(ue)throw ue;const Ce={};for(const Z of M||[]){const ie=Z.option_index??0,Pe=String(ie);Ce[Pe]=(Ce[Pe]||0)+1}const Qe=Object.entries(Ce).map(([Z,ie])=>({option_index:Number(Z),count:ie})),{data:or,error:it}=await te.from("reports").select("reason").eq("reported_item_type","Post").eq("reported_item_id",L);if(it)throw it;const fe={};for(const Z of or||[]){const ie=Z.reason||"Other";fe[ie]=(fe[ie]||0)+1}const be=Object.entries(fe).map(([Z,ie])=>({reason:Z,count:ie}));return{votesByOption:Qe,reportsByReason:be}},enabled:!!n&&!!w}),X=(W==null?void 0:W.votesByOption)||[],ae=(W==null?void 0:W.reportsByReason)||[],oe=X.reduce((L,M)=>L+(M.count||0),0),Y=ae.reduce((L,M)=>L+(M.count||0),0),{data:ge=0}=Bt({queryKey:["stats","posts_count"],queryFn:async()=>{const{count:L,error:M}=await te.from("posts").select("*",{count:"exact",head:!0});if(M)throw M;return L||0},enabled:!!n}),{data:Se=0}=Bt({queryKey:["stats","votes_count"],queryFn:async()=>{const{count:L,error:M}=await te.from("votes").select("*",{count:"exact",head:!0});if(M)throw M;return L||0},enabled:!!n}),{data:Re=0}=Bt({queryKey:["stats","comments_count"],queryFn:async()=>{const{count:L,error:M}=await te.from("comments").select("*",{count:"exact",head:!0});if(M)throw M;return L||0},enabled:!!n}),{data:Ve=0}=Bt({queryKey:["stats","users_count"],queryFn:async()=>{const{count:L,error:M}=await te.from("profiles").select("*",{count:"exact",head:!0});if(M)throw M;return L||0},enabled:!!n}),{data:Le=0}=Bt({queryKey:["stats","pending_reports"],queryFn:async()=>{const{count:L,error:M}=await te.from("reports").select("*",{count:"exact",head:!0}).eq("status","Pending");if(M)throw M;return L||0},enabled:!!n}),{data:je=[]}=Bt({queryKey:["stats","top_posts"],queryFn:async()=>{const{data:L,error:M}=await te.from("posts").select("id, title, total_votes").order("total_votes",{ascending:!1}).limit(5);if(M)throw M;return L||[]},enabled:!!n}),$=qr({mutationFn:async({reportId:L,data:M})=>{const{error:ue}=await te.from("reports").update(M).eq("id",L);if(ue)throw ue},onSuccess:()=>{E.invalidateQueries({queryKey:["reports"]}),E.invalidateQueries({queryKey:["all_posts"]}),E.invalidateQueries({queryKey:["stats"]})}}),re=qr({mutationFn:async({itemType:L,itemId:M,isHidden:ue})=>{const Ce=L==="Post"?"posts":"comments",{error:Qe}=await te.from(Ce).update({is_hidden:ue}).eq("id",M);if(Qe)throw Qe},onSuccess:()=>{E.invalidateQueries({queryKey:["reports"]}),E.invalidateQueries({queryKey:["all_posts"]})}}),G=qr({mutationFn:async({itemType:L,itemId:M})=>{const ue=L==="Post"?"posts":"comments",{error:Ce}=await te.from(ue).delete().eq("id",M);if(Ce)throw Ce},onSuccess:()=>{E.invalidateQueries({queryKey:["reports"]}),E.invalidateQueries({queryKey:["all_posts"]}),E.invalidateQueries({queryKey:["stats"]})}}),A=qr({mutationFn:async({userId:L,isBanned:M})=>{const{error:ue}=await te.from("profiles").update({is_banned:M}).eq("id",L);if(ue)throw ue},onSuccess:()=>{E.invalidateQueries({queryKey:["all_users"]})}}),O=async(L,M)=>{try{confirm(`Are you sure you want to ${M?"hide":"unhide"} this ${L.reported_item_type.toLowerCase()}?`)&&(await re.mutateAsync({itemType:L.reported_item_type,itemId:L.reported_item_id,isHidden:M}),await $.mutateAsync({reportId:L.id,data:{status:"Reviewed",reviewed_by_admin_email:n.email,review_notes:M?"Content hidden":"Content unhidden"}}),alert("Content hidden and report updated."))}catch(ue){console.error("Error hiding content:",ue),alert("Failed to hide content. Please check database permissions.")}},J=async L=>{try{confirm(" PERMANENT DELETE - This action cannot be undone. Are you sure?")&&(await G.mutateAsync({itemType:L.reported_item_type,itemId:L.reported_item_id}),await $.mutateAsync({reportId:L.id,data:{status:"Resolved",reviewed_by_admin_email:n.email,review_notes:"Content permanently deleted"}}),alert("Content deleted and report resolved."))}catch(M){console.error("Error deleting content:",M),alert("Failed to delete content. Please check database permissions.")}},se=async L=>{try{confirm("Dismiss this report as invalid?")&&(await $.mutateAsync({reportId:L.id,data:{status:"Dismissed",reviewed_by_admin_email:n.email}}),alert("Report dismissed."))}catch(M){console.error("Error dismissing report:",M),alert("Failed to dismiss report. Please check database permissions.")}},ye=async L=>{try{confirm(" Are you sure you want to delete this post? This cannot be undone.")&&(await G.mutateAsync({itemType:"Post",itemId:L}),alert("Post deleted successfully."))}catch(M){console.error("Error deleting post:",M),alert("Failed to delete post. Please check database permissions.")}},Ae=async(L,M)=>{try{confirm(`Are you sure you want to ${M?"UNBAN":"BAN"} this user?`)&&(await A.mutateAsync({userId:L,isBanned:!M}),alert(`User ${M?"unbanned":"banned"} successfully.`))}catch(ue){console.error("Error toggling ban:",ue),alert("Failed to update user status. Please check database permissions.")}};return m?p.jsx("div",{"trae-inspector-start-line":"466","trae-inspector-start-column":"6","trae-inspector-end-line":"490","trae-inspector-end-column":"12","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"h-screen flex flex-col items-center justify-center bg-[#F5F5F5]",children:p.jsxs("div",{"trae-inspector-start-line":"467","trae-inspector-start-column":"8","trae-inspector-end-line":"489","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-center p-8 bg-white border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[p.jsx(tu,{className:"w-16 h-16 mx-auto mb-4 text-red-600"}),p.jsx("h1",{"trae-inspector-start-line":"469","trae-inspector-start-column":"10","trae-inspector-end-line":"469","trae-inspector-end-column":"69","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22ACCESS%20DENIED%22%2C%22textStartLine%22%3A%22469%22%2C%22textStartColumn%22%3A%2251%22%2C%22textEndLine%22%3A%22469%22%2C%22textEndColumn%22%3A%2264%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-3xl font-black mb-4",children:"ACCESS DENIED"}),p.jsx("p",{"trae-inspector-start-line":"470","trae-inspector-start-column":"10","trae-inspector-end-line":"470","trae-inspector-end-column":"89","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22You%20do%20not%20have%20permission%20to%20view%20this%20page.%22%2C%22textStartLine%22%3A%22470%22%2C%22textStartColumn%22%3A%2240%22%2C%22textEndLine%22%3A%22470%22%2C%22textEndColumn%22%3A%2285%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold mb-6",children:"You do not have permission to view this page."}),p.jsxs("div",{"trae-inspector-start-line":"471","trae-inspector-start-column":"10","trae-inspector-end-line":"482","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mb-6 p-4 bg-gray-100 border-2 border-dashed border-gray-400 text-left max-w-md",children:[p.jsx("p",{"trae-inspector-start-line":"472","trae-inspector-start-column":"12","trae-inspector-end-line":"472","trae-inspector-end-column":"81","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Your%20User%20ID%3A%22%2C%22textStartLine%22%3A%22472%22%2C%22textStartColumn%22%3A%2264%22%2C%22textEndLine%22%3A%22472%22%2C%22textEndColumn%22%3A%2277%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-xs font-mono text-gray-500 mb-1",children:"Your User ID:"}),p.jsx("p",{"trae-inspector-start-line":"473","trae-inspector-start-column":"12","trae-inspector-end-line":"473","trae-inspector-end-column":"103","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-mono font-bold select-all mb-4",children:(n==null?void 0:n.id)||"Loading ID..."}),p.jsx("p",{"trae-inspector-start-line":"475","trae-inspector-start-column":"12","trae-inspector-end-line":"475","trae-inspector-end-column":"86","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Database%20Response%3A%22%2C%22textStartLine%22%3A%22475%22%2C%22textStartColumn%22%3A%2264%22%2C%22textEndLine%22%3A%22475%22%2C%22textEndColumn%22%3A%2282%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-xs font-mono text-gray-500 mb-1",children:"Database Response:"}),p.jsx("pre",{"trae-inspector-start-line":"476","trae-inspector-start-column":"12","trae-inspector-end-line":"478","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-xs bg-gray-200 p-2 overflow-auto font-mono",children:JSON.stringify(s,null,2)}),p.jsx("p",{"trae-inspector-start-line":"479","trae-inspector-start-column":"12","trae-inspector-end-line":"481","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22(If%20data%20is%20null%2C%20the%20SQL%20Policy%20is%20blocking%20access%20or%20the%20row%20is%20missing)%22%2C%22textStartLine%22%3A%22479%22%2C%22textStartColumn%22%3A%2254%22%2C%22textEndLine%22%3A%22481%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-xs text-gray-500 mt-2",children:"(If data is null, the SQL Policy is blocking access or the row is missing)"})]}),p.jsx(Ct,{to:"/",className:"inline-block px-6 py-3 bg-[#FF006E] text-white border-4 border-black font-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all",children:"GO HOME"})]})}):n?U?p.jsx(Mi,{mainText:"Loading admin dashboard"}):p.jsxs(p.Fragment,{children:[p.jsx("div",{"trae-inspector-start-line":"504","trae-inspector-start-column":"6","trae-inspector-end-line":"799","trae-inspector-end-column":"12","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"min-h-screen bg-[#F5F5F5] p-4",children:p.jsxs("div",{"trae-inspector-start-line":"505","trae-inspector-start-column":"8","trae-inspector-end-line":"798","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"max-w-6xl mx-auto",children:[p.jsx("div",{"trae-inspector-start-line":"507","trae-inspector-start-column":"8","trae-inspector-end-line":"520","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center justify-between mb-8",children:p.jsxs("div",{"trae-inspector-start-line":"508","trae-inspector-start-column":"10","trae-inspector-end-line":"519","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-4",children:[p.jsx(Ct,{to:$t("Feed"),className:"p-3 bg-white border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all",children:p.jsx(Xu,{className:"w-6 h-6"})}),p.jsxs("div",{"trae-inspector-start-line":"515","trae-inspector-start-column":"12","trae-inspector-end-line":"518","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-3",children:[p.jsx(tu,{className:"w-8 h-8"}),p.jsx("h1",{"trae-inspector-start-line":"517","trae-inspector-start-column":"14","trae-inspector-end-line":"517","trae-inspector-end-column":"90","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22ADMIN%20DASHBOARD%22%2C%22textStartLine%22%3A%22517%22%2C%22textStartColumn%22%3A%2270%22%2C%22textEndLine%22%3A%22517%22%2C%22textEndColumn%22%3A%2285%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-4xl font-black transform -rotate-1",children:"ADMIN DASHBOARD"})]})]})}),p.jsxs("div",{"trae-inspector-start-line":"522","trae-inspector-start-column":"8","trae-inspector-end-line":"527","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mb-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[p.jsxs("div",{"trae-inspector-start-line":"523","trae-inspector-start-column":"10","trae-inspector-end-line":"523","trae-inspector-end-column":"265","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"p-6 bg-white border-4 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] flex items-center gap-3",children:[p.jsx(Pi,{className:"w-6 h-6"}),p.jsx("div",{"trae-inspector-start-line":"523","trae-inspector-start-column":"158","trae-inspector-end-line":"523","trae-inspector-end-column":"213","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-black text-2xl",children:ge}),p.jsx("div",{"trae-inspector-start-line":"523","trae-inspector-start-column":"213","trae-inspector-end-line":"523","trae-inspector-end-column":"259","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Posts%22%2C%22textStartLine%22%3A%22523%22%2C%22textStartColumn%22%3A%22248%22%2C%22textEndLine%22%3A%22523%22%2C%22textEndColumn%22%3A%22253%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold ml-auto",children:"Posts"})]}),p.jsxs("div",{"trae-inspector-start-line":"524","trae-inspector-start-column":"10","trae-inspector-end-line":"524","trae-inspector-end-column":"265","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"p-6 bg-white border-4 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] flex items-center gap-3",children:[p.jsx(Pi,{className:"w-6 h-6"}),p.jsx("div",{"trae-inspector-start-line":"524","trae-inspector-start-column":"158","trae-inspector-end-line":"524","trae-inspector-end-column":"213","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-black text-2xl",children:Se}),p.jsx("div",{"trae-inspector-start-line":"524","trae-inspector-start-column":"213","trae-inspector-end-line":"524","trae-inspector-end-column":"259","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Votes%22%2C%22textStartLine%22%3A%22524%22%2C%22textStartColumn%22%3A%22248%22%2C%22textEndLine%22%3A%22524%22%2C%22textEndColumn%22%3A%22253%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold ml-auto",children:"Votes"})]}),p.jsxs("div",{"trae-inspector-start-line":"525","trae-inspector-start-column":"10","trae-inspector-end-line":"525","trae-inspector-end-column":"271","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"p-6 bg-white border-4 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] flex items-center gap-3",children:[p.jsx(Pi,{className:"w-6 h-6"}),p.jsx("div",{"trae-inspector-start-line":"525","trae-inspector-start-column":"158","trae-inspector-end-line":"525","trae-inspector-end-column":"216","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-black text-2xl",children:Re}),p.jsx("div",{"trae-inspector-start-line":"525","trae-inspector-start-column":"216","trae-inspector-end-line":"525","trae-inspector-end-column":"265","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Comments%22%2C%22textStartLine%22%3A%22525%22%2C%22textStartColumn%22%3A%22251%22%2C%22textEndLine%22%3A%22525%22%2C%22textEndColumn%22%3A%22259%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold ml-auto",children:"Comments"})]}),p.jsxs("div",{"trae-inspector-start-line":"526","trae-inspector-start-column":"10","trae-inspector-end-line":"526","trae-inspector-end-column":"261","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"p-6 bg-white border-4 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] flex items-center gap-3",children:[p.jsx(Ih,{className:"w-6 h-6"}),p.jsx("div",{"trae-inspector-start-line":"526","trae-inspector-start-column":"154","trae-inspector-end-line":"526","trae-inspector-end-column":"209","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-black text-2xl",children:Ve}),p.jsx("div",{"trae-inspector-start-line":"526","trae-inspector-start-column":"209","trae-inspector-end-line":"526","trae-inspector-end-column":"255","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Users%22%2C%22textStartLine%22%3A%22526%22%2C%22textStartColumn%22%3A%22244%22%2C%22textEndLine%22%3A%22526%22%2C%22textEndColumn%22%3A%22249%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold ml-auto",children:"Users"})]})]}),p.jsxs("div",{"trae-inspector-start-line":"530","trae-inspector-start-column":"8","trae-inspector-end-line":"564","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex gap-4 mb-8 border-b-4 border-black pb-1 overflow-x-auto",children:[p.jsxs("button",{"trae-inspector-start-line":"531","trae-inspector-start-column":"10","trae-inspector-end-line":"541","trae-inspector-end-column":"19","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>f("posts"),className:`flex items-center gap-2 px-6 py-3 font-black text-lg transition-all whitespace-nowrap ${d==="posts"?"bg-black text-white translate-y-[4px]":"bg-transparent text-black hover:bg-gray-200"}`,children:[p.jsx(Pu,{className:"w-5 h-5"}),"All Posts Management"]}),p.jsxs("button",{"trae-inspector-start-line":"542","trae-inspector-start-column":"10","trae-inspector-end-line":"552","trae-inspector-end-column":"19","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>f("reports"),className:`flex items-center gap-2 px-6 py-3 font-black text-lg transition-all whitespace-nowrap ${d==="reports"?"bg-black text-white translate-y-[4px]":"bg-transparent text-black hover:bg-gray-200"}`,children:[p.jsx(tu,{className:"w-5 h-5"}),"Reports Management"]}),p.jsxs("button",{"trae-inspector-start-line":"553","trae-inspector-start-column":"10","trae-inspector-end-line":"563","trae-inspector-end-column":"19","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>f("users"),className:`flex items-center gap-2 px-6 py-3 font-black text-lg transition-all whitespace-nowrap ${d==="users"?"bg-black text-white translate-y-[4px]":"bg-transparent text-black hover:bg-gray-200"}`,children:[p.jsx(Ih,{className:"w-5 h-5"}),"Users Management"]})]}),d==="reports"?p.jsxs(p.Fragment,{children:[p.jsxs("div",{"trae-inspector-start-line":"568","trae-inspector-start-column":"12","trae-inspector-end-line":"578","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mb-6 p-6 bg-white border-4 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]",children:[p.jsx("div",{"trae-inspector-start-line":"569","trae-inspector-start-column":"14","trae-inspector-end-line":"569","trae-inspector-end-column":"71","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Top%20Posts%22%2C%22textStartLine%22%3A%22569%22%2C%22textStartColumn%22%3A%2256%22%2C%22textEndLine%22%3A%22569%22%2C%22textEndColumn%22%3A%2265%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-black text-2xl mb-3",children:"Top Posts"}),p.jsx("div",{"trae-inspector-start-line":"570","trae-inspector-start-column":"14","trae-inspector-end-line":"577","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"space-y-2",children:je.map(L=>p.jsxs("div",{"trae-inspector-start-line":"572","trae-inspector-start-column":"18","trae-inspector-end-line":"575","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center justify-between p-3 border-2 border-black",children:[p.jsx("div",{"trae-inspector-start-line":"573","trae-inspector-start-column":"20","trae-inspector-end-line":"573","trae-inspector-end-column":"97","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold truncate max-w-[70%]",children:L.title||"Untitled"}),p.jsx("div",{"trae-inspector-start-line":"574","trae-inspector-start-column":"20","trae-inspector-end-line":"574","trae-inspector-end-column":"74","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-black",children:L.total_votes||0})]},L.id))})]}),p.jsx("div",{"trae-inspector-start-line":"581","trae-inspector-start-column":"12","trae-inspector-end-line":"595","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex gap-3 mb-6 flex-wrap",children:["All","Pending","Reviewed","Resolved","Dismissed"].map(L=>p.jsx("button",{"trae-inspector-start-line":"583","trae-inspector-start-column":"16","trae-inspector-end-line":"593","trae-inspector-end-column":"25","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>c(L),className:`px-6 py-3 border-4 border-black font-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] transition-all ${l===L?"bg-[#FF006E] text-white":"bg-white hover:translate-x-[-2px] hover:translate-y-[-2px]"}`,children:L},L))}),k.length===0?p.jsxs("div",{"trae-inspector-start-line":"599","trae-inspector-start-column":"14","trae-inspector-end-line":"602","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-center py-12",children:[p.jsx(Yf,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),p.jsxs("div",{"trae-inspector-start-line":"601","trae-inspector-start-column":"16","trae-inspector-end-line":"601","trae-inspector-end-column":"112","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-2xl font-black text-gray-600",children:["No ",l.toLowerCase()," reports"]})]}):p.jsx("div",{"trae-inspector-start-line":"604","trae-inspector-start-column":"14","trae-inspector-end-line":"691","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"space-y-4",children:k.map(L=>p.jsxs("div",{"trae-inspector-start-line":"606","trae-inspector-start-column":"18","trae-inspector-end-line":"689","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"bg-white border-4 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] p-6",children:[p.jsxs("div",{"trae-inspector-start-line":"610","trae-inspector-start-column":"20","trae-inspector-end-line":"635","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{"trae-inspector-start-line":"611","trae-inspector-start-column":"22","trae-inspector-end-line":"631","trae-inspector-end-column":"28","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsxs("div",{"trae-inspector-start-line":"612","trae-inspector-start-column":"24","trae-inspector-end-line":"619","trae-inspector-end-column":"30","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-3 mb-2",children:[p.jsx("span",{"trae-inspector-start-line":"613","trae-inspector-start-column":"26","trae-inspector-end-line":"615","trae-inspector-end-column":"33","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"px-3 py-1 bg-[#FF006E] text-white border-2 border-black font-black text-sm",children:L.reported_item_type}),p.jsx("span",{"trae-inspector-start-line":"616","trae-inspector-start-column":"26","trae-inspector-end-line":"618","trae-inspector-end-column":"33","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"px-3 py-1 bg-[#FFFF00] border-2 border-black font-black text-sm",children:L.status})]}),L.post&&p.jsxs("div",{"trae-inspector-start-line":"621","trae-inspector-start-column":"26","trae-inspector-end-line":"623","trae-inspector-end-column":"32","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600 mb-1",children:["Post: ",L.post.title||"Untitled Post"]}),p.jsxs("div",{"trae-inspector-start-line":"625","trae-inspector-start-column":"24","trae-inspector-end-line":"627","trae-inspector-end-column":"30","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600 mb-1",children:["Reported: ",new Date(L.created_at||L.created_date).toLocaleString()]}),p.jsxs("div",{"trae-inspector-start-line":"628","trae-inspector-start-column":"24","trae-inspector-end-line":"630","trae-inspector-end-column":"30","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600",children:["Reporter ID: ",L.reporter_anonymous_id]})]}),p.jsxs("div",{"trae-inspector-start-line":"632","trae-inspector-start-column":"22","trae-inspector-end-line":"634","trae-inspector-end-column":"28","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600",children:["Report ID: ",L.id.substring(0,8),"..."]})]}),p.jsxs("div",{"trae-inspector-start-line":"637","trae-inspector-start-column":"20","trae-inspector-end-line":"644","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mb-4",children:[p.jsx("div",{"trae-inspector-start-line":"638","trae-inspector-start-column":"22","trae-inspector-end-line":"638","trae-inspector-end-column":"97","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-black text-lg mb-2 text-red-600",children:L.reason}),L.details&&p.jsx("div",{"trae-inspector-start-line":"640","trae-inspector-start-column":"24","trae-inspector-end-line":"642","trae-inspector-end-column":"30","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"p-3 bg-gray-50 border-2 border-gray-300 font-medium",children:L.details})]}),p.jsxs("div",{"trae-inspector-start-line":"646","trae-inspector-start-column":"20","trae-inspector-end-line":"688","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex flex-wrap gap-3 pt-4 border-t-2 border-gray-200",children:[p.jsxs(Ct,{to:$t("Post",L.reported_item_id),target:"_blank",className:"flex items-center gap-2 px-4 py-2 bg-blue-100 border-2 border-black font-bold hover:bg-blue-200",children:[p.jsx(Ya,{className:"w-4 h-4"})," View Content"]}),L.status==="Pending"&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{"trae-inspector-start-line":"657","trae-inspector-start-column":"26","trae-inspector-end-line":"662","trae-inspector-end-column":"35","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>O(L,!0),className:"flex items-center gap-2 px-4 py-2 bg-orange-100 border-2 border-black font-bold hover:bg-orange-200",children:[p.jsx(Qf,{className:"w-4 h-4"})," Hide Content"]}),p.jsxs("button",{"trae-inspector-start-line":"664","trae-inspector-start-column":"26","trae-inspector-end-line":"669","trae-inspector-end-column":"35","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>J(L),className:"flex items-center gap-2 px-4 py-2 bg-red-100 border-2 border-black font-bold hover:bg-red-200 text-red-700",children:[p.jsx(Nu,{className:"w-4 h-4"})," Delete Permanently"]}),p.jsxs("button",{"trae-inspector-start-line":"671","trae-inspector-start-column":"26","trae-inspector-end-line":"676","trae-inspector-end-column":"35","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>se(L),className:"flex items-center gap-2 px-4 py-2 bg-green-100 border-2 border-black font-bold hover:bg-green-200",children:[p.jsx(Ki,{className:"w-4 h-4"})," Dismiss Report"]})]}),L.status==="Reviewed"&&p.jsxs("button",{"trae-inspector-start-line":"681","trae-inspector-start-column":"24","trae-inspector-end-line":"686","trae-inspector-end-column":"33","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>O(L,!1),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 border-2 border-black font-bold hover:bg-gray-200",children:[p.jsx(Ya,{className:"w-4 h-4"})," Unhide Content"]})]})]},L.id))})]}):d==="posts"?p.jsxs("div",{"trae-inspector-start-line":"695","trae-inspector-start-column":"10","trae-inspector-end-line":"743","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"space-y-4",children:[p.jsx("h2",{"trae-inspector-start-line":"696","trae-inspector-start-column":"12","trae-inspector-end-line":"696","trae-inspector-end-column":"74","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Manage%20All%20Posts%22%2C%22textStartLine%22%3A%22696%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22696%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-3xl font-black mb-6",children:"Manage All Posts"}),T.length===0?p.jsx("div",{"trae-inspector-start-line":"698","trae-inspector-start-column":"14","trae-inspector-end-line":"700","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-center py-12",children:p.jsx("div",{"trae-inspector-start-line":"699","trae-inspector-start-column":"16","trae-inspector-end-line":"699","trae-inspector-end-column":"87","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20posts%20found%22%2C%22textStartLine%22%3A%22699%22%2C%22textStartColumn%22%3A%2267%22%2C%22textEndLine%22%3A%22699%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-2xl font-black text-gray-600",children:"No posts found"})}):T.map(L=>p.jsxs("div",{"trae-inspector-start-line":"703","trae-inspector-start-column":"16","trae-inspector-end-line":"740","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"bg-white border-4 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] p-6 flex justify-between items-center gap-4",children:[p.jsxs("div",{"trae-inspector-start-line":"707","trae-inspector-start-column":"18","trae-inspector-end-line":"715","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex-1",children:[p.jsx("div",{"trae-inspector-start-line":"708","trae-inspector-start-column":"20","trae-inspector-end-line":"708","trae-inspector-end-column":"98","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-black text-xl mb-1",children:L.title||"Untitled Post"}),p.jsxs("div",{"trae-inspector-start-line":"709","trae-inspector-start-column":"20","trae-inspector-end-line":"711","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-500 mb-2",children:["ID: ",L.id,"  Votes: ",L.total_votes,"  Comments: ",L.comment_count]}),p.jsx("div",{"trae-inspector-start-line":"712","trae-inspector-start-column":"20","trae-inspector-end-line":"714","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm text-gray-600 line-clamp-2",children:L.description})]}),p.jsxs("div",{"trae-inspector-start-line":"716","trae-inspector-start-column":"18","trae-inspector-end-line":"739","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex flex-col gap-2",children:[p.jsxs("button",{"trae-inspector-start-line":"717","trae-inspector-start-column":"20","trae-inspector-end-line":"725","trae-inspector-end-column":"29","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>{y(L),b(L.id)},className:"flex items-center justify-center gap-2 px-4 py-2 bg-[#FFFF00] border-2 border-black font-bold hover:bg-yellow-300",children:[p.jsx(Pi,{className:"w-4 h-4"})," Analytics"]}),p.jsxs(Ct,{to:$t("Post",L.id),target:"_blank",className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-100 border-2 border-black font-bold hover:bg-blue-200",children:[p.jsx(Ya,{className:"w-4 h-4"})," View"]}),p.jsxs("button",{"trae-inspector-start-line":"733","trae-inspector-start-column":"20","trae-inspector-end-line":"738","trae-inspector-end-column":"29","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>ye(L.id),className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-100 border-2 border-black font-bold hover:bg-red-200 text-red-700",children:[p.jsx(Nu,{className:"w-4 h-4"})," Delete"]})]})]},L.id))]}):p.jsxs("div",{"trae-inspector-start-line":"745","trae-inspector-start-column":"10","trae-inspector-end-line":"796","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"space-y-4",children:[p.jsx("h2",{"trae-inspector-start-line":"746","trae-inspector-start-column":"12","trae-inspector-end-line":"746","trae-inspector-end-column":"70","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Manage%20Users%22%2C%22textStartLine%22%3A%22746%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22746%22%2C%22textEndColumn%22%3A%2265%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-3xl font-black mb-6",children:"Manage Users"}),B.length===0?p.jsx("div",{"trae-inspector-start-line":"748","trae-inspector-start-column":"14","trae-inspector-end-line":"750","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-center py-12",children:p.jsx("div",{"trae-inspector-start-line":"749","trae-inspector-start-column":"16","trae-inspector-end-line":"749","trae-inspector-end-column":"87","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20users%20found%22%2C%22textStartLine%22%3A%22749%22%2C%22textStartColumn%22%3A%2267%22%2C%22textEndLine%22%3A%22749%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-2xl font-black text-gray-600",children:"No users found"})}):B.map(L=>p.jsxs("div",{"trae-inspector-start-line":"753","trae-inspector-start-column":"16","trae-inspector-end-line":"793","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:`bg-white border-4 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] p-6 flex flex-col sm:flex-row justify-between items-center gap-4 ${L.is_banned?"bg-red-50":""}`,children:[p.jsxs("div",{"trae-inspector-start-line":"757","trae-inspector-start-column":"18","trae-inspector-end-line":"772","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex-1 w-full",children:[p.jsxs("div",{"trae-inspector-start-line":"758","trae-inspector-start-column":"20","trae-inspector-end-line":"765","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{"trae-inspector-start-line":"759","trae-inspector-start-column":"22","trae-inspector-end-line":"759","trae-inspector-end-column":"94","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-black text-xl",children:L.username||"Anonymous"}),L.is_banned&&p.jsx("span",{"trae-inspector-start-line":"761","trae-inspector-start-column":"24","trae-inspector-end-line":"763","trae-inspector-end-column":"31","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22BANNED%22%2C%22textStartLine%22%3A%22761%22%2C%22textStartColumn%22%3A%22125%22%2C%22textEndLine%22%3A%22763%22%2C%22textEndColumn%22%3A%2224%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"px-3 py-1 bg-red-600 text-white border-2 border-black font-black text-xs uppercase",children:"BANNED"})]}),p.jsxs("div",{"trae-inspector-start-line":"766","trae-inspector-start-column":"20","trae-inspector-end-line":"768","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-500",children:["ID: ",L.id]}),p.jsxs("div",{"trae-inspector-start-line":"769","trae-inspector-start-column":"20","trae-inspector-end-line":"771","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-medium text-gray-400",children:["Joined: ",new Date(L.created_at).toLocaleDateString()]})]}),p.jsx("div",{"trae-inspector-start-line":"773","trae-inspector-start-column":"18","trae-inspector-end-line":"792","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-2 w-full sm:w-auto",children:p.jsx("button",{"trae-inspector-start-line":"774","trae-inspector-start-column":"20","trae-inspector-end-line":"791","trae-inspector-end-column":"29","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>Ae(L.id,L.is_banned),className:`flex-1 sm:flex-none flex items-center justify-center gap-2 px-6 py-3 border-4 border-black font-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all ${L.is_banned?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:L.is_banned?p.jsxs(p.Fragment,{children:[p.jsx(WF,{className:"w-5 h-5"})," UNBAN USER"]}):p.jsxs(p.Fragment,{children:[p.jsx(KF,{className:"w-5 h-5"})," BAN USER"]})})})]},L.id))]})]})}),x&&p.jsx("div",{"trae-inspector-start-line":"802","trae-inspector-start-column":"8","trae-inspector-end-line":"911","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:p.jsxs("div",{"trae-inspector-start-line":"803","trae-inspector-start-column":"10","trae-inspector-end-line":"910","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"w-full max-w-xl bg-white border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{"trae-inspector-start-line":"804","trae-inspector-start-column":"12","trae-inspector-end-line":"827","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{"trae-inspector-start-line":"805","trae-inspector-start-column":"14","trae-inspector-end-line":"817","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsxs("div",{"trae-inspector-start-line":"806","trae-inspector-start-column":"16","trae-inspector-end-line":"808","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-xs font-bold text-gray-500 mb-1",children:["Post ID: ",x.id]}),p.jsx("div",{"trae-inspector-start-line":"809","trae-inspector-start-column":"16","trae-inspector-end-line":"811","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-2xl font-black mb-1",children:x.title||"Untitled Post"}),p.jsxs("div",{"trae-inspector-start-line":"812","trae-inspector-start-column":"16","trae-inspector-end-line":"816","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-xs font-bold text-gray-500",children:["Created: ",x.created_at?new Date(x.created_at).toLocaleString():"Unknown"]})]}),p.jsx("button",{"trae-inspector-start-line":"818","trae-inspector-start-column":"14","trae-inspector-end-line":"826","trae-inspector-end-column":"23","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22CLOSE%22%2C%22textStartLine%22%3A%22824%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%22826%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>{y(null),b(null)},className:"px-3 py-2 bg-black text-white border-2 border-black font-bold text-xs",children:"CLOSE"})]}),V?p.jsx("div",{"trae-inspector-start-line":"830","trae-inspector-start-column":"14","trae-inspector-end-line":"830","trae-inspector-end-column":"84","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Loading%20analytics...%22%2C%22textStartLine%22%3A%22830%22%2C%22textStartColumn%22%3A%2258%22%2C%22textEndLine%22%3A%22830%22%2C%22textEndColumn%22%3A%2278%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"py-8 text-center font-bold",children:"Loading analytics..."}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{"trae-inspector-start-line":"833","trae-inspector-start-column":"16","trae-inspector-end-line":"873","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mb-6",children:[p.jsx("div",{"trae-inspector-start-line":"834","trae-inspector-start-column":"18","trae-inspector-end-line":"834","trae-inspector-end-column":"82","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Vote%20distribution%22%2C%22textStartLine%22%3A%22834%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22834%22%2C%22textEndColumn%22%3A%2276%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-lg font-black mb-2",children:"Vote distribution"}),p.jsx(XF,{segments:X.map((L,M)=>{const ue=["#FF006E","#3B82F6","#22C55E","#F97316","#A855F7"],Ce=ue[M%ue.length];return{value:L.count||0,color:Ce}})}),p.jsx("div",{"trae-inspector-start-line":"845","trae-inspector-start-column":"18","trae-inspector-end-line":"872","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mt-4 space-y-1",children:X.length===0?p.jsx("div",{"trae-inspector-start-line":"847","trae-inspector-start-column":"22","trae-inspector-end-line":"847","trae-inspector-end-column":"104","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20votes%20yet%20for%20this%20post.%22%2C%22textStartLine%22%3A%22847%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22847%22%2C%22textEndColumn%22%3A%2298%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-500",children:"No votes yet for this post."}):X.map(L=>{const M=L.option_index??0,ue=(x.options||[])[M]||`Option ${String.fromCharCode(65+M)}`,Ce=L.count||0,Qe=oe>0?Math.round(Ce/oe*100):0;return p.jsxs("div",{"trae-inspector-start-line":"861","trae-inspector-start-column":"26","trae-inspector-end-line":"868","trae-inspector-end-column":"32","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex justify-between text-sm font-bold",children:[p.jsxs("span",{"trae-inspector-start-line":"862","trae-inspector-start-column":"28","trae-inspector-end-line":"864","trae-inspector-end-column":"35","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[ue," (index ",M,")"]}),p.jsxs("span",{"trae-inspector-start-line":"865","trae-inspector-start-column":"28","trae-inspector-end-line":"867","trae-inspector-end-column":"35","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[Ce," vote",Ce!==1?"s":""," (",Qe,"%)"]})]},M)})})]}),p.jsxs("div",{"trae-inspector-start-line":"875","trae-inspector-start-column":"16","trae-inspector-end-line":"902","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mb-4",children:[p.jsx("div",{"trae-inspector-start-line":"876","trae-inspector-start-column":"18","trae-inspector-end-line":"876","trae-inspector-end-column":"82","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Reports%20by%20reason%22%2C%22textStartLine%22%3A%22876%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22876%22%2C%22textEndColumn%22%3A%2276%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-lg font-black mb-2",children:"Reports by reason"}),Y===0?p.jsx("div",{"trae-inspector-start-line":"878","trae-inspector-start-column":"20","trae-inspector-end-line":"880","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20reports%20for%20this%20post.%22%2C%22textStartLine%22%3A%22878%22%2C%22textStartColumn%22%3A%2274%22%2C%22textEndLine%22%3A%22880%22%2C%22textEndColumn%22%3A%2220%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"py-2 text-sm font-bold text-gray-500",children:"No reports for this post."}):p.jsx("div",{"trae-inspector-start-line":"882","trae-inspector-start-column":"20","trae-inspector-end-line":"900","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"space-y-1",children:ae.map(L=>{const M=L.reason||"Other",ue=L.count||0,Ce=Y>0?Math.round(ue/Y*100):0;return p.jsxs("div",{"trae-inspector-start-line":"892","trae-inspector-start-column":"26","trae-inspector-end-line":"897","trae-inspector-end-column":"32","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex justify-between text-sm font-bold",children:[p.jsx("span",{"trae-inspector-start-line":"893","trae-inspector-start-column":"28","trae-inspector-end-line":"893","trae-inspector-end-column":"49","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:M}),p.jsxs("span",{"trae-inspector-start-line":"894","trae-inspector-start-column":"28","trae-inspector-end-line":"896","trae-inspector-end-column":"35","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[ue," report",ue!==1?"s":""," (",Ce,"%)"]})]},M)})})]}),p.jsxs("div",{"trae-inspector-start-line":"904","trae-inspector-start-column":"16","trae-inspector-end-line":"907","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/AdminDashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mt-4 text-xs font-bold text-gray-500",children:["Total votes: ",x.total_votes||0,"  Comments:"," ",x.comment_count||0]})]})]})})]}):p.jsx(Mi,{mainText:"Checking permissions"})}const Zf=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe","Other"];function e_(){var je;const[n,t]=_.useState(""),[s,o]=_.useState(""),[l,c]=_.useState(""),[d,f]=_.useState(""),[m,g]=_.useState(""),[x,y]=_.useState(""),[w,b]=_.useState(""),[E,j]=_.useState(!1),[k,U]=_.useState("signin"),[T,P]=_.useState("voter"),[B,K]=_.useState(!1),[W,V]=_.useState(null),[X,ae]=_.useState(null),oe=En(),ge=ar().state;(je=ge==null?void 0:ge.from)==null||je.pathname;const Se="/",Re=$=>{if($.length<8)return!1;const re=/[A-Za-z]/.test($),G=/[0-9]/.test($);return re&&G},Ve=async $=>{$.preventDefault(),K(!0),V(null),ae(null);try{if(!n||!s)throw new Error("Please enter an email and password.");if(k==="signup"){if(!Re(s))throw new Error("Password must be at least 8 characters and include a letter and a number.");if(T==="admin"){if(!x.trim())throw new Error("Please enter your job title or role to sign up as an Admin.");if(!w.trim())throw new Error("Please enter your organization to sign up as an Admin.")}else if(!l||!d||!m)throw new Error("Please select your gender, country, and cohort to sign up.");const{data:re,error:G}=await te.rpc("email_exists",{email_arg:n});if(!G&&re)throw new Error("An account already exists with this email. Please sign in instead.");const{error:A}=await te.auth.signUp({email:n,password:s,options:{data:{gender:T==="voter"?l:null,country:T==="voter"?d:null,cohort:T==="voter"?m:null,intended_role:T,job_title:T==="admin"?x:null,organization:T==="admin"?w:null}}});if(A){const O=A.message||"";throw O.toLowerCase().includes("already registered")||O.toLowerCase().includes("already exists")?new Error("An account already exists with this email. Please sign in instead."):A}ae("Check your email to confirm your account, then sign in.")}else{const{data:re,error:G}=await te.rpc("email_exists",{email_arg:n});if(!G&&!re)throw new Error("No account found with this email. Please sign up instead.");const{error:A}=await te.auth.signInWithPassword({email:n,password:s});if(A){const J=A.message||"";throw J.toLowerCase().includes("invalid login credentials")||J.toLowerCase().includes("invalid login")||J.toLowerCase().includes("invalid email or password")?new Error("Incorrect email or password. Please try again."):A}const{data:{user:O}}=await te.auth.getUser();if(O&&await Hf(O.id)){oe("/admin",{replace:!0});return}oe(Se,{replace:!0})}}catch(re){V(re.message||"Authentication failed")}finally{K(!1)}},Le=async()=>{if(V(null),ae(null),!n){V("Enter your email to reset your password.");return}K(!0);try{const{error:$}=await te.auth.resetPasswordForEmail(n);if($)throw $;ae("If an account exists for that email, we sent a reset link.")}catch($){V($.message||"Failed to send password reset email.")}finally{K(!1)}};return p.jsx("div",{"trae-inspector-start-line":"366","trae-inspector-start-column":"4","trae-inspector-end-line":"618","trae-inspector-end-column":"10","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"min-h-screen flex items-center justify-center bg-[#F5F5F5] p-4",children:p.jsxs("div",{"trae-inspector-start-line":"367","trae-inspector-start-column":"6","trae-inspector-end-line":"617","trae-inspector-end-column":"12","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"w-full max-w-md bg-white border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6",children:[p.jsx("div",{"trae-inspector-start-line":"368","trae-inspector-start-column":"8","trae-inspector-end-line":"375","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mb-4 flex justify-between items-center",children:p.jsx(Ct,{to:"/",className:"text-xs font-bold underline",children:"Go to home"})}),p.jsxs("div",{"trae-inspector-start-line":"376","trae-inspector-start-column":"8","trae-inspector-end-line":"389","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-center mb-6",children:[p.jsx("div",{"trae-inspector-start-line":"377","trae-inspector-start-column":"10","trae-inspector-end-line":"379","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22ValidToT%22%2C%22textStartLine%22%3A%22377%22%2C%22textStartColumn%22%3A%2272%22%2C%22textEndLine%22%3A%22379%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-4xl font-black mb-2 transform -rotate-2",children:"ValidToT"}),p.jsx("div",{"trae-inspector-start-line":"380","trae-inspector-start-column":"10","trae-inspector-end-line":"388","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold",children:k==="signup"?T==="admin"?"Sign up as an Admin to create polls and see analytics":"Sign up as a Voter to join campaigns and vote":T==="admin"?"Sign in as an Admin to manage polls and analytics":"Sign in as a Voter to see polls and vote"})]}),p.jsxs("form",{"trae-inspector-start-line":"391","trae-inspector-start-column":"8","trae-inspector-end-line":"584","trae-inspector-end-column":"15","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onSubmit:Ve,className:"space-y-4",children:[p.jsxs("div",{"trae-inspector-start-line":"392","trae-inspector-start-column":"10","trae-inspector-end-line":"412","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"grid grid-cols-1 gap-2",children:[p.jsx("button",{"trae-inspector-start-line":"393","trae-inspector-start-column":"12","trae-inspector-end-line":"401","trae-inspector-end-column":"21","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:()=>P("voter"),className:`w-full p-3 border-4 border-black font-black text-sm ${T==="voter"?"bg-[#00FF00]":"bg-white"}`,children:k==="signup"?"Sign up as Voter":"Sign in as Voter"}),p.jsx("button",{"trae-inspector-start-line":"403","trae-inspector-start-column":"12","trae-inspector-end-line":"411","trae-inspector-end-column":"21","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:()=>P("admin"),className:`w-full p-3 border-4 border-black font-black text-sm ${T==="admin"?"bg-[#FFFF00]":"bg-white"}`,children:k==="signup"?"Sign up as Admin":"Sign in as Admin"})]}),p.jsxs("div",{"trae-inspector-start-line":"414","trae-inspector-start-column":"10","trae-inspector-end-line":"423","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("label",{"trae-inspector-start-line":"415","trae-inspector-start-column":"12","trae-inspector-end-line":"415","trae-inspector-end-column":"73","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Email%22%2C%22textStartLine%22%3A%22415%22%2C%22textStartColumn%22%3A%2260%22%2C%22textEndLine%22%3A%22415%22%2C%22textEndColumn%22%3A%2265%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"block text-sm font-bold mb-1",children:"Email"}),p.jsx("input",{"trae-inspector-start-line":"416","trae-inspector-start-column":"12","trae-inspector-end-line":"422","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"email",value:n,onChange:$=>t($.target.value),className:"w-full p-3 border-4 border-black font-bold bg-[#F5F5F5] focus:outline-none focus:bg-[#FFFF00] transition-colors",placeholder:"you@example.com"})]}),p.jsxs("div",{"trae-inspector-start-line":"424","trae-inspector-start-column":"10","trae-inspector-end-line":"457","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("label",{"trae-inspector-start-line":"425","trae-inspector-start-column":"12","trae-inspector-end-line":"425","trae-inspector-end-column":"76","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Password%22%2C%22textStartLine%22%3A%22425%22%2C%22textStartColumn%22%3A%2260%22%2C%22textEndLine%22%3A%22425%22%2C%22textEndColumn%22%3A%2268%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"block text-sm font-bold mb-1",children:"Password"}),p.jsxs("div",{"trae-inspector-start-line":"426","trae-inspector-start-column":"12","trae-inspector-end-line":"446","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"relative",children:[p.jsx("input",{"trae-inspector-start-line":"427","trae-inspector-start-column":"14","trae-inspector-end-line":"433","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:E?"text":"password",value:s,onChange:$=>o($.target.value),className:"w-full p-3 pr-12 border-4 border-black font-bold bg-[#F5F5F5] focus:outline-none focus:bg-[#FFFF00] transition-colors",placeholder:"At least 6 characters"}),p.jsx("button",{"trae-inspector-start-line":"434","trae-inspector-start-column":"14","trae-inspector-end-line":"445","trae-inspector-end-column":"23","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:()=>j($=>!$),className:"absolute inset-y-0 right-0 px-3 flex items-center justify-center text-gray-700","aria-label":E?"Hide password":"Show password",children:E?p.jsx(Qf,{className:"w-5 h-5"}):p.jsx(Ya,{className:"w-5 h-5"})})]}),k==="signin"&&p.jsx("button",{"trae-inspector-start-line":"448","trae-inspector-start-column":"14","trae-inspector-end-line":"455","trae-inspector-end-column":"23","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Forgot%20your%20password%3F%22%2C%22textStartLine%22%3A%22453%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%22455%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:Le,disabled:B,className:"mt-2 text-xs font-bold underline",children:"Forgot your password?"})]}),k==="signup"&&T==="admin"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{"trae-inspector-start-line":"461","trae-inspector-start-column":"14","trae-inspector-end-line":"470","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("label",{"trae-inspector-start-line":"462","trae-inspector-start-column":"16","trae-inspector-end-line":"462","trae-inspector-end-column":"89","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Job%20title%20or%20role%22%2C%22textStartLine%22%3A%22462%22%2C%22textStartColumn%22%3A%2264%22%2C%22textEndLine%22%3A%22462%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"block text-sm font-bold mb-1",children:"Job title or role"}),p.jsx("input",{"trae-inspector-start-line":"463","trae-inspector-start-column":"16","trae-inspector-end-line":"469","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"text",value:x,onChange:$=>y($.target.value),className:"w-full p-3 border-4 border-black font-bold bg-[#F5F5F5] focus:outline-none focus:bg-[#FFFF00] transition-colors",placeholder:"e.g. Campaign manager"})]}),p.jsxs("div",{"trae-inspector-start-line":"471","trae-inspector-start-column":"14","trae-inspector-end-line":"480","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("label",{"trae-inspector-start-line":"472","trae-inspector-start-column":"16","trae-inspector-end-line":"472","trae-inspector-end-column":"84","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Organization%22%2C%22textStartLine%22%3A%22472%22%2C%22textStartColumn%22%3A%2264%22%2C%22textEndLine%22%3A%22472%22%2C%22textEndColumn%22%3A%2276%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"block text-sm font-bold mb-1",children:"Organization"}),p.jsx("input",{"trae-inspector-start-line":"473","trae-inspector-start-column":"16","trae-inspector-end-line":"479","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"text",value:w,onChange:$=>b($.target.value),className:"w-full p-3 border-4 border-black font-bold bg-[#F5F5F5] focus:outline-none focus:bg-[#FFFF00] transition-colors",placeholder:"e.g. Organization or campaign name"})]})]}),k==="signup"&&T==="voter"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{"trae-inspector-start-line":"486","trae-inspector-start-column":"14","trae-inspector-end-line":"512","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("label",{"trae-inspector-start-line":"487","trae-inspector-start-column":"16","trae-inspector-end-line":"487","trae-inspector-end-column":"78","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gender%22%2C%22textStartLine%22%3A%22487%22%2C%22textStartColumn%22%3A%2264%22%2C%22textEndLine%22%3A%22487%22%2C%22textEndColumn%22%3A%2270%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"block text-sm font-bold mb-1",children:"Gender"}),p.jsxs("div",{"trae-inspector-start-line":"488","trae-inspector-start-column":"16","trae-inspector-end-line":"511","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex gap-4",children:[p.jsxs("label",{"trae-inspector-start-line":"489","trae-inspector-start-column":"18","trae-inspector-end-line":"499","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-2 text-sm font-bold",children:[p.jsx("input",{"trae-inspector-start-line":"490","trae-inspector-start-column":"20","trae-inspector-end-line":"497","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"radio",name:"gender",value:"male",checked:l==="male",onChange:()=>c("male"),className:"w-4 h-4"}),p.jsx("span",{"trae-inspector-start-line":"498","trae-inspector-start-column":"20","trae-inspector-end-line":"498","trae-inspector-end-column":"37","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Male%22%2C%22textStartLine%22%3A%22498%22%2C%22textStartColumn%22%3A%2226%22%2C%22textEndLine%22%3A%22498%22%2C%22textEndColumn%22%3A%2230%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:"Male"})]}),p.jsxs("label",{"trae-inspector-start-line":"500","trae-inspector-start-column":"18","trae-inspector-end-line":"510","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-2 text-sm font-bold",children:[p.jsx("input",{"trae-inspector-start-line":"501","trae-inspector-start-column":"20","trae-inspector-end-line":"508","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"radio",name:"gender",value:"female",checked:l==="female",onChange:()=>c("female"),className:"w-4 h-4"}),p.jsx("span",{"trae-inspector-start-line":"509","trae-inspector-start-column":"20","trae-inspector-end-line":"509","trae-inspector-end-column":"39","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Female%22%2C%22textStartLine%22%3A%22509%22%2C%22textStartColumn%22%3A%2226%22%2C%22textEndLine%22%3A%22509%22%2C%22textEndColumn%22%3A%2232%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:"Female"})]})]})]}),p.jsxs("div",{"trae-inspector-start-line":"514","trae-inspector-start-column":"14","trae-inspector-end-line":"528","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("label",{"trae-inspector-start-line":"515","trae-inspector-start-column":"16","trae-inspector-end-line":"515","trae-inspector-end-column":"79","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Country%22%2C%22textStartLine%22%3A%22515%22%2C%22textStartColumn%22%3A%2264%22%2C%22textEndLine%22%3A%22515%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"block text-sm font-bold mb-1",children:"Country"}),p.jsxs("select",{"trae-inspector-start-line":"516","trae-inspector-start-column":"16","trae-inspector-end-line":"527","trae-inspector-end-column":"25","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",value:d,onChange:$=>f($.target.value),className:"w-full p-3 border-4 border-black font-bold bg-[#F5F5F5] focus:outline-none focus:bg-[#FFFF00] transition-colors",children:[p.jsx("option",{"trae-inspector-start-line":"521","trae-inspector-start-column":"18","trae-inspector-end-line":"521","trae-inspector-end-column":"60","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Select%20a%20country%22%2C%22textStartLine%22%3A%22521%22%2C%22textStartColumn%22%3A%2235%22%2C%22textEndLine%22%3A%22521%22%2C%22textEndColumn%22%3A%2251%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",value:"",children:"Select a country"}),Zf.map($=>p.jsx("option",{"trae-inspector-start-line":"523","trae-inspector-start-column":"20","trae-inspector-end-line":"525","trae-inspector-end-column":"29","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",value:$,children:$},$))]})]}),p.jsxs("div",{"trae-inspector-start-line":"530","trae-inspector-start-column":"14","trae-inspector-end-line":"556","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("label",{"trae-inspector-start-line":"531","trae-inspector-start-column":"16","trae-inspector-end-line":"531","trae-inspector-end-column":"78","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Cohort%22%2C%22textStartLine%22%3A%22531%22%2C%22textStartColumn%22%3A%2264%22%2C%22textEndLine%22%3A%22531%22%2C%22textEndColumn%22%3A%2270%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"block text-sm font-bold mb-1",children:"Cohort"}),p.jsxs("div",{"trae-inspector-start-line":"532","trae-inspector-start-column":"16","trae-inspector-end-line":"555","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex gap-4",children:[p.jsxs("label",{"trae-inspector-start-line":"533","trae-inspector-start-column":"18","trae-inspector-end-line":"543","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-2 text-sm font-bold",children:[p.jsx("input",{"trae-inspector-start-line":"534","trae-inspector-start-column":"20","trae-inspector-end-line":"541","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"radio",name:"cohort",value:"1",checked:m==="1",onChange:()=>g("1"),className:"w-4 h-4"}),p.jsx("span",{"trae-inspector-start-line":"542","trae-inspector-start-column":"20","trae-inspector-end-line":"542","trae-inspector-end-column":"41","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Cohort%201%22%2C%22textStartLine%22%3A%22542%22%2C%22textStartColumn%22%3A%2226%22%2C%22textEndLine%22%3A%22542%22%2C%22textEndColumn%22%3A%2234%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:"Cohort 1"})]}),p.jsxs("label",{"trae-inspector-start-line":"544","trae-inspector-start-column":"18","trae-inspector-end-line":"554","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-2 text-sm font-bold",children:[p.jsx("input",{"trae-inspector-start-line":"545","trae-inspector-start-column":"20","trae-inspector-end-line":"552","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"radio",name:"cohort",value:"2",checked:m==="2",onChange:()=>g("2"),className:"w-4 h-4"}),p.jsx("span",{"trae-inspector-start-line":"553","trae-inspector-start-column":"20","trae-inspector-end-line":"553","trae-inspector-end-column":"41","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Cohort%202%22%2C%22textStartLine%22%3A%22553%22%2C%22textStartColumn%22%3A%2226%22%2C%22textEndLine%22%3A%22553%22%2C%22textEndColumn%22%3A%2234%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:"Cohort 2"})]})]})]})]}),W&&p.jsx("div",{"trae-inspector-start-line":"561","trae-inspector-start-column":"12","trae-inspector-end-line":"563","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"p-3 border-4 border-black bg-red-100 font-bold text-sm",children:W}),X&&p.jsx("div",{"trae-inspector-start-line":"566","trae-inspector-start-column":"12","trae-inspector-end-line":"568","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"p-3 border-4 border-black bg-[#FFFF00] font-bold text-sm",children:X}),p.jsx("button",{"trae-inspector-start-line":"571","trae-inspector-start-column":"10","trae-inspector-end-line":"583","trae-inspector-end-column":"19","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"submit",disabled:B,className:"w-full p-3 bg-[#FF006E] text-white border-4 border-black font-black text-lg shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] disabled:opacity-50 disabled:cursor-not-allowed",children:B?k==="signup"?"Creating account...":"Signing in...":k==="signup"?"Sign up":"Sign in"})]}),p.jsx("div",{"trae-inspector-start-line":"586","trae-inspector-start-column":"8","trae-inspector-end-line":"616","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mt-4 text-center text-sm font-bold",children:k==="signup"?p.jsxs(p.Fragment,{children:["Already have an account?"," ",p.jsx("button",{"trae-inspector-start-line":"590","trae-inspector-start-column":"14","trae-inspector-end-line":"599","trae-inspector-end-column":"23","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Sign%20in%22%2C%22textStartLine%22%3A%22597%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%22599%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"underline",onClick:()=>{U("signin"),V(null),ae(null)},children:"Sign in"})]}):p.jsxs(p.Fragment,{children:["New here?"," ",p.jsx("button",{"trae-inspector-start-line":"604","trae-inspector-start-column":"14","trae-inspector-end-line":"613","trae-inspector-end-column":"23","trae-inspector-file-path":"Pages/Auth.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Create%20an%20account%22%2C%22textStartLine%22%3A%22611%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%22613%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"underline",onClick:()=>{U("signup"),V(null),ae(null)},children:"Create an account"})]})})]})})}function t_(){const[n,t]=_.useState(null),[s,o]=_.useState(null),[l,c]=_.useState(!0),[d,f]=_.useState(!1),[m,g]=_.useState("posts"),[x,y]=_.useState(!1),[w,b]=_.useState(""),[E,j]=_.useState(""),[k,U]=_.useState(""),[T,P]=_.useState(!1),[B,K]=_.useState(null),[W,V]=_.useState(null),[X,ae]=_.useState(null),[oe,Y]=_.useState(!1),[ge,Se]=_.useState(""),[Re,Ve]=_.useState(""),[Le,je]=_.useState(!1),[$,re]=_.useState(null),G=En(),A=async()=>{await te.auth.signOut(),G("/")};_.useEffect(()=>{(async()=>{const{data:{user:be}}=await te.auth.getUser();if(!be){c(!1);return}o(be.email??null);const{data:Z,error:ie}=await te.from("profiles").select("id, username, created_at, gender, country, cohort").eq("id",be.id).maybeSingle();!ie&&Z&&t(Z);const rt=!!await Hf(be.id);if(f(rt),rt){const{data:We,error:Xe}=await te.from("admins").select("organization, job_title").eq("user_id",be.id).maybeSingle();!Xe&&We?(V(We.job_title??null),ae(We.organization??null)):(V(null),ae(null))}else V(null),ae(null);c(!1)})()},[]);const{data:O=[],isLoading:J}=Bt({queryKey:["my_votes"],queryFn:async()=>{const{data:{user:fe}}=await te.auth.getUser();if(!fe)return[];const{data:be,error:Z}=await te.from("votes").select("id, post_id, option_index, created_at, post:posts(id, title, options)").eq("user_id",fe.id).order("created_at",{ascending:!1}).limit(20);if(Z)throw console.error("Error loading vote history:",Z),Z;return be||[]}}),{data:se=[],isLoading:ye}=Bt({queryKey:["my_posts"],queryFn:async()=>{const{data:{user:fe}}=await te.auth.getUser();if(!fe)return[];const{data:be,error:Z}=await te.from("posts").select("id, title, created_at, total_votes, comment_count, is_hidden").eq("created_by",fe.id).order("created_at",{ascending:!1}).limit(20);if(Z)throw console.error("Error loading my posts:",Z),Z;return be||[]}});if(l)return p.jsx(Mi,{mainText:"Loading your profile"});if(!n)return p.jsx("div",{"trae-inspector-start-line":"159","trae-inspector-start-column":"6","trae-inspector-end-line":"169","trae-inspector-end-column":"12","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"min-h-screen flex items-center justify-center bg-[#F5F5F5]",children:p.jsxs("div",{"trae-inspector-start-line":"160","trae-inspector-start-column":"8","trae-inspector-end-line":"168","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-center",children:[p.jsx("div",{"trae-inspector-start-line":"161","trae-inspector-start-column":"10","trae-inspector-end-line":"161","trae-inspector-end-column":"74","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20profile%20found%22%2C%22textStartLine%22%3A%22161%22%2C%22textStartColumn%22%3A%2252%22%2C%22textEndLine%22%3A%22161%22%2C%22textEndColumn%22%3A%2268%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-2xl font-black mb-4",children:"No profile found"}),p.jsx(Ct,{to:$t("Feed"),className:"inline-flex items-center gap-2 px-6 py-3 bg-[#FF006E] text-white border-4 border-black font-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]",children:"Go back"})]})});const Ae=[];d&&Ae.push("Admin"),Ae.push("Voter");const L=Ae.join(", "),M=()=>{K(null),b(n.gender||""),j(n.country||""),U(n.cohort||""),y(!0)},ue=()=>{y(!1),K(null)},Ce=async()=>{P(!0),K(null);try{const{data:{user:fe}}=await te.auth.getUser();if(!fe){K("You must be signed in to update your profile."),P(!1);return}const be={gender:w||null,country:E||null,cohort:k||null},{data:Z,error:ie}=await te.from("profiles").update(be).eq("id",fe.id).select("id, username, created_at, gender, country, cohort").maybeSingle();if(ie){K(ie.message||"Failed to update profile details."),P(!1);return}Z?t(Z):n&&t({...n,gender:be.gender,country:be.country,cohort:be.cohort}),y(!1)}catch(fe){K(fe.message||"Failed to update profile details.")}finally{P(!1)}},Qe=()=>{re(null),Se(W??""),Ve(X??""),Y(!0)},or=()=>{Y(!1),re(null)},it=async()=>{je(!0),re(null);try{const{data:{user:fe}}=await te.auth.getUser();if(!fe){re("You must be signed in to update admin details."),je(!1);return}const be={user_id:fe.id,job_title:ge||null,organization:Re||null,role:"admin"},{error:Z}=await te.from("admins").upsert(be,{onConflict:"user_id"});if(Z){re(Z.message||"Failed to update admin details."),je(!1);return}V(be.job_title),ae(be.organization),Y(!1)}catch(fe){re(fe.message||"Failed to update admin details.")}finally{je(!1)}};return p.jsx("div",{"trae-inspector-start-line":"299","trae-inspector-start-column":"4","trae-inspector-end-line":"697","trae-inspector-end-column":"10","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"min-h-screen bg-[#F5F5F5] p-4",children:p.jsxs("div",{"trae-inspector-start-line":"300","trae-inspector-start-column":"6","trae-inspector-end-line":"696","trae-inspector-end-column":"12","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"max-w-xl mx-auto",children:[p.jsxs("div",{"trae-inspector-start-line":"301","trae-inspector-start-column":"8","trae-inspector-end-line":"314","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center justify-between mb-8",children:[p.jsx(Ct,{to:$t("Feed"),className:"p-3 bg-white border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all",children:p.jsx(Xu,{className:"w-6 h-6"})}),p.jsxs("div",{"trae-inspector-start-line":"308","trae-inspector-start-column":"10","trae-inspector-end-line":"313","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-3",children:[p.jsx(Xf,{className:"w-8 h-8"}),p.jsx("h1",{"trae-inspector-start-line":"310","trae-inspector-start-column":"12","trae-inspector-end-line":"312","trae-inspector-end-column":"17","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Your%20Profile%22%2C%22textStartLine%22%3A%22310%22%2C%22textStartColumn%22%3A%2268%22%2C%22textEndLine%22%3A%22312%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-3xl font-black transform -rotate-1",children:"Your Profile"})]})]}),p.jsxs("div",{"trae-inspector-start-line":"316","trae-inspector-start-column":"8","trae-inspector-end-line":"550","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"bg-white border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 space-y-4",children:[p.jsxs("div",{"trae-inspector-start-line":"317","trae-inspector-start-column":"10","trae-inspector-end-line":"320","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("div",{"trae-inspector-start-line":"318","trae-inspector-start-column":"12","trae-inspector-end-line":"318","trae-inspector-end-column":"75","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Username%22%2C%22textStartLine%22%3A%22318%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%22318%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600",children:"Username"}),p.jsx("div",{"trae-inspector-start-line":"319","trae-inspector-start-column":"12","trae-inspector-end-line":"319","trae-inspector-end-column":"73","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-2xl font-black",children:n.username})]}),s&&p.jsxs("div",{"trae-inspector-start-line":"322","trae-inspector-start-column":"12","trae-inspector-end-line":"325","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("div",{"trae-inspector-start-line":"323","trae-inspector-start-column":"14","trae-inspector-end-line":"323","trae-inspector-end-column":"74","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Email%22%2C%22textStartLine%22%3A%22323%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22323%22%2C%22textEndColumn%22%3A%2268%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600",children:"Email"}),p.jsx("div",{"trae-inspector-start-line":"324","trae-inspector-start-column":"14","trae-inspector-end-line":"324","trae-inspector-end-column":"54","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold",children:s})]}),p.jsxs("div",{"trae-inspector-start-line":"327","trae-inspector-start-column":"10","trae-inspector-end-line":"332","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("div",{"trae-inspector-start-line":"328","trae-inspector-start-column":"12","trae-inspector-end-line":"328","trae-inspector-end-column":"72","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Roles%22%2C%22textStartLine%22%3A%22328%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%22328%22%2C%22textEndColumn%22%3A%2266%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600",children:"Roles"}),p.jsx("div",{"trae-inspector-start-line":"329","trae-inspector-start-column":"12","trae-inspector-end-line":"331","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold",children:L})]}),p.jsxs("div",{"trae-inspector-start-line":"333","trae-inspector-start-column":"10","trae-inspector-end-line":"338","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("div",{"trae-inspector-start-line":"334","trae-inspector-start-column":"12","trae-inspector-end-line":"334","trae-inspector-end-column":"73","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Joined%22%2C%22textStartLine%22%3A%22334%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%22334%22%2C%22textEndColumn%22%3A%2267%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600",children:"Joined"}),p.jsx("div",{"trae-inspector-start-line":"335","trae-inspector-start-column":"12","trae-inspector-end-line":"337","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold",children:new Date(n.created_at).toLocaleString()})]}),p.jsxs("div",{"trae-inspector-start-line":"339","trae-inspector-start-column":"10","trae-inspector-end-line":"358","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[p.jsxs("div",{"trae-inspector-start-line":"340","trae-inspector-start-column":"12","trae-inspector-end-line":"345","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("div",{"trae-inspector-start-line":"341","trae-inspector-start-column":"14","trae-inspector-end-line":"341","trae-inspector-end-column":"75","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gender%22%2C%22textStartLine%22%3A%22341%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22341%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600",children:"Gender"}),p.jsx("div",{"trae-inspector-start-line":"342","trae-inspector-start-column":"14","trae-inspector-end-line":"344","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold",children:n.gender||"Not set"})]}),p.jsxs("div",{"trae-inspector-start-line":"346","trae-inspector-start-column":"12","trae-inspector-end-line":"351","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("div",{"trae-inspector-start-line":"347","trae-inspector-start-column":"14","trae-inspector-end-line":"347","trae-inspector-end-column":"76","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Country%22%2C%22textStartLine%22%3A%22347%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22347%22%2C%22textEndColumn%22%3A%2270%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600",children:"Country"}),p.jsx("div",{"trae-inspector-start-line":"348","trae-inspector-start-column":"14","trae-inspector-end-line":"350","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold",children:n.country||"Not set"})]}),p.jsxs("div",{"trae-inspector-start-line":"352","trae-inspector-start-column":"12","trae-inspector-end-line":"357","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("div",{"trae-inspector-start-line":"353","trae-inspector-start-column":"14","trae-inspector-end-line":"353","trae-inspector-end-column":"75","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Cohort%22%2C%22textStartLine%22%3A%22353%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22353%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600",children:"Cohort"}),p.jsx("div",{"trae-inspector-start-line":"354","trae-inspector-start-column":"14","trae-inspector-end-line":"356","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold",children:n.cohort||"Not set"})]})]}),p.jsx("div",{"trae-inspector-start-line":"360","trae-inspector-start-column":"10","trae-inspector-end-line":"370","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mt-2 flex justify-end",children:!x&&p.jsx("button",{"trae-inspector-start-line":"362","trae-inspector-start-column":"14","trae-inspector-end-line":"368","trae-inspector-end-column":"23","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Edit%20profile%20details%22%2C%22textStartLine%22%3A%22366%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%22368%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:M,className:"px-3 py-1 text-xs font-black border-2 border-black bg-white",children:"Edit profile details"})}),x&&p.jsxs("div",{"trae-inspector-start-line":"373","trae-inspector-start-column":"12","trae-inspector-end-line":"466","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mt-4 border-t-2 border-dashed border-gray-300 pt-4 space-y-3",children:[B&&p.jsx("div",{"trae-inspector-start-line":"375","trae-inspector-start-column":"16","trae-inspector-end-line":"377","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"p-2 border-2 border-black bg-red-100 text-xs font-bold",children:B}),p.jsxs("div",{"trae-inspector-start-line":"379","trae-inspector-start-column":"14","trae-inspector-end-line":"405","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("div",{"trae-inspector-start-line":"380","trae-inspector-start-column":"16","trae-inspector-end-line":"380","trae-inspector-end-column":"77","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gender%22%2C%22textStartLine%22%3A%22380%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22380%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600",children:"Gender"}),p.jsxs("div",{"trae-inspector-start-line":"381","trae-inspector-start-column":"16","trae-inspector-end-line":"404","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex gap-4 mt-1",children:[p.jsxs("label",{"trae-inspector-start-line":"382","trae-inspector-start-column":"18","trae-inspector-end-line":"392","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-2 text-sm font-bold",children:[p.jsx("input",{"trae-inspector-start-line":"383","trae-inspector-start-column":"20","trae-inspector-end-line":"390","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"radio",name:"edit-gender",value:"male",checked:w==="male",onChange:()=>b("male"),className:"w-4 h-4"}),p.jsx("span",{"trae-inspector-start-line":"391","trae-inspector-start-column":"20","trae-inspector-end-line":"391","trae-inspector-end-column":"37","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Male%22%2C%22textStartLine%22%3A%22391%22%2C%22textStartColumn%22%3A%2226%22%2C%22textEndLine%22%3A%22391%22%2C%22textEndColumn%22%3A%2230%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:"Male"})]}),p.jsxs("label",{"trae-inspector-start-line":"393","trae-inspector-start-column":"18","trae-inspector-end-line":"403","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-2 text-sm font-bold",children:[p.jsx("input",{"trae-inspector-start-line":"394","trae-inspector-start-column":"20","trae-inspector-end-line":"401","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"radio",name:"edit-gender",value:"female",checked:w==="female",onChange:()=>b("female"),className:"w-4 h-4"}),p.jsx("span",{"trae-inspector-start-line":"402","trae-inspector-start-column":"20","trae-inspector-end-line":"402","trae-inspector-end-column":"39","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Female%22%2C%22textStartLine%22%3A%22402%22%2C%22textStartColumn%22%3A%2226%22%2C%22textEndLine%22%3A%22402%22%2C%22textEndColumn%22%3A%2232%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:"Female"})]})]})]}),p.jsxs("div",{"trae-inspector-start-line":"406","trae-inspector-start-column":"14","trae-inspector-end-line":"420","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("div",{"trae-inspector-start-line":"407","trae-inspector-start-column":"16","trae-inspector-end-line":"407","trae-inspector-end-column":"78","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Country%22%2C%22textStartLine%22%3A%22407%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22407%22%2C%22textEndColumn%22%3A%2272%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600",children:"Country"}),p.jsxs("select",{"trae-inspector-start-line":"408","trae-inspector-start-column":"16","trae-inspector-end-line":"419","trae-inspector-end-column":"25","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",value:E,onChange:fe=>j(fe.target.value),className:"w-full mt-1 p-2 border-2 border-black font-bold bg-[#F5F5F5] focus:outline-none focus:bg-[#FFFF00] transition-colors",children:[p.jsx("option",{"trae-inspector-start-line":"413","trae-inspector-start-column":"18","trae-inspector-end-line":"413","trae-inspector-end-column":"60","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Select%20a%20country%22%2C%22textStartLine%22%3A%22413%22%2C%22textStartColumn%22%3A%2235%22%2C%22textEndLine%22%3A%22413%22%2C%22textEndColumn%22%3A%2251%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",value:"",children:"Select a country"}),Zf.map(fe=>p.jsx("option",{"trae-inspector-start-line":"415","trae-inspector-start-column":"20","trae-inspector-end-line":"417","trae-inspector-end-column":"29","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",value:fe,children:fe},fe))]})]}),p.jsxs("div",{"trae-inspector-start-line":"421","trae-inspector-start-column":"14","trae-inspector-end-line":"447","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("div",{"trae-inspector-start-line":"422","trae-inspector-start-column":"16","trae-inspector-end-line":"422","trae-inspector-end-column":"77","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Cohort%22%2C%22textStartLine%22%3A%22422%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22422%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600",children:"Cohort"}),p.jsxs("div",{"trae-inspector-start-line":"423","trae-inspector-start-column":"16","trae-inspector-end-line":"446","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex gap-4 mt-1",children:[p.jsxs("label",{"trae-inspector-start-line":"424","trae-inspector-start-column":"18","trae-inspector-end-line":"434","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-2 text-sm font-bold",children:[p.jsx("input",{"trae-inspector-start-line":"425","trae-inspector-start-column":"20","trae-inspector-end-line":"432","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"radio",name:"edit-cohort",value:"1",checked:k==="1",onChange:()=>U("1"),className:"w-4 h-4"}),p.jsx("span",{"trae-inspector-start-line":"433","trae-inspector-start-column":"20","trae-inspector-end-line":"433","trae-inspector-end-column":"41","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Cohort%201%22%2C%22textStartLine%22%3A%22433%22%2C%22textStartColumn%22%3A%2226%22%2C%22textEndLine%22%3A%22433%22%2C%22textEndColumn%22%3A%2234%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:"Cohort 1"})]}),p.jsxs("label",{"trae-inspector-start-line":"435","trae-inspector-start-column":"18","trae-inspector-end-line":"445","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-2 text-sm font-bold",children:[p.jsx("input",{"trae-inspector-start-line":"436","trae-inspector-start-column":"20","trae-inspector-end-line":"443","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"radio",name:"edit-cohort",value:"2",checked:k==="2",onChange:()=>U("2"),className:"w-4 h-4"}),p.jsx("span",{"trae-inspector-start-line":"444","trae-inspector-start-column":"20","trae-inspector-end-line":"444","trae-inspector-end-column":"41","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Cohort%202%22%2C%22textStartLine%22%3A%22444%22%2C%22textStartColumn%22%3A%2226%22%2C%22textEndLine%22%3A%22444%22%2C%22textEndColumn%22%3A%2234%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:"Cohort 2"})]})]})]}),p.jsxs("div",{"trae-inspector-start-line":"448","trae-inspector-start-column":"14","trae-inspector-end-line":"465","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex gap-2",children:[p.jsx("button",{"trae-inspector-start-line":"449","trae-inspector-start-column":"16","trae-inspector-end-line":"456","trae-inspector-end-column":"25","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:Ce,disabled:T,className:"px-4 py-2 bg-[#00FF00] border-2 border-black font-black text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:T?"Saving...":"Save changes"}),p.jsx("button",{"trae-inspector-start-line":"457","trae-inspector-start-column":"16","trae-inspector-end-line":"464","trae-inspector-end-column":"25","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Cancel%22%2C%22textStartLine%22%3A%22462%22%2C%22textStartColumn%22%3A%2217%22%2C%22textEndLine%22%3A%22464%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:ue,disabled:T,className:"px-4 py-2 bg-white border-2 border-black font-black text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]}),d&&p.jsxs("div",{"trae-inspector-start-line":"470","trae-inspector-start-column":"12","trae-inspector-end-line":"548","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mt-4 border-t-2 border-dashed border-gray-300 pt-4 space-y-3",children:[p.jsxs("div",{"trae-inspector-start-line":"471","trae-inspector-start-column":"14","trae-inspector-end-line":"482","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center justify-between",children:[p.jsx("div",{"trae-inspector-start-line":"472","trae-inspector-start-column":"16","trae-inspector-end-line":"472","trae-inspector-end-column":"84","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Admin%20details%22%2C%22textStartLine%22%3A%22472%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22472%22%2C%22textEndColumn%22%3A%2278%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600",children:"Admin details"}),!oe&&p.jsx("button",{"trae-inspector-start-line":"474","trae-inspector-start-column":"18","trae-inspector-end-line":"480","trae-inspector-end-column":"27","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Edit%22%2C%22textStartLine%22%3A%22478%22%2C%22textStartColumn%22%3A%2219%22%2C%22textEndLine%22%3A%22480%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:Qe,className:"px-3 py-1 text-xs font-black border-2 border-black bg-[#FFFF00]",children:"Edit"})]}),!oe&&p.jsxs("div",{"trae-inspector-start-line":"485","trae-inspector-start-column":"16","trae-inspector-end-line":"498","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("div",{"trae-inspector-start-line":"486","trae-inspector-start-column":"18","trae-inspector-end-line":"491","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("div",{"trae-inspector-start-line":"487","trae-inspector-start-column":"20","trae-inspector-end-line":"487","trae-inspector-end-column":"92","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Job%20title%20or%20role%22%2C%22textStartLine%22%3A%22487%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22487%22%2C%22textEndColumn%22%3A%2286%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600",children:"Job title or role"}),p.jsx("div",{"trae-inspector-start-line":"488","trae-inspector-start-column":"20","trae-inspector-end-line":"490","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold",children:W||"Not set"})]}),p.jsxs("div",{"trae-inspector-start-line":"492","trae-inspector-start-column":"18","trae-inspector-end-line":"497","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("div",{"trae-inspector-start-line":"493","trae-inspector-start-column":"20","trae-inspector-end-line":"493","trae-inspector-end-column":"87","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Organization%22%2C%22textStartLine%22%3A%22493%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22493%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600",children:"Organization"}),p.jsx("div",{"trae-inspector-start-line":"494","trae-inspector-start-column":"20","trae-inspector-end-line":"496","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold",children:X||"Not set"})]})]}),oe&&p.jsxs("div",{"trae-inspector-start-line":"502","trae-inspector-start-column":"16","trae-inspector-end-line":"546","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"space-y-3",children:[$&&p.jsx("div",{"trae-inspector-start-line":"504","trae-inspector-start-column":"20","trae-inspector-end-line":"506","trae-inspector-end-column":"26","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"p-2 border-2 border-black bg-red-100 text-xs font-bold",children:$}),p.jsxs("div",{"trae-inspector-start-line":"508","trae-inspector-start-column":"18","trae-inspector-end-line":"517","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("div",{"trae-inspector-start-line":"509","trae-inspector-start-column":"20","trae-inspector-end-line":"509","trae-inspector-end-column":"92","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Job%20title%20or%20role%22%2C%22textStartLine%22%3A%22509%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22509%22%2C%22textEndColumn%22%3A%2286%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600",children:"Job title or role"}),p.jsx("input",{"trae-inspector-start-line":"510","trae-inspector-start-column":"20","trae-inspector-end-line":"516","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"text",value:ge,onChange:fe=>Se(fe.target.value),className:"w-full p-2 border-2 border-black font-bold bg-[#F5F5F5] focus:outline-none focus:bg-[#FFFF00] transition-colors",placeholder:"e.g. Campaign manager"})]}),p.jsxs("div",{"trae-inspector-start-line":"518","trae-inspector-start-column":"18","trae-inspector-end-line":"527","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("div",{"trae-inspector-start-line":"519","trae-inspector-start-column":"20","trae-inspector-end-line":"519","trae-inspector-end-column":"87","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Organization%22%2C%22textStartLine%22%3A%22519%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22519%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-600",children:"Organization"}),p.jsx("input",{"trae-inspector-start-line":"520","trae-inspector-start-column":"20","trae-inspector-end-line":"526","trae-inspector-end-column":"22","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"text",value:Re,onChange:fe=>Ve(fe.target.value),className:"w-full p-2 border-2 border-black font-bold bg-[#F5F5F5] focus:outline-none focus:bg-[#FFFF00] transition-colors",placeholder:"e.g. Organization or campaign name"})]}),p.jsxs("div",{"trae-inspector-start-line":"528","trae-inspector-start-column":"18","trae-inspector-end-line":"545","trae-inspector-end-column":"24","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex gap-2",children:[p.jsx("button",{"trae-inspector-start-line":"529","trae-inspector-start-column":"20","trae-inspector-end-line":"536","trae-inspector-end-column":"29","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:it,disabled:Le,className:"px-4 py-2 bg-[#00FF00] border-2 border-black font-black text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:Le?"Saving...":"Save changes"}),p.jsx("button",{"trae-inspector-start-line":"537","trae-inspector-start-column":"20","trae-inspector-end-line":"544","trae-inspector-end-column":"29","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Cancel%22%2C%22textStartLine%22%3A%22542%22%2C%22textStartColumn%22%3A%2221%22%2C%22textEndLine%22%3A%22544%22%2C%22textEndColumn%22%3A%2220%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:or,disabled:Le,className:"px-4 py-2 bg-white border-2 border-black font-black text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})]})]}),p.jsxs("div",{"trae-inspector-start-line":"552","trae-inspector-start-column":"8","trae-inspector-end-line":"577","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mt-6 flex gap-3 border-b-4 border-black pb-1 overflow-x-auto",children:[p.jsxs("button",{"trae-inspector-start-line":"553","trae-inspector-start-column":"10","trae-inspector-end-line":"564","trae-inspector-end-column":"19","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:()=>g("posts"),className:`flex items-center gap-2 px-4 py-2 font-black text-sm md:text-base whitespace-nowrap transition-all ${m==="posts"?"bg-black text-white translate-y-[2px]":"bg-transparent text-black hover:bg-gray-200"}`,children:[p.jsx(Pu,{className:"w-4 h-4"}),"Your posts"]}),p.jsxs("button",{"trae-inspector-start-line":"565","trae-inspector-start-column":"10","trae-inspector-end-line":"576","trae-inspector-end-column":"19","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:()=>g("votes"),className:`flex items-center gap-2 px-4 py-2 font-black text-sm md:text-base whitespace-nowrap transition-all ${m==="votes"?"bg-black text-white translate-y-[2px]":"bg-transparent text-black hover:bg-gray-200"}`,children:[p.jsx(Du,{className:"w-4 h-4"}),"Your votes"]})]}),m==="posts"&&p.jsxs("div",{"trae-inspector-start-line":"580","trae-inspector-start-column":"10","trae-inspector-end-line":"630","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mt-6 bg-white border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6",children:[p.jsxs("div",{"trae-inspector-start-line":"581","trae-inspector-start-column":"12","trae-inspector-end-line":"584","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-2 mb-4",children:[p.jsx(Pu,{className:"w-5 h-5"}),p.jsx("h2",{"trae-inspector-start-line":"583","trae-inspector-start-column":"14","trae-inspector-end-line":"583","trae-inspector-end-column":"64","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Your%20posts%22%2C%22textStartLine%22%3A%22583%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22583%22%2C%22textEndColumn%22%3A%2259%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-xl font-black",children:"Your posts"})]}),ye?p.jsx("div",{"trae-inspector-start-line":"587","trae-inspector-start-column":"14","trae-inspector-end-line":"589","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Loading%20your%20posts...%22%2C%22textStartLine%22%3A%22587%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22589%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-500",children:"Loading your posts..."}):se.length===0?p.jsx("div",{"trae-inspector-start-line":"591","trae-inspector-start-column":"14","trae-inspector-end-line":"593","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22You%20haven't%20created%20any%20posts%20yet.%22%2C%22textStartLine%22%3A%22591%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22593%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-500",children:"You haven't created any posts yet."}):p.jsx("div",{"trae-inspector-start-line":"595","trae-inspector-start-column":"14","trae-inspector-end-line":"628","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"space-y-3",children:se.map(fe=>{const be=fe.created_at?new Date(fe.created_at).toLocaleString():"Unknown time",Z=fe.total_votes||0,ie=fe.comment_count||0,Pe=!!fe.is_hidden;return p.jsxs(Ct,{to:$t("Post",fe.id),className:"block border-2 border-black p-3 hover:bg-gray-50 transition-colors",children:[p.jsx("div",{"trae-inspector-start-line":"610","trae-inspector-start-column":"22","trae-inspector-end-line":"612","trae-inspector-end-column":"28","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-black text-sm mb-1",children:fe.title||"Untitled post"}),p.jsxs("div",{"trae-inspector-start-line":"613","trae-inspector-start-column":"22","trae-inspector-end-line":"615","trae-inspector-end-column":"28","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-xs font-bold text-gray-500 mb-1",children:["Created: ",be]}),p.jsxs("div",{"trae-inspector-start-line":"616","trae-inspector-start-column":"22","trae-inspector-end-line":"624","trae-inspector-end-column":"28","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-xs font-bold text-gray-500",children:[Z," vote",Z!==1?"s":""," "," ",ie," comment",ie!==1?"s":"",Pe&&p.jsx("span",{"trae-inspector-start-line":"620","trae-inspector-start-column":"26","trae-inspector-end-line":"622","trae-inspector-end-column":"33","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Hidden%22%2C%22textStartLine%22%3A%22620%22%2C%22textStartColumn%22%3A%22136%22%2C%22textEndLine%22%3A%22622%22%2C%22textEndColumn%22%3A%2226%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"ml-2 px-2 py-0.5 text-[10px] uppercase bg-red-600 text-white border border-black font-black",children:"Hidden"})]})]},fe.id)})})]}),m==="votes"&&p.jsxs("div",{"trae-inspector-start-line":"634","trae-inspector-start-column":"10","trae-inspector-end-line":"686","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mt-6 bg-white border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6",children:[p.jsxs("div",{"trae-inspector-start-line":"635","trae-inspector-start-column":"12","trae-inspector-end-line":"638","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-2 mb-4",children:[p.jsx(Du,{className:"w-5 h-5"}),p.jsx("h2",{"trae-inspector-start-line":"637","trae-inspector-start-column":"14","trae-inspector-end-line":"637","trae-inspector-end-column":"71","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Your%20recent%20votes%22%2C%22textStartLine%22%3A%22637%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22637%22%2C%22textEndColumn%22%3A%2266%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-xl font-black",children:"Your recent votes"})]}),J?p.jsx("div",{"trae-inspector-start-line":"641","trae-inspector-start-column":"14","trae-inspector-end-line":"643","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Loading%20your%20votes...%22%2C%22textStartLine%22%3A%22641%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22643%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-500",children:"Loading your votes..."}):O.length===0?p.jsx("div",{"trae-inspector-start-line":"645","trae-inspector-start-column":"14","trae-inspector-end-line":"647","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22You%20haven't%20voted%20on%20any%20posts%20yet.%22%2C%22textStartLine%22%3A%22645%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22647%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-500",children:"You haven't voted on any posts yet."}):p.jsx("div",{"trae-inspector-start-line":"649","trae-inspector-start-column":"14","trae-inspector-end-line":"684","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"space-y-3",children:O.map(fe=>{const be=fe.post,Z=(be==null?void 0:be.options)||[],ie=typeof fe.option_index=="number"?fe.option_index:0,Pe=Z[ie]!==void 0?Z[ie]:`Option #${ie+1}`,rt=fe.created_at?new Date(fe.created_at).toLocaleString():"Unknown time";return p.jsxs(Ct,{to:$t("Post",fe.post_id),className:"block border-2 border-black p-3 hover:bg-gray-50 transition-colors",children:[p.jsx("div",{"trae-inspector-start-line":"671","trae-inspector-start-column":"22","trae-inspector-end-line":"673","trae-inspector-end-column":"28","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-black text-sm mb-1",children:(be==null?void 0:be.title)||"Untitled post"}),p.jsxs("div",{"trae-inspector-start-line":"674","trae-inspector-start-column":"22","trae-inspector-end-line":"677","trae-inspector-end-column":"28","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-sm font-bold text-gray-700",children:["You voted for:"," ",p.jsx("span",{"trae-inspector-start-line":"676","trae-inspector-start-column":"24","trae-inspector-end-line":"676","trae-inspector-end-column":"73","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-black",children:Pe})]}),p.jsx("div",{"trae-inspector-start-line":"678","trae-inspector-start-column":"22","trae-inspector-end-line":"680","trae-inspector-end-column":"28","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-xs font-bold text-gray-500 mt-1",children:rt})]},fe.id)})})]}),p.jsxs("button",{"trae-inspector-start-line":"689","trae-inspector-start-column":"8","trae-inspector-end-line":"695","trae-inspector-end-column":"17","trae-inspector-file-path":"Pages/Profile.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:A,className:"w-full mt-6 p-4 bg-[#FF0000] text-white border-4 border-black font-black text-lg shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all flex items-center justify-center gap-2",children:[p.jsx(SF,{className:"w-6 h-6"}),"LOG OUT"]})]})})}function r_({images:n,isOpen:t,onClose:s,initialIndex:o=0}){const[l,c]=_.useState(o);if(!t)return null;const d=()=>{c(m=>(m+1)%n.length)},f=()=>{c(m=>(m-1+n.length)%n.length)};return p.jsxs("div",{"trae-inspector-start-line":"25","trae-inspector-start-column":"4","trae-inspector-end-line":"68","trae-inspector-end-column":"10","trae-inspector-file-path":"Components/ImageViewer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"fixed inset-0 bg-black z-50 flex items-center justify-center",children:[p.jsx("button",{"trae-inspector-start-line":"26","trae-inspector-start-column":"6","trae-inspector-end-line":"31","trae-inspector-end-column":"15","trae-inspector-file-path":"Components/ImageViewer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:s,className:"absolute top-4 right-4 z-50 bg-[#FF006E] text-white p-3 border-4 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]",children:p.jsx(Qi,{className:"w-6 h-6"})}),p.jsxs("div",{"trae-inspector-start-line":"33","trae-inspector-start-column":"6","trae-inspector-end-line":"67","trae-inspector-end-column":"12","trae-inspector-file-path":"Components/ImageViewer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"relative w-full h-full flex items-center justify-center",children:[p.jsx("img",{"trae-inspector-start-line":"34","trae-inspector-start-column":"8","trae-inspector-end-line":"38","trae-inspector-end-column":"10","trae-inspector-file-path":"Components/ImageViewer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",src:n[l],alt:`Image ${l+1}`,className:"max-w-full max-h-full object-contain border-8 border-black"}),n.length>1&&p.jsxs(p.Fragment,{children:[p.jsx("button",{"trae-inspector-start-line":"42","trae-inspector-start-column":"12","trae-inspector-end-line":"47","trae-inspector-end-column":"21","trae-inspector-file-path":"Components/ImageViewer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:f,className:"absolute left-4 bg-[#FFFF00] text-black p-4 border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-4px] hover:translate-y-[-4px] transition-transform",children:p.jsx(pF,{className:"w-8 h-8"})}),p.jsx("button",{"trae-inspector-start-line":"48","trae-inspector-start-column":"12","trae-inspector-end-line":"53","trae-inspector-end-column":"21","trae-inspector-file-path":"Components/ImageViewer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:d,className:"absolute right-4 bg-[#FFFF00] text-black p-4 border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[4px] hover:translate-y-[-4px] transition-transform",children:p.jsx(fF,{className:"w-8 h-8"})})]}),p.jsx("div",{"trae-inspector-start-line":"57","trae-inspector-start-column":"8","trae-inspector-end-line":"66","trae-inspector-end-column":"14","trae-inspector-file-path":"Components/ImageViewer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex gap-2",children:n.map((m,g)=>p.jsx("div",{"trae-inspector-start-line":"59","trae-inspector-start-column":"12","trae-inspector-end-line":"64","trae-inspector-end-column":"14","trae-inspector-file-path":"Components/ImageViewer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:`w-3 h-3 border-2 border-black ${g===l?"bg-[#FF006E]":"bg-white"}`},g))})]})]})}function Bh({post:n,onVote:t,hasVoted:s,userVote:o}){const[l,c]=_.useState(!1),d=async y=>{c(!0);try{await t(y)}finally{c(!1)}},f=["#FF006E","#0066FF","#FFFF00"],m=["text-white","text-white","text-black"],g=n.options||[],x=n.votes||[];return s?p.jsxs("div",{"trae-inspector-start-line":"32","trae-inspector-start-column":"6","trae-inspector-end-line":"65","trae-inspector-end-column":"12","trae-inspector-file-path":"Components/VoteInterface.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"space-y-4",children:[g.map((y,w)=>{const b=n.total_votes>0?Math.round(x[w]/n.total_votes*100):0;return p.jsxs("div",{"trae-inspector-start-line":"39","trae-inspector-start-column":"12","trae-inspector-end-line":"58","trae-inspector-end-column":"18","trae-inspector-file-path":"Components/VoteInterface.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"relative",children:[p.jsx("div",{"trae-inspector-start-line":"40","trae-inspector-start-column":"14","trae-inspector-end-line":"43","trae-inspector-end-column":"16","trae-inspector-file-path":"Components/VoteInterface.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"absolute inset-0 bg-black border-4 border-black opacity-20",style:{width:`${b}%`}}),p.jsxs("button",{"trae-inspector-start-line":"44","trae-inspector-start-column":"14","trae-inspector-end-line":"57","trae-inspector-end-column":"23","trae-inspector-file-path":"Components/VoteInterface.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:`relative w-full p-5 border-4 border-black font-black text-lg text-left shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] ${o===w?m[w]:""}`,style:o===w?{backgroundColor:f[w]}:{backgroundColor:"white"},children:[p.jsxs("div",{"trae-inspector-start-line":"50","trae-inspector-start-column":"16","trae-inspector-end-line":"53","trae-inspector-end-column":"22","trae-inspector-file-path":"Components/VoteInterface.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center justify-between",children:[p.jsx("span",{"trae-inspector-start-line":"51","trae-inspector-start-column":"18","trae-inspector-end-line":"51","trae-inspector-end-column":"63","trae-inspector-file-path":"Components/VoteInterface.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"break-words",children:y}),p.jsxs("span",{"trae-inspector-start-line":"52","trae-inspector-start-column":"18","trae-inspector-end-line":"52","trae-inspector-end-column":"78","trae-inspector-file-path":"Components/VoteInterface.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-black text-2xl ml-2",children:[b,"%"]})]}),o===w&&p.jsx(Ki,{className:"absolute top-3 right-3 w-6 h-6"})]})]},w)}),p.jsxs("div",{"trae-inspector-start-line":"62","trae-inspector-start-column":"8","trae-inspector-end-line":"64","trae-inspector-end-column":"14","trae-inspector-file-path":"Components/VoteInterface.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-center font-bold text-lg",children:[n.total_votes," vote",n.total_votes!==1?"s":""]})]}):p.jsx("div",{"trae-inspector-start-line":"70","trae-inspector-start-column":"4","trae-inspector-end-line":"82","trae-inspector-end-column":"10","trae-inspector-file-path":"Components/VoteInterface.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:`grid gap-4 ${g.length===2?"grid-cols-2":"grid-cols-3"}`,children:g.map((y,w)=>p.jsx("button",{"trae-inspector-start-line":"72","trae-inspector-start-column":"8","trae-inspector-end-line":"80","trae-inspector-end-column":"17","trae-inspector-file-path":"Components/VoteInterface.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>d(w),disabled:l,className:`p-5 border-4 border-black font-black text-lg shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-2px] hover:translate-y-[-2px] hover:shadow-[10px_10px_0px_0px_rgba(0,0,0,1)] transition-all disabled:opacity-50 break-words ${m[w]}`,style:{backgroundColor:f[w]},children:y},w))})}const n_=["Harassment or Bullying","Hate Speech","Violence/Threats","Self-Harm/Suicide","Nudity or Sexual Content","Spam or Scams","Intellectual Property Infringement","Impersonation","Privacy Violation","Graphic Content/Gore","Illegal Activity","Other"];function em({isOpen:n,onClose:t,onSubmit:s,itemType:o}){const[l,c]=_.useState(""),[d,f]=_.useState(""),[m,g]=_.useState(!1);if(!n)return null;const x=async y=>{y.preventDefault(),l&&(g(!0),await s(l,d),g(!1),c(""),f(""),t())};return p.jsx("div",{"trae-inspector-start-line":"46","trae-inspector-start-column":"4","trae-inspector-end-line":"123","trae-inspector-end-column":"10","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:p.jsx("div",{"trae-inspector-start-line":"47","trae-inspector-start-column":"6","trae-inspector-end-line":"122","trae-inspector-end-column":"12","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"w-full max-w-lg bg-white border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] max-h-[90vh] overflow-y-auto",children:p.jsxs("div",{"trae-inspector-start-line":"48","trae-inspector-start-column":"8","trae-inspector-end-line":"121","trae-inspector-end-column":"14","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"p-6",children:[p.jsxs("div",{"trae-inspector-start-line":"49","trae-inspector-start-column":"10","trae-inspector-end-line":"60","trae-inspector-end-column":"16","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{"trae-inspector-start-line":"50","trae-inspector-start-column":"12","trae-inspector-end-line":"53","trae-inspector-end-column":"18","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-3",children:[p.jsx(Yf,{className:"w-6 h-6 text-red-500"}),p.jsxs("h2",{"trae-inspector-start-line":"52","trae-inspector-start-column":"14","trae-inspector-end-line":"52","trae-inspector-end-column":"86","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-2xl font-black",children:["REPORT ",o.toUpperCase()]})]}),p.jsx("button",{"trae-inspector-start-line":"54","trae-inspector-start-column":"12","trae-inspector-end-line":"59","trae-inspector-end-column":"21","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:t,className:"p-2 bg-red-500 text-white border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:p.jsx(Qi,{className:"w-5 h-5"})})]}),p.jsxs("form",{"trae-inspector-start-line":"62","trae-inspector-start-column":"10","trae-inspector-end-line":"120","trae-inspector-end-column":"17","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onSubmit:x,className:"space-y-4",children:[p.jsxs("div",{"trae-inspector-start-line":"63","trae-inspector-start-column":"12","trae-inspector-end-line":"87","trae-inspector-end-column":"18","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("label",{"trae-inspector-start-line":"64","trae-inspector-start-column":"14","trae-inspector-end-line":"64","trae-inspector-end-column":"86","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22SELECT%20A%20REASON%22%2C%22textStartLine%22%3A%2264%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%2264%22%2C%22textEndColumn%22%3A%2278%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"block text-lg font-black mb-3",children:"SELECT A REASON"}),p.jsx("div",{"trae-inspector-start-line":"65","trae-inspector-start-column":"14","trae-inspector-end-line":"86","trae-inspector-end-column":"20","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"space-y-2 max-h-64 overflow-y-auto",children:n_.map(y=>p.jsxs("label",{"trae-inspector-start-line":"67","trae-inspector-start-column":"18","trae-inspector-end-line":"84","trae-inspector-end-column":"26","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:`block p-3 border-4 border-black cursor-pointer transition-all ${l===y?"bg-[#FF006E] text-white shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]":"bg-white hover:bg-gray-100"}`,children:[p.jsx("input",{"trae-inspector-start-line":"75","trae-inspector-start-column":"20","trae-inspector-end-line":"82","trae-inspector-end-column":"22","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"radio",name:"reason",value:y,checked:l===y,onChange:w=>c(w.target.value),className:"hidden"}),p.jsx("span",{"trae-inspector-start-line":"83","trae-inspector-start-column":"20","trae-inspector-end-line":"83","trae-inspector-end-column":"63","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold",children:y})]},y))})]}),p.jsxs("div",{"trae-inspector-start-line":"89","trae-inspector-start-column":"12","trae-inspector-end-line":"102","trae-inspector-end-column":"18","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("label",{"trae-inspector-start-line":"90","trae-inspector-start-column":"14","trae-inspector-end-line":"90","trae-inspector-end-column":"100","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22ADDITIONAL%20DETAILS%20(optional)%22%2C%22textStartLine%22%3A%2290%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%2290%22%2C%22textEndColumn%22%3A%2292%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"block text-lg font-black mb-2",children:"ADDITIONAL DETAILS (optional)"}),p.jsx("textarea",{"trae-inspector-start-line":"91","trae-inspector-start-column":"14","trae-inspector-end-line":"98","trae-inspector-end-column":"16","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",value:d,onChange:y=>f(y.target.value),placeholder:"Provide more context...",maxLength:500,className:"w-full p-3 border-4 border-black font-medium bg-white focus:outline-none focus:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] resize-none",rows:4}),p.jsxs("div",{"trae-inspector-start-line":"99","trae-inspector-start-column":"14","trae-inspector-end-line":"101","trae-inspector-end-column":"20","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-xs text-gray-400 font-bold mt-1",children:[d.length,"/500"]})]}),p.jsxs("div",{"trae-inspector-start-line":"104","trae-inspector-start-column":"12","trae-inspector-end-line":"119","trae-inspector-end-column":"18","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex gap-3",children:[p.jsx("button",{"trae-inspector-start-line":"105","trae-inspector-start-column":"14","trae-inspector-end-line":"111","trae-inspector-end-column":"23","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22CANCEL%22%2C%22textStartLine%22%3A%22109%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%22111%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:t,className:"flex-1 p-4 bg-white border-4 border-black font-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all",children:"CANCEL"}),p.jsx("button",{"trae-inspector-start-line":"112","trae-inspector-start-column":"14","trae-inspector-end-line":"118","trae-inspector-end-column":"23","trae-inspector-file-path":"Components/ReportModal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"submit",disabled:!l||m,className:"flex-1 p-4 bg-[#FF006E] text-white border-4 border-black font-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:m?"SUBMITTING...":"SUBMIT REPORT"})]})]})]})})})}const $h=["Anon Owl","Mystery Duck","Secret Cat","Hidden Bear","Ghost Fox","Shadow Deer","Ninja Panda","Stealth Wolf"];function s_({post:n}){const t=n.id,[s,o]=_.useState(""),[l,c]=_.useState(!1),[d,f]=_.useState(!1),[m,g]=_.useState(null),[x,y]=_.useState(""),[w,b]=_.useState(null),[E,j]=_.useState(null),[k,U]=_.useState(""),T=po(),P=En(),B=ar();_.useEffect(()=>{let Y=localStorage.getItem("validtot_anon_id");Y||(Y="anon_"+Math.random().toString(36).substring(2,15),localStorage.setItem("validtot_anon_id",Y)),y(Y),te.auth.getUser().then(({data:{user:ge}})=>{b(ge)})},[]);const{data:K=[]}=Bt({queryKey:["comments",t],queryFn:async()=>{const{data:Y,error:ge}=await te.from("comments").select("*").eq("post_id",t).order("created_at",{ascending:!1}).limit(50);if(ge)throw ge;return Y||[]},enabled:l}),W=qr({mutationFn:async({content:Y,userId:ge})=>{let Se=$h[Math.floor(Math.random()*$h.length)];const{data:Re}=await te.from("profiles").select("username").eq("id",ge).single();Re!=null&&Re.username&&(Se=Re.username);const{error:Ve}=await te.from("comments").insert({post_id:t,content:Y,anonymous_name:Se,user_id:ge});if(Ve)throw Ve;const{error:Le}=await te.from("posts").update({comment_count:(n.comment_count||0)+1}).eq("id",t);if(Le)throw Le},onSuccess:()=>{T.invalidateQueries({queryKey:["comments",t]}),T.invalidateQueries({queryKey:["posts"]}),o("")}}),V=qr({mutationFn:async({id:Y,content:ge})=>{const{error:Se}=await te.from("comments").update({content:ge}).eq("id",Y).eq("user_id",w==null?void 0:w.id);if(Se)throw Se},onSuccess:()=>{T.invalidateQueries({queryKey:["comments",t]}),j(null),U("")}}),X=qr({mutationFn:async Y=>{const{error:ge}=await te.from("comments").delete().eq("id",Y).eq("user_id",w==null?void 0:w.id);if(ge)throw ge;await te.from("posts").update({comment_count:Math.max((n.comment_count||1)-1,0)}).eq("id",t)},onSuccess:()=>{T.invalidateQueries({queryKey:["comments",t]}),T.invalidateQueries({queryKey:["posts"]})}}),ae=async Y=>{Y.preventDefault();const ge=s.trim();if(!ge||ge.length>140)return;const{data:{user:Se}}=await te.auth.getUser();if(!Se){P("/auth",{state:{from:B}});return}W.mutate({content:ge,userId:Se.id})},oe=async(Y,ge)=>{await te.from("reports").insert({reported_item_id:m,reported_item_type:"Comment",reason:Y,details:ge||"",reporter_anonymous_id:x,status:"Pending"}),alert("Report submitted. Thanks for keeping ValidToT safe!")};return p.jsxs("div",{"trae-inspector-start-line":"162","trae-inspector-start-column":"4","trae-inspector-end-line":"292","trae-inspector-end-column":"10","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mt-6",children:[p.jsxs("button",{"trae-inspector-start-line":"163","trae-inspector-start-column":"6","trae-inspector-end-line":"169","trae-inspector-end-column":"15","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>c(!l),className:"flex items-center gap-2 mb-4 p-3 bg-[#FFFF00] border-4 border-black font-bold shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all",children:[p.jsx(EF,{className:"w-5 h-5"}),n.comment_count||0," comment",(n.comment_count||0)!==1?"s":""]}),l&&p.jsxs("div",{"trae-inspector-start-line":"172","trae-inspector-start-column":"8","trae-inspector-end-line":"283","trae-inspector-end-column":"14","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"space-y-4",children:[p.jsxs("form",{"trae-inspector-start-line":"173","trae-inspector-start-column":"10","trae-inspector-end-line":"194","trae-inspector-end-column":"17","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onSubmit:ae,className:"space-y-2",children:[p.jsxs("div",{"trae-inspector-start-line":"174","trae-inspector-start-column":"12","trae-inspector-end-line":"190","trae-inspector-end-column":"18","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"relative",children:[p.jsx("input",{"trae-inspector-start-line":"175","trae-inspector-start-column":"14","trae-inspector-end-line":"182","trae-inspector-end-column":"16","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"text",value:s,onChange:Y=>o(Y.target.value),placeholder:"Say something...",className:"w-full p-3 pr-12 border-4 border-black font-bold focus:outline-none focus:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] transition-all",maxLength:140}),p.jsx("button",{"trae-inspector-start-line":"183","trae-inspector-start-column":"14","trae-inspector-end-line":"189","trae-inspector-end-column":"23","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"submit",disabled:!s.trim()||W.isPending,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1.5 hover:bg-gray-100 rounded disabled:opacity-50",children:p.jsx(TF,{className:"w-5 h-5"})})]}),p.jsxs("div",{"trae-inspector-start-line":"191","trae-inspector-start-column":"12","trae-inspector-end-line":"193","trae-inspector-end-column":"18","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-right text-xs font-bold text-gray-500",children:[s.length,"/140"]})]}),p.jsxs("div",{"trae-inspector-start-line":"196","trae-inspector-start-column":"10","trae-inspector-end-line":"282","trae-inspector-end-column":"16","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"space-y-3",children:[K.map(Y=>p.jsxs("div",{"trae-inspector-start-line":"198","trae-inspector-start-column":"14","trae-inspector-end-line":"274","trae-inspector-end-column":"20","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"bg-white border-4 border-black p-3 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[p.jsxs("div",{"trae-inspector-start-line":"199","trae-inspector-start-column":"16","trae-inspector-end-line":"237","trae-inspector-end-column":"22","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex justify-between items-start mb-1",children:[p.jsx("div",{"trae-inspector-start-line":"200","trae-inspector-start-column":"18","trae-inspector-end-line":"200","trae-inspector-end-column":"84","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-black text-sm",children:Y.anonymous_name}),p.jsxs("div",{"trae-inspector-start-line":"201","trae-inspector-start-column":"18","trae-inspector-end-line":"236","trae-inspector-end-column":"24","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-2",children:[w&&Y.user_id===w.id&&p.jsxs(p.Fragment,{children:[p.jsx("button",{"trae-inspector-start-line":"204","trae-inspector-start-column":"24","trae-inspector-end-line":"213","trae-inspector-end-column":"33","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>{j(Y.id),U(Y.content)},className:"text-gray-400 hover:text-blue-500",title:"Edit",children:p.jsx(DF,{className:"w-4 h-4"})}),p.jsx("button",{"trae-inspector-start-line":"214","trae-inspector-start-column":"24","trae-inspector-end-line":"224","trae-inspector-end-column":"33","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>{window.confirm("Are you sure you want to delete this comment?")&&X.mutate(Y.id)},className:"text-gray-400 hover:text-red-500",title:"Delete",children:p.jsx(Nu,{className:"w-4 h-4"})})]}),p.jsx("button",{"trae-inspector-start-line":"227","trae-inspector-start-column":"20","trae-inspector-end-line":"235","trae-inspector-end-column":"29","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>{g(Y.id),f(!0)},className:"text-gray-400 hover:text-red-500",children:p.jsx(_F,{className:"w-4 h-4"})})]})]}),E===Y.id?p.jsxs("div",{"trae-inspector-start-line":"240","trae-inspector-start-column":"18","trae-inspector-end-line":"267","trae-inspector-end-column":"24","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mt-2",children:[p.jsx("textarea",{"trae-inspector-start-line":"241","trae-inspector-start-column":"20","trae-inspector-end-line":"246","trae-inspector-end-column":"22","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",value:k,onChange:ge=>U(ge.target.value),className:"w-full p-2 border-2 border-black font-medium bg-white text-sm focus:outline-none focus:bg-[#FFFF00] transition-colors mb-2",rows:2}),p.jsxs("div",{"trae-inspector-start-line":"247","trae-inspector-start-column":"20","trae-inspector-end-line":"266","trae-inspector-end-column":"26","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex justify-end gap-2",children:[p.jsx("button",{"trae-inspector-start-line":"248","trae-inspector-start-column":"22","trae-inspector-end-line":"257","trae-inspector-end-column":"31","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>{j(null),U("")},className:"p-1 bg-gray-200 border-2 border-black hover:bg-gray-300",title:"Cancel",children:p.jsx(Qi,{className:"w-4 h-4"})}),p.jsx("button",{"trae-inspector-start-line":"258","trae-inspector-start-column":"22","trae-inspector-end-line":"265","trae-inspector-end-column":"31","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>V.mutate({id:Y.id,content:k}),className:"p-1 bg-[#FFFF00] border-2 border-black hover:bg-[#F0F000]",title:"Save",disabled:!k.trim(),children:p.jsx(Ki,{className:"w-4 h-4"})})]})]}):p.jsx("div",{"trae-inspector-start-line":"269","trae-inspector-start-column":"18","trae-inspector-end-line":"269","trae-inspector-end-column":"89","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold text-lg leading-snug",children:Y.content}),p.jsx("div",{"trae-inspector-start-line":"271","trae-inspector-start-column":"16","trae-inspector-end-line":"273","trae-inspector-end-column":"22","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mt-2 text-xs text-gray-500 font-bold",children:new Date(Y.created_at||Date.now()).toLocaleDateString()})]},Y.id)),K.length===0&&p.jsx("div",{"trae-inspector-start-line":"278","trae-inspector-start-column":"14","trae-inspector-end-line":"280","trae-inspector-end-column":"20","trae-inspector-file-path":"Components/CommentSection.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20comments%20yet.%20Be%20the%20first!%22%2C%22textStartLine%22%3A%22278%22%2C%22textStartColumn%22%3A%2272%22%2C%22textEndLine%22%3A%22280%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-center text-gray-500 font-bold py-4",children:"No comments yet. Be the first!"})]})]}),p.jsx(em,{isOpen:d,onClose:()=>f(!1),onSubmit:oe,itemType:"Comment"})]})}function a_({post:n}){var fe,be;const[t,s]=_.useState(!1),[o,l]=_.useState(0),[c,d]=_.useState(""),[f,m]=_.useState(!1),[g,x]=_.useState(null),[y,w]=_.useState(!1),[b,E]=_.useState(!n.is_private),[j,k]=_.useState(""),[U,T]=_.useState(!1),[P,B]=_.useState(null),[K,W]=_.useState(!1),[V,X]=_.useState(!1),[ae,oe]=_.useState(!1),Y=po(),ge=En(),Se=ar(),[Re,Ve]=_.useState(()=>new Date),Le=["#FF006E","#0066FF","#FFFF00"],je=["text-white","text-white","text-black"];_.useEffect(()=>{E(!n.is_private)},[n.id,n.is_private]),_.useEffect(()=>{const Z=setInterval(()=>{Ve(new Date)},1e3);return()=>{clearInterval(Z)}},[]),_.useEffect(()=>{let Z=!0;return(async()=>{let Pe=localStorage.getItem("validtot_anon_id");if(Pe||(Pe="anon_"+Math.random().toString(36).substring(2,15),localStorage.setItem("validtot_anon_id",Pe)),!Z)return;d(Pe);const rt=`vote_${n.id}`,We=localStorage.getItem(rt);if(We){if(!Z)return;m(!0),x(parseInt(We)),E(!0);return}try{const{data:{user:Xe}}=await te.auth.getUser();let Me=te.from("votes").select("option_index").eq("post_id",n.id);Xe?Me=Me.or(`user_id.eq.${Xe.id},anonymous_id.eq.${Pe}`):Me=Me.eq("anonymous_id",Pe);const{data:Dt,error:Mt}=await Me.maybeSingle();if(Mt){console.error("Error preloading vote:",Mt);return}if(Dt&&typeof Dt.option_index=="number"){const Qr=Dt.option_index;if(!Z)return;localStorage.setItem(rt,Qr.toString()),m(!0),x(Qr),E(!0)}}catch(Xe){console.error("Error preloading vote:",Xe)}})(),()=>{Z=!1}},[n.id]),_.useEffect(()=>{(async()=>{try{const{data:{user:ie}}=await te.auth.getUser();X(!!ie&&ie.id===n.created_by)}catch(ie){console.error("Error checking owner status:",ie),X(!1)}})()},[n.created_by]);const $=qr({mutationFn:async({optionIndex:Z,userId:ie})=>{var Qr,oa;const{data:Pe,error:rt}=await te.from("votes").select("id, option_index").eq("post_id",n.id).or(`user_id.eq.${ie},anonymous_id.eq.${c}`).maybeSingle();if(rt)throw console.error("Error checking existing vote:",rt),rt;if(Pe){const yr=Pe.option_index??0;return localStorage.setItem(`vote_${n.id}`,yr.toString()),m(!0),x(yr),alert("You have already voted on this post."),yr}const We=Array.isArray(n.votes)?[...n.votes]:new Array(((Qr=n.images)==null?void 0:Qr.length)||((oa=n.options)==null?void 0:oa.length)||2).fill(0);for(;We.length<=Z;)We.push(0);We[Z]=(We[Z]||0)+1;const Xe=(n.total_votes||0)+1,{error:Me}=await te.from("votes").insert({post_id:n.id,option_index:Z,anonymous_id:c,user_id:ie});if(Me){if(console.error("Error recording vote:",Me),Me.code==="23505"){const{data:yr,error:is}=await te.from("votes").select("option_index").eq("post_id",n.id).or(`user_id.eq.${ie},anonymous_id.eq.${c}`).maybeSingle();if(!is&&yr){const ls=yr.option_index??0;return localStorage.setItem(`vote_${n.id}`,ls.toString()),m(!0),x(ls),alert("You have already voted on this post."),ls}}throw Me}const{data:Dt,error:Mt}=await te.from("posts").update({votes:We,total_votes:Xe}).eq("id",n.id).select().single();if(Mt)throw console.error("Error updating post stats:",Mt),Mt;if(!Dt)throw new Error("Post update failed - check permissions");return Z},onError:Z=>{console.error("Vote failed:",Z),alert("Failed to submit vote. Please try again.")},onSuccess:Z=>{localStorage.setItem(`vote_${n.id}`,Z.toString()),m(!0),x(Z),E(!0),Y.invalidateQueries({queryKey:["posts"]})}}),re=()=>{const Z=`${window.location.origin}${$t("Feed")}?postId=${n.id}`,ie=`${n.title}

${Z}`;navigator.share?navigator.share({title:n.title,text:ie}):(navigator.clipboard.writeText(ie),alert("Link copied!"))},G=async(Z,ie)=>{await te.from("reports").insert({reported_item_id:n.id,reported_item_type:"Post",reason:Z,details:ie||"",reporter_anonymous_id:c,status:"Pending"}),alert("Report submitted. Thanks for keeping ValidToT safe!")},A=async()=>{if(!(ae||!window.confirm("Are you sure you want to delete this post?"))){oe(!0);try{const{data:{user:ie}}=await te.auth.getUser();if(!ie||ie.id!==n.created_by){alert("You can only delete posts you created.");return}const{error:Pe}=await te.from("posts").update({is_hidden:!0}).eq("id",n.id);if(Pe){console.error("Error deleting post:",Pe),alert("Failed to delete post. Please try again.");return}W(!1),Y.invalidateQueries({queryKey:["posts"]}),alert("Post deleted.")}catch(ie){console.error("Error deleting post:",ie),alert("Failed to delete post. Please try again.")}finally{oe(!1)}}},O=n.voting_starts_at?new Date(n.voting_starts_at):null,J=n.voting_ends_at?new Date(n.voting_ends_at):null;let se="always_active";(O||J)&&(O&&Re<O?se="countdown":J&&Re>J?se="closed":se="active");const ye=se==="countdown",Ae=se==="closed",L=se==="active"||se==="always_active",M=()=>{if(!O)return"";const Z=O.getTime()-Re.getTime();if(Z<=0)return"00:00:00";const ie=Math.floor(Z/1e3),Pe=Math.floor(ie/86400),rt=Math.floor(ie%86400/3600),We=Math.floor(ie%3600/60),Xe=ie%60,Me=Mt=>Mt.toString().padStart(2,"0"),Dt=`${Me(rt)}:${Me(We)}:${Me(Xe)}`;return Pe>0?`${Pe}d ${Dt}`:Dt},ue=()=>{if(!J)return"";const Z=J.getTime()-Re.getTime();if(Z<=0)return"00:00:00";const ie=Math.floor(Z/1e3),Pe=Math.floor(ie/86400),rt=Math.floor(ie%86400/3600),We=Math.floor(ie%3600/60),Xe=ie%60,Me=Mt=>Mt.toString().padStart(2,"0"),Dt=`${Me(rt)}:${Me(We)}:${Me(Xe)}`;return Pe>0?`${Pe}d ${Dt}`:Dt},Ce=async Z=>{if(!L){alert("Voting is not active for this campaign.");return}const{data:{user:ie}}=await te.auth.getUser();if(!ie){ge("/auth",{state:{from:Se}});return}window.confirm("Are you sure? You can't change your vote after this.")&&await $.mutateAsync({optionIndex:Z,userId:ie.id})},Qe=async()=>{if(!j.trim()){B("Enter the access code for this post.");return}T(!0),B(null);try{if(!await rF(n.id,j.trim())){B("Incorrect access code. Try again.");return}E(!0),k("")}catch(Z){B(Z.message||"Failed to check access code.")}finally{T(!1)}},it=!!n.is_private&&!b;return p.jsxs("div",{"trae-inspector-start-line":"381","trae-inspector-start-column":"4","trae-inspector-end-line":"580","trae-inspector-end-column":"12","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"w-full bg-[#F5F5F5]",children:[p.jsxs("div",{"trae-inspector-start-line":"382","trae-inspector-start-column":"6","trae-inspector-end-line":"565","trae-inspector-end-column":"12","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"max-w-2xl mx-auto p-4 pb-8 pt-4",children:[p.jsxs("div",{"trae-inspector-start-line":"384","trae-inspector-start-column":"8","trae-inspector-end-line":"427","trae-inspector-end-column":"14","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{"trae-inspector-start-line":"385","trae-inspector-start-column":"10","trae-inspector-end-line":"395","trae-inspector-end-column":"16","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:[p.jsx("h1",{"trae-inspector-start-line":"386","trae-inspector-start-column":"12","trae-inspector-end-line":"388","trae-inspector-end-column":"17","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-3xl font-black leading-tight pr-4 transform -rotate-1",children:n.title}),it&&p.jsxs("div",{"trae-inspector-start-line":"390","trae-inspector-start-column":"14","trae-inspector-end-line":"393","trae-inspector-end-column":"20","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mt-2 inline-flex items-center gap-2 px-3 py-1 bg-black text-[#FFFF00] border-4 border-black font-black text-xs",children:[p.jsx(Oh,{className:"w-4 h-4"}),p.jsx("span",{"trae-inspector-start-line":"392","trae-inspector-start-column":"16","trae-inspector-end-line":"392","trae-inspector-end-column":"60","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Private%20post%20%E2%80%A2%20locked%20with%20code%22%2C%22textStartLine%22%3A%22392%22%2C%22textStartColumn%22%3A%2222%22%2C%22textEndLine%22%3A%22392%22%2C%22textEndColumn%22%3A%2253%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:"Private post  locked with code"})]})]}),p.jsxs("div",{"trae-inspector-start-line":"396","trae-inspector-start-column":"10","trae-inspector-end-line":"426","trae-inspector-end-column":"16","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"relative",children:[p.jsx("button",{"trae-inspector-start-line":"397","trae-inspector-start-column":"12","trae-inspector-end-line":"402","trae-inspector-end-column":"21","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>W(Z=>!Z),className:"p-2 bg-white border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:p.jsx(vF,{className:"w-5 h-5"})}),K&&p.jsx("div",{"trae-inspector-start-line":"404","trae-inspector-start-column":"14","trae-inspector-end-line":"424","trae-inspector-end-column":"20","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"absolute right-0 mt-2 w-40 bg-white border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] z-50",children:V?p.jsx("button",{"trae-inspector-start-line":"406","trae-inspector-start-column":"18","trae-inspector-end-line":"412","trae-inspector-end-column":"27","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Delete%22%2C%22textStartLine%22%3A%22410%22%2C%22textStartColumn%22%3A%2219%22%2C%22textEndLine%22%3A%22412%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:A,disabled:ae,className:"w-full px-3 py-2 text-left font-black text-sm text-red-600 hover:bg-[#F5F5F5] disabled:opacity-50",children:"Delete"}):p.jsx("button",{"trae-inspector-start-line":"414","trae-inspector-start-column":"18","trae-inspector-end-line":"422","trae-inspector-end-column":"27","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Report%22%2C%22textStartLine%22%3A%22420%22%2C%22textStartColumn%22%3A%2219%22%2C%22textEndLine%22%3A%22422%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>{W(!1),w(!0)},className:"w-full px-3 py-2 text-left font-black text-sm hover:bg-[#F5F5F5]",children:"Report"})})]})]}),p.jsx("div",{"trae-inspector-start-line":"430","trae-inspector-start-column":"8","trae-inspector-end-line":"479","trae-inspector-end-column":"14","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:`grid gap-3 mb-6 ${(((fe=n.images)==null?void 0:fe.length)||0)===1?"grid-cols-1":((((be=n.images)==null?void 0:be.length)||0)===2,"grid-cols-2")}`,children:(n.images||[]).map((Z,ie)=>{var Me;const Pe=Le[ie%Le.length],rt=je[ie%je.length],We=String.fromCharCode(65+ie),Xe=f&&g===ie;return p.jsxs("div",{"trae-inspector-start-line":"441","trae-inspector-start-column":"14","trae-inspector-end-line":"476","trae-inspector-end-column":"20","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>{l(ie),s(!0)},className:`relative cursor-pointer group ${(((Me=n.images)==null?void 0:Me.length)||0)===3&&ie===0?"col-span-2":""}`,children:[p.jsx("img",{"trae-inspector-start-line":"451","trae-inspector-start-column":"16","trae-inspector-end-line":"457","trae-inspector-end-column":"18","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",src:Z,alt:`Post image ${ie+1}`,className:`w-full h-64 object-cover border-4 shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] ${Xe?"border-[#00FF00] border-8":"border-black"} ${it?"opacity-75":""}`}),p.jsx("div",{"trae-inspector-start-line":"458","trae-inspector-start-column":"16","trae-inspector-end-line":"461","trae-inspector-end-column":"18","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"absolute inset-0 z-10 opacity-30 mix-blend-multiply pointer-events-none",style:{backgroundColor:Pe}}),p.jsxs("div",{"trae-inspector-start-line":"462","trae-inspector-start-column":"16","trae-inspector-end-line":"467","trae-inspector-end-column":"22","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:`absolute top-2 left-2 z-30 px-3 py-1 border-4 border-black font-black text-xs md:text-sm ${rt}`,style:{backgroundColor:Pe},children:["Option ",We]}),Xe&&p.jsx("div",{"trae-inspector-start-line":"469","trae-inspector-start-column":"18","trae-inspector-end-line":"471","trae-inspector-end-column":"24","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"absolute top-2 right-2 z-30 bg-[#00FF00] border-4 border-black p-2 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:p.jsx(Ki,{className:"w-6 h-6 text-black"})}),p.jsx("div",{"trae-inspector-start-line":"473","trae-inspector-start-column":"16","trae-inspector-end-line":"475","trae-inspector-end-column":"22","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"absolute inset-0 z-20 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center",children:p.jsx(Ya,{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},ie)})}),ye&&p.jsxs("div",{"trae-inspector-start-line":"482","trae-inspector-start-column":"10","trae-inspector-end-line":"484","trae-inspector-end-column":"16","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mb-4 p-3 bg-white border-4 border-black font-black text-center",children:["Voting opens in ",M()]}),L&&J&&p.jsxs("div",{"trae-inspector-start-line":"488","trae-inspector-start-column":"10","trae-inspector-end-line":"490","trae-inspector-end-column":"16","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mb-4 p-3 bg-white border-4 border-black font-black text-center",children:["Voting closes in ",ue()]}),L&&!it&&!f&&p.jsxs("div",{"trae-inspector-start-line":"494","trae-inspector-start-column":"10","trae-inspector-end-line":"496","trae-inspector-end-column":"16","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mb-4 p-3 bg-white border-4 border-black font-bold text-center",children:[`${n.total_votes||0} vote${(n.total_votes||0)!==1?"s":""}`,"  ",n.comment_count||0," comment",(n.comment_count||0)!==1?"s":""]}),L&&!it&&!f&&p.jsx("div",{"trae-inspector-start-line":"500","trae-inspector-start-column":"10","trae-inspector-end-line":"502","trae-inspector-end-column":"16","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Vote%20once%20to%20unlock%20live%20results.%20Your%20vote%20cannot%20be%20changed.%22%2C%22textStartLine%22%3A%22500%22%2C%22textStartColumn%22%3A%22126%22%2C%22textEndLine%22%3A%22502%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mb-4 p-3 bg-black text-[#FFFF00] border-4 border-black font-black text-center text-sm md:text-base",children:"Vote once to unlock live results. Your vote cannot be changed."}),Ae&&p.jsx("div",{"trae-inspector-start-line":"506","trae-inspector-start-column":"10","trae-inspector-end-line":"508","trae-inspector-end-column":"16","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Voting%20closed%22%2C%22textStartLine%22%3A%22506%22%2C%22textStartColumn%22%3A%2290%22%2C%22textEndLine%22%3A%22508%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mb-4 p-3 bg-white border-4 border-black font-black text-center",children:"Voting closed"}),ye?null:Ae?p.jsx(Bh,{post:n,onVote:async()=>{},hasVoted:!0,userVote:g}):it?p.jsxs("div",{"trae-inspector-start-line":"519","trae-inspector-start-column":"10","trae-inspector-end-line":"543","trae-inspector-end-column":"16","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mb-4 p-3 bg-white border-4 border-black",children:[P&&p.jsx("div",{"trae-inspector-start-line":"521","trae-inspector-start-column":"14","trae-inspector-end-line":"523","trae-inspector-end-column":"20","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"mb-2 text-xs font-bold text-red-600",children:P}),p.jsxs("div",{"trae-inspector-start-line":"525","trae-inspector-start-column":"12","trae-inspector-end-line":"542","trae-inspector-end-column":"18","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex flex-col sm:flex-row gap-2",children:[p.jsx("input",{"trae-inspector-start-line":"526","trae-inspector-start-column":"14","trae-inspector-end-line":"532","trae-inspector-end-column":"16","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"text",value:j,onChange:Z=>k(Z.target.value.toUpperCase()),className:"flex-1 p-3 border-4 border-black font-bold uppercase bg-[#F5F5F5] focus:outline-none focus:bg-[#FFFF00] transition-colors",placeholder:"Enter access code"}),p.jsxs("button",{"trae-inspector-start-line":"533","trae-inspector-start-column":"14","trae-inspector-end-line":"541","trae-inspector-end-column":"23","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"button",onClick:Qe,disabled:U,className:"px-4 py-3 bg-black text-[#FFFF00] border-4 border-black font-black text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[p.jsx(Oh,{className:"w-4 h-4"}),U?"Checking...":"Unlock"]})]})]}):p.jsx(Bh,{post:n,onVote:Ce,hasVoted:f,userVote:g}),p.jsxs("button",{"trae-inspector-start-line":"554","trae-inspector-start-column":"8","trae-inspector-end-line":"560","trae-inspector-end-column":"17","trae-inspector-file-path":"Components/PostCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:re,className:"w-full mt-4 p-4 bg-[#FFFF00] border-4 border-black font-black text-lg flex items-center justify-center gap-2 shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all",children:[p.jsx(OF,{className:"w-5 h-5"}),"SHARE"]}),f&&!it&&p.jsx(s_,{post:n})]}),p.jsx(r_,{images:n.images,isOpen:t,onClose:()=>s(!1),initialIndex:o}),p.jsx(em,{isOpen:y,onClose:()=>w(!1),onSubmit:G,itemType:"Post"})]})}function o_({searchQuery:n,setSearchQuery:t,sortBy:s,setSortBy:o}){return p.jsxs("div",{"trae-inspector-start-line":"6","trae-inspector-start-column":"4","trae-inspector-end-line":"44","trae-inspector-end-column":"10","trae-inspector-file-path":"Components/SearchFilters.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"bg-white border-4 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] p-4 mb-4",children:[p.jsxs("div",{"trae-inspector-start-line":"8","trae-inspector-start-column":"6","trae-inspector-end-line":"17","trae-inspector-end-column":"12","trae-inspector-file-path":"Components/SearchFilters.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"relative mb-3",children:[p.jsx(Jf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5"}),p.jsx("input",{"trae-inspector-start-line":"10","trae-inspector-start-column":"8","trae-inspector-end-line":"16","trae-inspector-end-column":"10","trae-inspector-file-path":"Components/SearchFilters.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",type:"text",value:n,onChange:l=>t(l.target.value),placeholder:"Search posts...",className:"w-full pl-12 pr-4 py-3 border-4 border-black font-bold bg-[#F5F5F5] focus:outline-none focus:bg-[#FFFF00] transition-colors"})]}),p.jsxs("div",{"trae-inspector-start-line":"20","trae-inspector-start-column":"6","trae-inspector-end-line":"43","trae-inspector-end-column":"12","trae-inspector-file-path":"Components/SearchFilters.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex gap-2",children:[p.jsxs("button",{"trae-inspector-start-line":"21","trae-inspector-start-column":"8","trae-inspector-end-line":"31","trae-inspector-end-column":"17","trae-inspector-file-path":"Components/SearchFilters.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>o("recent"),className:`flex-1 py-2 px-4 border-4 border-black font-bold text-sm flex items-center justify-center gap-2 transition-all ${s==="recent"?"bg-[#FF006E] text-white shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]":"bg-white hover:bg-[#F5F5F5]"}`,children:[p.jsx(Du,{className:"w-4 h-4"}),"RECENT"]}),p.jsxs("button",{"trae-inspector-start-line":"32","trae-inspector-start-column":"8","trae-inspector-end-line":"42","trae-inspector-end-column":"17","trae-inspector-file-path":"Components/SearchFilters.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>o("popular"),className:`flex-1 py-2 px-4 border-4 border-black font-bold text-sm flex items-center justify-center gap-2 transition-all ${s==="popular"?"bg-[#FF006E] text-white shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]":"bg-white hover:bg-[#F5F5F5]"}`,children:[p.jsx($F,{className:"w-4 h-4"}),"POPULAR"]})]})]})}function i_(){const n=_.useRef(null),t=_.useRef(null),[s,o]=_.useState(0),[l,c]=_.useState(!1),[d,f]=_.useState(""),[m,g]=_.useState("recent"),[x,y]=_.useState(!1),{data:w=[],isLoading:b,isFetching:E,refetch:j}=Bt({queryKey:["posts"],queryFn:async()=>{const{data:V,error:X}=await te.from("posts").select("*").order("created_at",{ascending:!1}).limit(50);if(X)throw console.error("Error fetching posts:",X),X;return V||[]}});_.useEffect(()=>{const X=new URLSearchParams(window.location.search).get("postId");X&&n.current&&setTimeout(()=>{const ae=document.getElementById(`post-${X}`);ae&&ae.scrollIntoView({behavior:"smooth",block:"center"})},300)},[w]);const k=w.filter(V=>!V.is_hidden&&V.type==="comparison"),U=k.filter(V=>{var Y,ge;if(!d)return!0;const X=d.toLowerCase(),ae=(Y=V.title)==null?void 0:Y.toLowerCase().includes(X),oe=(ge=V.options)==null?void 0:ge.some(Se=>Se.toLowerCase().includes(X));return ae||oe}).sort((V,X)=>m==="popular"?(X.total_votes||0)-(V.total_votes||0):0);_.useEffect(()=>{n.current&&n.current.scrollTo({top:0})},[]);const T=V=>{n.current&&n.current.scrollTop===0&&(t.current=V.touches[0].clientY,c(!0))},P=V=>{if(!l||t.current===null)return;const ae=V.touches[0].clientY-t.current;ae>0?o(Math.min(ae,120)):o(0)},B=()=>{s>=60&&j(),c(!1),o(0),t.current=null};if(b)return p.jsx(Mi,{mainText:"Instant polling & voting. Loading the latest posts"});const K=k.length===0,W=!K&&U.length===0;return K?p.jsx("div",{"trae-inspector-start-line":"117","trae-inspector-start-column":"6","trae-inspector-end-line":"134","trae-inspector-end-column":"12","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"h-screen w-full flex items-center justify-center bg-[#F5F5F5] p-4",children:p.jsxs("div",{"trae-inspector-start-line":"118","trae-inspector-start-column":"8","trae-inspector-end-line":"133","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-center max-w-md",children:[p.jsx("div",{"trae-inspector-start-line":"119","trae-inspector-start-column":"10","trae-inspector-end-line":"119","trae-inspector-end-column":"86","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22ValidToT%22%2C%22textStartLine%22%3A%22119%22%2C%22textStartColumn%22%3A%2272%22%2C%22textEndLine%22%3A%22119%22%2C%22textEndColumn%22%3A%2280%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-6xl font-black mb-4 transform -rotate-2",children:"ValidToT"}),p.jsx("div",{"trae-inspector-start-line":"120","trae-inspector-start-column":"10","trae-inspector-end-line":"120","trae-inspector-end-column":"97","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20posts%20yet!%20Be%20the%20first%20to%20create%20one.%22%2C%22textStartLine%22%3A%22120%22%2C%22textStartColumn%22%3A%2250%22%2C%22textEndLine%22%3A%22120%22%2C%22textEndColumn%22%3A%2291%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-xl font-bold mb-4",children:"No posts yet! Be the first to create one."}),p.jsxs("ul",{"trae-inspector-start-line":"121","trae-inspector-start-column":"10","trae-inspector-end-line":"125","trae-inspector-end-column":"15","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-left text-sm font-bold text-gray-800 mb-8 space-y-2",children:[p.jsx("li",{"trae-inspector-start-line":"122","trae-inspector-start-column":"12","trae-inspector-end-line":"122","trae-inspector-end-column":"91","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%80%A2%20Get%20instant%2C%20honest%20votes%20so%20you%20can%20make%20decisions%20with%20confidence.%22%2C%22textStartLine%22%3A%22122%22%2C%22textStartColumn%22%3A%2216%22%2C%22textEndLine%22%3A%22122%22%2C%22textEndColumn%22%3A%2286%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:" Get instant, honest votes so you can make decisions with confidence."}),p.jsx("li",{"trae-inspector-start-line":"123","trae-inspector-start-column":"12","trae-inspector-end-line":"123","trae-inspector-end-column":"88","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%80%A2%20Cut%20through%20endless%20group%20chats%20and%20see%20clear%20results%20in%20seconds.%22%2C%22textStartLine%22%3A%22123%22%2C%22textStartColumn%22%3A%2216%22%2C%22textEndLine%22%3A%22123%22%2C%22textEndColumn%22%3A%2283%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:" Cut through endless group chats and see clear results in seconds."}),p.jsx("li",{"trae-inspector-start-line":"124","trae-inspector-start-column":"12","trae-inspector-end-line":"124","trae-inspector-end-column":"88","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%80%A2%20Turn%20any%20choice%20into%20a%20fun%20game%20your%20friends%20actually%20respond%20to.%22%2C%22textStartLine%22%3A%22124%22%2C%22textStartColumn%22%3A%2216%22%2C%22textEndLine%22%3A%22124%22%2C%22textEndColumn%22%3A%2283%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",children:" Turn any choice into a fun game your friends actually respond to."})]}),p.jsxs(Ct,{to:$t("CreatePost"),className:"inline-flex items-center gap-2 px-8 py-4 bg-[#FF006E] text-white border-4 border-black font-black text-xl shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all",children:[p.jsx(Lh,{className:"w-6 h-6"}),"CREATE POST"]})]})}):p.jsxs("div",{"trae-inspector-start-line":"139","trae-inspector-start-column":"4","trae-inspector-end-line":"229","trae-inspector-end-column":"10","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"relative h-screen overflow-hidden bg-[#F5F5F5]",children:[p.jsxs("div",{"trae-inspector-start-line":"141","trae-inspector-start-column":"6","trae-inspector-end-line":"173","trae-inspector-end-column":"12","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"fixed top-0 left-0 right-0 z-10 flex items-center justify-between p-2 bg-[#F5F5F5]",children:[p.jsx(Ct,{to:$t("Feed"),className:"cursor-pointer",children:p.jsx("div",{"trae-inspector-start-line":"146","trae-inspector-start-column":"10","trae-inspector-end-line":"148","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22ValidToT%22%2C%22textStartLine%22%3A%22146%22%2C%22textStartColumn%22%3A%22217%22%2C%22textEndLine%22%3A%22148%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-xl font-black bg-[#FFFF00] px-3 py-1.5 border-3 border-black shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] transform -rotate-2 hover:translate-x-[-1px] hover:translate-y-[-1px] transition-all",children:"ValidToT"})}),p.jsxs("div",{"trae-inspector-start-line":"151","trae-inspector-start-column":"8","trae-inspector-end-line":"172","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center gap-2",children:[p.jsx("button",{"trae-inspector-start-line":"152","trae-inspector-start-column":"10","trae-inspector-end-line":"157","trae-inspector-end-column":"19","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>y(!x),className:"p-2.5 bg-[#0066FF] text-white border-3 border-black shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-1px] hover:translate-y-[-1px] transition-all",children:p.jsx(Jf,{className:"w-5 h-5"})}),p.jsx(Ct,{to:$t("CreatePost"),className:"p-2.5 bg-[#00FF00] border-3 border-black shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-1px] hover:translate-y-[-1px] transition-all",children:p.jsx(Lh,{className:"w-5 h-5"})}),p.jsx(Ct,{to:$t("Profile"),className:"p-2.5 bg-white border-3 border-black shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-1px] hover:translate-y-[-1px] transition-all",children:p.jsx(Xf,{className:"w-5 h-5"})})]})]}),p.jsxs("div",{"trae-inspector-start-line":"176","trae-inspector-start-column":"6","trae-inspector-end-line":"228","trae-inspector-end-column":"12","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",ref:n,className:"h-full overflow-y-scroll",style:{scrollBehavior:"smooth"},onTouchStart:T,onTouchMove:P,onTouchEnd:B,children:[p.jsx("div",{"trae-inspector-start-line":"184","trae-inspector-start-column":"8","trae-inspector-end-line":"199","trae-inspector-end-column":"14","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"flex items-center justify-center text-xs font-bold text-gray-600",style:{height:s>0||E?40:0,opacity:s>0||E?1:0,transition:"height 0.15s ease, opacity 0.15s ease"},children:E?"Refreshing feed":s>60?"Release to refresh":s>0?"Pull to refresh":null}),x&&p.jsx("div",{"trae-inspector-start-line":"202","trae-inspector-start-column":"10","trae-inspector-end-line":"209","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"sticky top-14 z-10 max-w-2xl mx-auto px-4 pt-2",children:p.jsx(o_,{searchQuery:d,setSearchQuery:f,sortBy:m,setSortBy:g})}),W?p.jsx("div",{"trae-inspector-start-line":"213","trae-inspector-start-column":"10","trae-inspector-end-line":"218","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"h-screen flex items-center justify-center px-4",children:p.jsxs("div",{"trae-inspector-start-line":"214","trae-inspector-start-column":"12","trae-inspector-end-line":"217","trae-inspector-end-column":"18","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-center max-w-md",children:[p.jsx("div",{"trae-inspector-start-line":"215","trae-inspector-start-column":"14","trae-inspector-end-line":"215","trae-inspector-end-column":"72","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20Results%22%2C%22textStartLine%22%3A%22215%22%2C%22textStartColumn%22%3A%2256%22%2C%22textEndLine%22%3A%22215%22%2C%22textEndColumn%22%3A%2266%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-4xl font-black mb-4",children:"No Results"}),p.jsx("p",{"trae-inspector-start-line":"216","trae-inspector-start-column":"14","trae-inspector-end-line":"216","trae-inspector-end-column":"78","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Try%20a%20different%20search%20term%22%2C%22textStartLine%22%3A%22216%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22216%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-lg font-bold",children:"Try a different search term"})]})}):p.jsx("div",{"trae-inspector-start-line":"220","trae-inspector-start-column":"10","trae-inspector-end-line":"226","trae-inspector-end-column":"16","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"space-y-4 pb-4 pt-16",children:U.map(V=>p.jsx("div",{"trae-inspector-start-line":"222","trae-inspector-start-column":"14","trae-inspector-end-line":"224","trae-inspector-end-column":"20","trae-inspector-file-path":"Pages/Feed.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",id:`post-${V.id}`,children:p.jsx(a_,{post:V})},V.id))})]})]})}function ru({children:n}){const[t,s]=_.useState(null),[o,l]=_.useState(!0),c=ar();return _.useEffect(()=>{te.auth.getUser().then(({data:{user:d}})=>{s(d),l(!1)})},[]),o?p.jsx("div",{"trae-inspector-start-line":"22","trae-inspector-start-column":"22","trae-inspector-end-line":"22","trae-inspector-end-column":"108","trae-inspector-file-path":"src/App.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Loading...%22%2C%22textStartLine%22%3A%2222%22%2C%22textStartColumn%22%3A%2292%22%2C%22textEndLine%22%3A%2222%22%2C%22textEndColumn%22%3A%22102%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"h-screen flex items-center justify-center font-black",children:"Loading..."}):t?p.jsx(p.Fragment,{children:n}):p.jsx(Cf,{to:"/auth",state:{from:c},replace:!0})}function l_(){const[n,t]=_.useState(null),[s,o]=_.useState(!0),[l,c]=_.useState(null);return _.useEffect(()=>{(async()=>{const{data:{user:m}}=await te.auth.getUser();t(m),o(!1)})();const{data:{subscription:f}}=te.auth.onAuthStateChange((m,g)=>{t((g==null?void 0:g.user)??null)});return()=>{f.unsubscribe()}},[]),_.useEffect(()=>{(async()=>{if(n)try{const f=await tF(n);f!=null&&f.is_banned?(c("Your account has been banned due to policy violations."),await te.auth.signOut(),t(null)):c(null)}catch(f){console.error("Error syncing profile:",f)}})()},[n]),s?p.jsx("div",{"trae-inspector-start-line":"83","trae-inspector-start-column":"6","trae-inspector-end-line":"85","trae-inspector-end-column":"12","trae-inspector-file-path":"src/App.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"min-h-screen flex items-center justify-center bg-[#F5F5F5]",children:p.jsx("div",{"trae-inspector-start-line":"84","trae-inspector-start-column":"8","trae-inspector-end-line":"84","trae-inspector-end-column":"84","trae-inspector-file-path":"src/App.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Loading%20ValidToT...%22%2C%22textStartLine%22%3A%2284%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%2284%22%2C%22textEndColumn%22%3A%2278%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-2xl font-black animate-pulse",children:"Loading ValidToT..."})}):l?p.jsx("div",{"trae-inspector-start-line":"91","trae-inspector-start-column":"6","trae-inspector-end-line":"102","trae-inspector-end-column":"12","trae-inspector-file-path":"src/App.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:p.jsxs("div",{"trae-inspector-start-line":"92","trae-inspector-start-column":"8","trae-inspector-end-line":"101","trae-inspector-end-column":"14","trae-inspector-file-path":"src/App.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"max-w-md w-full bg-white border-4 border-black p-8 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] text-center",children:[p.jsx("div",{"trae-inspector-start-line":"93","trae-inspector-start-column":"10","trae-inspector-end-line":"93","trae-inspector-end-column":"77","trae-inspector-file-path":"src/App.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22BANNED%22%2C%22textStartLine%22%3A%2293%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%2293%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"text-6xl font-black text-red-600 mb-4",children:"BANNED"}),p.jsx("p",{"trae-inspector-start-line":"94","trae-inspector-start-column":"10","trae-inspector-end-line":"94","trae-inspector-end-column":"67","trae-inspector-file-path":"src/App.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",className:"font-bold text-xl mb-6",children:l}),p.jsx("button",{"trae-inspector-start-line":"95","trae-inspector-start-column":"10","trae-inspector-end-line":"100","trae-inspector-end-column":"19","trae-inspector-file-path":"src/App.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22I%20Understand%22%2C%22textStartLine%22%3A%2298%22%2C%22textStartColumn%22%3A%2211%22%2C%22textEndLine%22%3A%22100%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22%2FUsers%2Falexander%2FDocuments%2Ftrae_projects%2Famahoro-validtot%22%7D",onClick:()=>c(null),className:"px-6 py-3 bg-black text-white font-black border-2 border-transparent hover:bg-gray-800 transition-colors",children:"I Understand"})]})}):p.jsx(ly,{children:p.jsxs(Ix,{children:[p.jsx(Vn,{path:"/",element:p.jsx(i_,{})}),p.jsx(Vn,{path:"/auth",element:p.jsx(e_,{})}),p.jsx(Vn,{path:"/create-post",element:p.jsx(ru,{children:p.jsx(YF,{})})}),p.jsx(Vn,{path:"/admin",element:p.jsx(ru,{children:p.jsx(ZF,{})})}),p.jsx(Vn,{path:"/profile",element:p.jsx(ru,{children:p.jsx(t_,{})})}),p.jsx(Vn,{path:"*",element:p.jsx(Cf,{to:"/",replace:!0})})]})})}const c_=new jv;av.createRoot(document.getElementById("root")).render(p.jsx(_.StrictMode,{children:p.jsx(Dv,{client:c_,children:p.jsx(l_,{})})}));
